(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();const ie={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Dl(this.context.count)},getNextContextId(){return Dl(this.context.count++)}};function Dl(n){const t=String(n),r=t.length-1;return ie.context.id+(r?String.fromCharCode(96+r):"")+t}function Vr(n){ie.context=n}const xy=!1,Ey=(n,t)=>n===t,Bt=Symbol("solid-proxy"),_f=typeof Proxy=="function",_s=Symbol("solid-track"),bs={equals:Ey};let bf=Tf;const Nt=1,ti=2,wf={owned:null,cleanups:null,context:null,owner:null},ca={};var le=null;let F=null,Sy=null,be=null,et=null,Qe=null,Is=0;function Nn(n,t){const r=be,s=le,a=n.length===0,c=t===void 0?s:t,l=a?wf:{owned:null,cleanups:null,context:c?c.context:null,owner:c},h=a?n:()=>n(()=>Ke(()=>wn(l)));le=l,be=null;try{return gt(h,!0)}finally{be=r,le=s}}function ge(n,t){t=t?Object.assign({},bs,t):bs;const r={value:n,observers:null,observerSlots:null,comparator:t.equals||void 0},s=a=>(typeof a=="function"&&(F&&F.running&&F.sources.has(r)?a=a(r.tValue):a=a(r.value)),Cf(r,a));return[Af.bind(r),s]}function Ml(n,t,r){const s=Bs(n,t,!0,Nt);br(s)}function we(n,t,r){const s=Bs(n,t,!1,Nt);br(s)}function Re(n,t,r){bf=Oy;const s=Bs(n,t,!1,Nt),a=Un&&qn(Un);a&&(s.suspense=a),s.user=!0,Qe?Qe.push(s):br(s)}function fe(n,t,r){r=r?Object.assign({},bs,r):bs;const s=Bs(n,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=r.equals||void 0,br(s),Af.bind(s)}function Ay(n){return n&&typeof n=="object"&&"then"in n}function _n(n,t,r){let s,a,c;typeof t=="function"?(s=n,a=t,c={}):(s=!0,a=n,c=t||{});let l=null,h=ca,g=null,m=!1,_=!1,y="initialValue"in c,E=typeof s=="function"&&fe(s);const A=new Set,[P,T]=(c.storage||ge)(c.initialValue),[L,B]=ge(void 0),[$,D]=ge(void 0,{equals:!1}),[W,H]=ge(y?"ready":"unresolved");ie.context&&(g=ie.getNextContextId(),c.ssrLoadFrom==="initial"?h=c.initialValue:ie.load&&ie.has(g)&&(h=ie.load(g)));function Q(ae,ye,me,ke){return l===ae&&(l=null,ke!==void 0&&(y=!0),(ae===h||ye===h)&&c.onHydrated&&queueMicrotask(()=>c.onHydrated(ke,{value:ye})),h=ca,F&&ae&&m?(F.promises.delete(ae),m=!1,gt(()=>{F.running=!0,se(ye,me)},!1)):se(ye,me)),ye}function se(ae,ye){gt(()=>{ye===void 0&&T(()=>ae),H(ye!==void 0?"errored":y?"ready":"unresolved"),B(ye);for(const me of A.keys())me.decrement();A.clear()},!1)}function Te(){const ae=Un&&qn(Un),ye=P(),me=L();if(me!==void 0&&!l)throw me;return be&&!be.user&&ae&&Ml(()=>{$(),l&&(ae.resolved&&F&&m?F.promises.add(l):A.has(ae)||(ae.increment(),A.add(ae)))}),ye}function Pe(ae=!0){if(ae!==!1&&_)return;_=!1;const ye=E?E():s;if(m=F&&F.running,ye==null||ye===!1){Q(l,Ke(P));return}F&&l&&F.promises.delete(l);const me=h!==ca?h:Ke(()=>a(ye,{value:P(),refetching:ae}));return Ay(me)?(l=me,"value"in me?(me.status==="success"?Q(l,me.value,void 0,ye):Q(l,void 0,Sa(me.value),ye),me):(_=!0,queueMicrotask(()=>_=!1),gt(()=>{H(y?"refreshing":"pending"),D()},!1),me.then(ke=>Q(me,ke,void 0,ye),ke=>Q(me,void 0,Sa(ke),ye)))):(Q(l,me,void 0,ye),me)}return Object.defineProperties(Te,{state:{get:()=>W()},error:{get:()=>L()},loading:{get(){const ae=W();return ae==="pending"||ae==="refreshing"}},latest:{get(){if(!y)return Te();const ae=L();if(ae&&!l)throw ae;return P()}}}),E?Ml(()=>Pe(!1)):Pe(!1),[Te,{refetch:Pe,mutate:T}]}function xf(n){return gt(n,!1)}function Ke(n){if(be===null)return n();const t=be;be=null;try{return n()}finally{be=t}}function qa(n,t,r){const s=Array.isArray(n);let a,c=r&&r.defer;return l=>{let h;if(s){h=Array(n.length);for(let m=0;m<n.length;m++)h[m]=n[m]()}else h=n();if(c)return c=!1,l;const g=Ke(()=>t(h,a,l));return a=h,g}}function Ef(n){Re(()=>Ke(n))}function on(n){return le===null||(le.cleanups===null?le.cleanups=[n]:le.cleanups.push(n)),n}function ws(){return be}function _r(){return le}function Sf(n,t){const r=le,s=be;le=n,be=null;try{return gt(t,!0)}catch(a){Wa(a)}finally{le=r,be=s}}function Zr(n){if(F&&F.running)return n(),F.done;const t=be,r=le;return Promise.resolve().then(()=>{be=t,le=r;let s;return Un&&(s=F||(F={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),s.done||(s.done=new Promise(a=>s.resolve=a)),s.running=!0),gt(n,!1),be=le=null,s?s.done:void 0})}const[bE,Fl]=ge(!1);function Cy(n){Qe.push.apply(Qe,n),n.length=0}function si(n,t){const r=Symbol("context");return{id:r,Provider:Ry(r),defaultValue:n}}function qn(n){let t;return le&&le.context&&(t=le.context[n.id])!==void 0?t:n.defaultValue}function Ps(n){const t=fe(n),r=fe(()=>Aa(t()));return r.toArray=()=>{const s=r();return Array.isArray(s)?s:s!=null?[s]:[]},r}let Un;function Ty(){return Un||(Un=si())}function Af(){const n=F&&F.running;if(this.sources&&(n?this.tState:this.state))if((n?this.tState:this.state)===Nt)br(this);else{const t=et;et=null,gt(()=>Es(this),!1),et=t}if(be){const t=this.observers?this.observers.length:0;be.sources?(be.sources.push(this),be.sourceSlots.push(t)):(be.sources=[this],be.sourceSlots=[t]),this.observers?(this.observers.push(be),this.observerSlots.push(be.sources.length-1)):(this.observers=[be],this.observerSlots=[be.sources.length-1])}return n&&F.sources.has(this)?this.tValue:this.value}function Cf(n,t,r){let s=F&&F.running&&F.sources.has(n)?n.tValue:n.value;if(!n.comparator||!n.comparator(s,t)){if(F){const a=F.running;(a||!r&&F.sources.has(n))&&(F.sources.add(n),n.tValue=t),a||(n.value=t)}else n.value=t;n.observers&&n.observers.length&&gt(()=>{for(let a=0;a<n.observers.length;a+=1){const c=n.observers[a],l=F&&F.running;l&&F.disposed.has(c)||((l?!c.tState:!c.state)&&(c.pure?et.push(c):Qe.push(c),c.observers&&kf(c)),l?c.tState=Nt:c.state=Nt)}if(et.length>1e6)throw et=[],new Error},!1)}return t}function br(n){if(!n.fn)return;wn(n);const t=Is;Ul(n,F&&F.running&&F.sources.has(n)?n.tValue:n.value,t),F&&!F.running&&F.sources.has(n)&&queueMicrotask(()=>{gt(()=>{F&&(F.running=!0),be=le=n,Ul(n,n.tValue,t),be=le=null},!1)})}function Ul(n,t,r){let s;const a=le,c=be;be=le=n;try{s=n.fn(t)}catch(l){return n.pure&&(F&&F.running?(n.tState=Nt,n.tOwned&&n.tOwned.forEach(wn),n.tOwned=void 0):(n.state=Nt,n.owned&&n.owned.forEach(wn),n.owned=null)),n.updatedAt=r+1,Wa(l)}finally{be=c,le=a}(!n.updatedAt||n.updatedAt<=r)&&(n.updatedAt!=null&&"observers"in n?Cf(n,s,!0):F&&F.running&&n.pure?(F.sources.add(n),n.tValue=s):n.value=s,n.updatedAt=r)}function Bs(n,t,r,s=Nt,a){const c={fn:n,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:le,context:le?le.context:null,pure:r};return F&&F.running&&(c.state=0,c.tState=s),le===null||le!==wf&&(F&&F.running&&le.pure?le.tOwned?le.tOwned.push(c):le.tOwned=[c]:le.owned?le.owned.push(c):le.owned=[c]),c}function xs(n){const t=F&&F.running;if((t?n.tState:n.state)===0)return;if((t?n.tState:n.state)===ti)return Es(n);if(n.suspense&&Ke(n.suspense.inFallback))return n.suspense.effects.push(n);const r=[n];for(;(n=n.owner)&&(!n.updatedAt||n.updatedAt<Is);){if(t&&F.disposed.has(n))return;(t?n.tState:n.state)&&r.push(n)}for(let s=r.length-1;s>=0;s--){if(n=r[s],t){let a=n,c=r[s+1];for(;(a=a.owner)&&a!==c;)if(F.disposed.has(a))return}if((t?n.tState:n.state)===Nt)br(n);else if((t?n.tState:n.state)===ti){const a=et;et=null,gt(()=>Es(n,r[0]),!1),et=a}}}function gt(n,t){if(et)return n();let r=!1;t||(et=[]),Qe?r=!0:Qe=[],Is++;try{const s=n();return ky(r),s}catch(s){r||(Qe=null),et=null,Wa(s)}}function ky(n){if(et&&(Tf(et),et=null),n)return;let t;if(F){if(!F.promises.size&&!F.queue.size){const s=F.sources,a=F.disposed;Qe.push.apply(Qe,F.effects),t=F.resolve;for(const c of Qe)"tState"in c&&(c.state=c.tState),delete c.tState;F=null,gt(()=>{for(const c of a)wn(c);for(const c of s){if(c.value=c.tValue,c.owned)for(let l=0,h=c.owned.length;l<h;l++)wn(c.owned[l]);c.tOwned&&(c.owned=c.tOwned),delete c.tValue,delete c.tOwned,c.tState=0}Fl(!1)},!1)}else if(F.running){F.running=!1,F.effects.push.apply(F.effects,Qe),Qe=null,Fl(!0);return}}const r=Qe;Qe=null,r.length&&gt(()=>bf(r),!1),t&&t()}function Tf(n){for(let t=0;t<n.length;t++)xs(n[t])}function Oy(n){let t,r=0;for(t=0;t<n.length;t++){const s=n[t];s.user?n[r++]=s:xs(s)}if(ie.context){if(ie.count){ie.effects||(ie.effects=[]),ie.effects.push(...n.slice(0,r));return}Vr()}for(ie.effects&&(ie.done||!ie.count)&&(n=[...ie.effects,...n],r+=ie.effects.length,delete ie.effects),t=0;t<r;t++)xs(n[t])}function Es(n,t){const r=F&&F.running;r?n.tState=0:n.state=0;for(let s=0;s<n.sources.length;s+=1){const a=n.sources[s];if(a.sources){const c=r?a.tState:a.state;c===Nt?a!==t&&(!a.updatedAt||a.updatedAt<Is)&&xs(a):c===ti&&Es(a,t)}}}function kf(n){const t=F&&F.running;for(let r=0;r<n.observers.length;r+=1){const s=n.observers[r];(t?!s.tState:!s.state)&&(t?s.tState=ti:s.state=ti,s.pure?et.push(s):Qe.push(s),s.observers&&kf(s))}}function wn(n){let t;if(n.sources)for(;n.sources.length;){const r=n.sources.pop(),s=n.sourceSlots.pop(),a=r.observers;if(a&&a.length){const c=a.pop(),l=r.observerSlots.pop();s<a.length&&(c.sourceSlots[l]=s,a[s]=c,r.observerSlots[s]=l)}}if(n.tOwned){for(t=n.tOwned.length-1;t>=0;t--)wn(n.tOwned[t]);delete n.tOwned}if(F&&F.running&&n.pure)Of(n,!0);else if(n.owned){for(t=n.owned.length-1;t>=0;t--)wn(n.owned[t]);n.owned=null}if(n.cleanups){for(t=n.cleanups.length-1;t>=0;t--)n.cleanups[t]();n.cleanups=null}F&&F.running?n.tState=0:n.state=0}function Of(n,t){if(t||(n.tState=0,F.disposed.add(n)),n.owned)for(let r=0;r<n.owned.length;r++)Of(n.owned[r])}function Sa(n){return n instanceof Error?n:new Error(typeof n=="string"?n:"Unknown error",{cause:n})}function Wa(n,t=le){throw Sa(n)}function Aa(n){if(typeof n=="function"&&!n.length)return Aa(n());if(Array.isArray(n)){const t=[];for(let r=0;r<n.length;r++){const s=Aa(n[r]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return n}function Ry(n,t){return function(s){let a;return we(()=>a=Ke(()=>(le.context={...le.context,[n]:s.value},Ps(()=>s.children))),void 0),a}}const Ly=Symbol("fallback");function jl(n){for(let t=0;t<n.length;t++)n[t]()}function $y(n,t,r={}){let s=[],a=[],c=[],l=0,h=t.length>1?[]:null;return on(()=>jl(c)),()=>{let g=n()||[],m=g.length,_,y;return g[_s],Ke(()=>{let A,P,T,L,B,$,D,W,H;if(m===0)l!==0&&(jl(c),c=[],s=[],a=[],l=0,h&&(h=[])),r.fallback&&(s=[Ly],a[0]=Nn(Q=>(c[0]=Q,r.fallback())),l=1);else if(l===0){for(a=new Array(m),y=0;y<m;y++)s[y]=g[y],a[y]=Nn(E);l=m}else{for(T=new Array(m),L=new Array(m),h&&(B=new Array(m)),$=0,D=Math.min(l,m);$<D&&s[$]===g[$];$++);for(D=l-1,W=m-1;D>=$&&W>=$&&s[D]===g[W];D--,W--)T[W]=a[D],L[W]=c[D],h&&(B[W]=h[D]);for(A=new Map,P=new Array(W+1),y=W;y>=$;y--)H=g[y],_=A.get(H),P[y]=_===void 0?-1:_,A.set(H,y);for(_=$;_<=D;_++)H=s[_],y=A.get(H),y!==void 0&&y!==-1?(T[y]=a[_],L[y]=c[_],h&&(B[y]=h[_]),y=P[y],A.set(H,y)):c[_]();for(y=$;y<m;y++)y in T?(a[y]=T[y],c[y]=L[y],h&&(h[y]=B[y],h[y](y))):a[y]=Nn(E);a=a.slice(0,l=m),s=g.slice(0)}return a});function E(A){if(c[y]=A,h){const[P,T]=ge(y);return h[y]=T,t(g[y],P)}return t(g[y])}}}function N(n,t){return Ke(()=>n(t||{}))}function es(){return!0}const Ca={get(n,t,r){return t===Bt?r:n.get(t)},has(n,t){return t===Bt?!0:n.has(t)},set:es,deleteProperty:es,getOwnPropertyDescriptor(n,t){return{configurable:!0,enumerable:!0,get(){return n.get(t)},set:es,deleteProperty:es}},ownKeys(n){return n.keys()}};function ua(n){return(n=typeof n=="function"?n():n)?n:{}}function Iy(){for(let n=0,t=this.length;n<t;++n){const r=this[n]();if(r!==void 0)return r}}function Tt(...n){let t=!1;for(let l=0;l<n.length;l++){const h=n[l];t=t||!!h&&Bt in h,n[l]=typeof h=="function"?(t=!0,fe(h)):h}if(_f&&t)return new Proxy({get(l){for(let h=n.length-1;h>=0;h--){const g=ua(n[h])[l];if(g!==void 0)return g}},has(l){for(let h=n.length-1;h>=0;h--)if(l in ua(n[h]))return!0;return!1},keys(){const l=[];for(let h=0;h<n.length;h++)l.push(...Object.keys(ua(n[h])));return[...new Set(l)]}},Ca);const r={},s=Object.create(null);for(let l=n.length-1;l>=0;l--){const h=n[l];if(!h)continue;const g=Object.getOwnPropertyNames(h);for(let m=g.length-1;m>=0;m--){const _=g[m];if(_==="__proto__"||_==="constructor")continue;const y=Object.getOwnPropertyDescriptor(h,_);if(!s[_])s[_]=y.get?{enumerable:!0,configurable:!0,get:Iy.bind(r[_]=[y.get.bind(h)])}:y.value!==void 0?y:void 0;else{const E=r[_];E&&(y.get?E.push(y.get.bind(h)):y.value!==void 0&&E.push(()=>y.value))}}}const a={},c=Object.keys(s);for(let l=c.length-1;l>=0;l--){const h=c[l],g=s[h];g&&g.get?Object.defineProperty(a,h,g):a[h]=g?g.value:void 0}return a}function Rf(n,...t){if(_f&&Bt in n){const a=new Set(t.length>1?t.flat():t[0]),c=t.map(l=>new Proxy({get(h){return l.includes(h)?n[h]:void 0},has(h){return l.includes(h)&&h in n},keys(){return l.filter(h=>h in n)}},Ca));return c.push(new Proxy({get(l){return a.has(l)?void 0:n[l]},has(l){return a.has(l)?!1:l in n},keys(){return Object.keys(n).filter(l=>!a.has(l))}},Ca)),c}const r={},s=t.map(()=>({}));for(const a of Object.getOwnPropertyNames(n)){const c=Object.getOwnPropertyDescriptor(n,a),l=!c.get&&!c.set&&c.enumerable&&c.writable&&c.configurable;let h=!1,g=0;for(const m of t)m.includes(a)&&(h=!0,l?s[g][a]=c.value:Object.defineProperty(s[g],a,c)),++g;h||(l?r[a]=c.value:Object.defineProperty(r,a,c))}return[...s,r]}const Lf=n=>`Stale read from <${n}>.`;function Dn(n){const t="fallback"in n&&{fallback:()=>n.fallback};return fe($y(()=>n.each,n.children,t||void 0))}function za(n){const t=n.keyed,r=fe(()=>n.when,void 0,void 0),s=t?r:fe(r,void 0,{equals:(a,c)=>!a==!c});return fe(()=>{const a=s();if(a){const c=n.children;return typeof c=="function"&&c.length>0?Ke(()=>c(t?a:()=>{if(!Ke(s))throw Lf("Show");return r()})):c}return n.fallback},void 0,void 0)}function Py(n){const t=Ps(()=>n.children),r=fe(()=>{const s=t(),a=Array.isArray(s)?s:[s];let c=()=>{};for(let l=0;l<a.length;l++){const h=l,g=a[l],m=c,_=fe(()=>m()?void 0:g.when,void 0,void 0),y=g.keyed?_:fe(_,void 0,{equals:(E,A)=>!E==!A});c=()=>m()||(y()?[h,_,g]:void 0)}return c});return fe(()=>{const s=r()();if(!s)return n.fallback;const[a,c,l]=s,h=l.children;return typeof h=="function"&&h.length>0?Ke(()=>h(l.keyed?c():()=>{var m;if(((m=Ke(r)())==null?void 0:m[0])!==a)throw Lf("Match");return c()})):h},void 0,void 0)}function ts(n){return n}const By=si();function Ny(n){let t=0,r,s,a,c,l;const[h,g]=ge(!1),m=Ty(),_={increment:()=>{++t===1&&g(!0)},decrement:()=>{--t===0&&g(!1)},inFallback:h,effects:[],resolved:!1},y=_r();if(ie.context&&ie.load){const P=ie.getContextId();let T=ie.load(P);if(T&&(typeof T!="object"||T.status!=="success"?a=T:ie.gather(P)),a&&a!=="$$f"){const[L,B]=ge(void 0,{equals:!1});c=L,a.then(()=>{if(ie.done)return B();ie.gather(P),Vr(s),B(),Vr()},$=>{l=$,B()})}}const E=qn(By);E&&(r=E.register(_.inFallback));let A;return on(()=>A&&A()),N(m.Provider,{value:_,get children(){return fe(()=>{if(l)throw l;if(s=ie.context,c)return c(),c=void 0;s&&a==="$$f"&&Vr();const P=fe(()=>n.children);return fe(T=>{const L=_.inFallback(),{showContent:B=!0,showFallback:$=!0}=r?r():{};if((!L||a&&a!=="$$f")&&B)return _.resolved=!0,A&&A(),A=s=a=void 0,Cy(_.effects),P();if($)return A?T:Nn(D=>(A=D,s&&(Vr({id:s.id+"F",count:0}),s=void 0),n.fallback),y)})})}})}const Dy=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],My=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Dy]),Fy=new Set(["innerHTML","textContent","innerText","children"]),Uy=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),jy=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function qy(n,t){const r=jy[n];return typeof r=="object"?r[t]?r.$:void 0:r}const Wy=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),zy={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Hy(n,t,r){let s=r.length,a=t.length,c=s,l=0,h=0,g=t[a-1].nextSibling,m=null;for(;l<a||h<c;){if(t[l]===r[h]){l++,h++;continue}for(;t[a-1]===r[c-1];)a--,c--;if(a===l){const _=c<s?h?r[h-1].nextSibling:r[c-h]:g;for(;h<c;)n.insertBefore(r[h++],_)}else if(c===h)for(;l<a;)(!m||!m.has(t[l]))&&t[l].remove(),l++;else if(t[l]===r[c-1]&&r[h]===t[a-1]){const _=t[--a].nextSibling;n.insertBefore(r[h++],t[l++].nextSibling),n.insertBefore(r[--c],_),t[a]=r[c]}else{if(!m){m=new Map;let y=h;for(;y<c;)m.set(r[y],y++)}const _=m.get(t[l]);if(_!=null)if(h<_&&_<c){let y=l,E=1,A;for(;++y<a&&y<c&&!((A=m.get(t[y]))==null||A!==_+E);)E++;if(E>_-h){const P=t[l];for(;h<_;)n.insertBefore(r[h++],P)}else n.replaceChild(r[h++],t[l++])}else l++;else t[l++].remove()}}}const ql="_$DX_DELEGATE";function Ky(n,t,r,s={}){let a;return Nn(c=>{a=c,t===document?n():q(t,n(),t.firstChild?null:void 0,r)},s.owner),()=>{a(),t.textContent=""}}function X(n,t,r,s){let a;const c=()=>{const h=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return h.innerHTML=n,r?h.content.firstChild.firstChild:s?h.firstChild:h.content.firstChild},l=t?()=>Ke(()=>document.importNode(a||(a=c()),!0)):()=>(a||(a=c())).cloneNode(!0);return l.cloneNode=l,l}function oi(n,t=window.document){const r=t[ql]||(t[ql]=new Set);for(let s=0,a=n.length;s<a;s++){const c=n[s];r.has(c)||(r.add(c),t.addEventListener(c,Qy))}}function je(n,t,r){wr(n)||(r==null?n.removeAttribute(t):n.setAttribute(t,r))}function Vy(n,t,r,s){wr(n)||(s==null?n.removeAttributeNS(t,r):n.setAttributeNS(t,r,s))}function Gy(n,t,r){wr(n)||(r?n.setAttribute(t,""):n.removeAttribute(t))}function xn(n,t){wr(n)||(t==null?n.removeAttribute("class"):n.className=t)}function Yy(n,t,r,s){if(s)Array.isArray(r)?(n[`$$${t}`]=r[0],n[`$$${t}Data`]=r[1]):n[`$$${t}`]=r;else if(Array.isArray(r)){const a=r[0];n.addEventListener(t,r[0]=c=>a.call(n,r[1],c))}else n.addEventListener(t,r,typeof r!="function"&&r)}function Xy(n,t,r={}){const s=Object.keys(t||{}),a=Object.keys(r);let c,l;for(c=0,l=a.length;c<l;c++){const h=a[c];!h||h==="undefined"||t[h]||(Wl(n,h,!1),delete r[h])}for(c=0,l=s.length;c<l;c++){const h=s[c],g=!!t[h];!h||h==="undefined"||r[h]===g||!g||(Wl(n,h,!0),r[h]=g)}return r}function rn(n,t,r){if(!t)return r?je(n,"style"):t;const s=n.style;if(typeof t=="string")return s.cssText=t;typeof r=="string"&&(s.cssText=r=void 0),r||(r={}),t||(t={});let a,c;for(c in r)t[c]==null&&s.removeProperty(c),delete r[c];for(c in t)a=t[c],a!==r[c]&&(s.setProperty(c,a),r[c]=a);return r}function Ht(n,t={},r,s){const a={};return s||we(()=>a.children=ni(n,t.children,a.children)),we(()=>typeof t.ref=="function"&&dr(t.ref,n)),we(()=>Zy(n,t,r,!0,a,!0)),a}function dr(n,t,r){return Ke(()=>n(t,r))}function q(n,t,r,s){if(r!==void 0&&!s&&(s=[]),typeof t!="function")return ni(n,t,s,r);we(a=>ni(n,t(),a,r),s)}function Zy(n,t,r,s,a={},c=!1){t||(t={});for(const l in a)if(!(l in t)){if(l==="children")continue;a[l]=zl(n,l,null,a[l],r,c,t)}for(const l in t){if(l==="children")continue;const h=t[l];a[l]=zl(n,l,h,a[l],r,c,t)}}function wr(n){return!!ie.context&&!ie.done&&(!n||n.isConnected)}function Jy(n){return n.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function Wl(n,t,r){const s=t.trim().split(/\s+/);for(let a=0,c=s.length;a<c;a++)n.classList.toggle(s[a],r)}function zl(n,t,r,s,a,c,l){let h,g,m,_,y;if(t==="style")return rn(n,r,s);if(t==="classList")return Xy(n,r,s);if(r===s)return s;if(t==="ref")c||r(n);else if(t.slice(0,3)==="on:"){const E=t.slice(3);s&&n.removeEventListener(E,s,typeof s!="function"&&s),r&&n.addEventListener(E,r,typeof r!="function"&&r)}else if(t.slice(0,10)==="oncapture:"){const E=t.slice(10);s&&n.removeEventListener(E,s,!0),r&&n.addEventListener(E,r,!0)}else if(t.slice(0,2)==="on"){const E=t.slice(2).toLowerCase(),A=Wy.has(E);if(!A&&s){const P=Array.isArray(s)?s[0]:s;n.removeEventListener(E,P)}(A||r)&&(Yy(n,E,r,A),A&&oi([E]))}else if(t.slice(0,5)==="attr:")je(n,t.slice(5),r);else if(t.slice(0,5)==="bool:")Gy(n,t.slice(5),r);else if((y=t.slice(0,5)==="prop:")||(m=Fy.has(t))||!a&&((_=qy(t,n.tagName))||(g=My.has(t)))||(h=n.nodeName.includes("-")||"is"in l)){if(y)t=t.slice(5),g=!0;else if(wr(n))return r;t==="class"||t==="className"?xn(n,r):h&&!g&&!m?n[Jy(t)]=r:n[_||t]=r}else{const E=a&&t.indexOf(":")>-1&&zy[t.split(":")[0]];E?Vy(n,E,t,r):je(n,Uy[t]||t,r)}return r}function Qy(n){if(ie.registry&&ie.events&&ie.events.find(([g,m])=>m===n))return;let t=n.target;const r=`$$${n.type}`,s=n.target,a=n.currentTarget,c=g=>Object.defineProperty(n,"target",{configurable:!0,value:g}),l=()=>{const g=t[r];if(g&&!t.disabled){const m=t[`${r}Data`];if(m!==void 0?g.call(t,m,n):g.call(t,n),n.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(n.target)&&c(t.host),!0},h=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(n,"currentTarget",{configurable:!0,get(){return t||document}}),ie.registry&&!ie.done&&(ie.done=_$HY.done=!0),n.composedPath){const g=n.composedPath();c(g[0]);for(let m=0;m<g.length-2&&(t=g[m],!!l());m++){if(t._$host){t=t._$host,h();break}if(t.parentNode===a)break}}else h();c(s)}function ni(n,t,r,s,a){const c=wr(n);if(c){!r&&(r=[...n.childNodes]);let g=[];for(let m=0;m<r.length;m++){const _=r[m];_.nodeType===8&&_.data.slice(0,2)==="!$"?_.remove():g.push(_)}r=g}for(;typeof r=="function";)r=r();if(t===r)return r;const l=typeof t,h=s!==void 0;if(n=h&&r[0]&&r[0].parentNode||n,l==="string"||l==="number"){if(c||l==="number"&&(t=t.toString(),t===r))return r;if(h){let g=r[0];g&&g.nodeType===3?g.data!==t&&(g.data=t):g=document.createTextNode(t),r=cr(n,r,s,g)}else r!==""&&typeof r=="string"?r=n.firstChild.data=t:r=n.textContent=t}else if(t==null||l==="boolean"){if(c)return r;r=cr(n,r,s)}else{if(l==="function")return we(()=>{let g=t();for(;typeof g=="function";)g=g();r=ni(n,g,r,s)}),()=>r;if(Array.isArray(t)){const g=[],m=r&&Array.isArray(r);if(Ta(g,t,r,a))return we(()=>r=ni(n,g,r,s,!0)),()=>r;if(c){if(!g.length)return r;if(s===void 0)return r=[...n.childNodes];let _=g[0];if(_.parentNode!==n)return r;const y=[_];for(;(_=_.nextSibling)!==s;)y.push(_);return r=y}if(g.length===0){if(r=cr(n,r,s),h)return r}else m?r.length===0?Hl(n,g,s):Hy(n,r,g):(r&&cr(n),Hl(n,g));r=g}else if(t.nodeType){if(c&&t.parentNode)return r=h?[t]:t;if(Array.isArray(r)){if(h)return r=cr(n,r,s,t);cr(n,r,null,t)}else r==null||r===""||!n.firstChild?n.appendChild(t):n.replaceChild(t,n.firstChild);r=t}}return r}function Ta(n,t,r,s){let a=!1;for(let c=0,l=t.length;c<l;c++){let h=t[c],g=r&&r[n.length],m;if(!(h==null||h===!0||h===!1))if((m=typeof h)=="object"&&h.nodeType)n.push(h);else if(Array.isArray(h))a=Ta(n,h,g)||a;else if(m==="function")if(s){for(;typeof h=="function";)h=h();a=Ta(n,Array.isArray(h)?h:[h],Array.isArray(g)?g:[g])||a}else n.push(h),a=!0;else{const _=String(h);g&&g.nodeType===3&&g.data===_?n.push(g):n.push(document.createTextNode(_))}}return a}function Hl(n,t,r=null){for(let s=0,a=t.length;s<a;s++)n.insertBefore(t[s],r)}function cr(n,t,r,s){if(r===void 0)return n.textContent="";const a=s||document.createTextNode("");if(t.length){let c=!1;for(let l=t.length-1;l>=0;l--){const h=t[l];if(a!==h){const g=h.parentNode===n;!c&&!l?g?n.replaceChild(a,h):n.insertBefore(a,r):g&&h.remove()}else c=!0}}else n.insertBefore(a,r);return[a]}const $f=!1;function If(){let n=new Set;function t(a){return n.add(a),()=>n.delete(a)}let r=!1;function s(a,c){if(r)return!(r=!1);const l={to:a,options:c,defaultPrevented:!1,preventDefault:()=>l.defaultPrevented=!0};for(const h of n)h.listener({...l,from:h.location,retry:g=>{g&&(r=!0),h.navigate(a,{...c,resolve:!1})}});return!l.defaultPrevented}return{subscribe:t,confirm:s}}let ka;function Ha(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),ka=window.history.state._depth}Ha();function e_(n){return{...n,_depth:window.history.state&&window.history.state._depth}}function t_(n,t){let r=!1;return()=>{const s=ka;Ha();const a=s==null?null:ka-s;if(r){r=!1;return}a&&t(a)?(r=!0,window.history.go(-a)):n()}}const n_=/^(?:[a-z0-9]+:)?\/\//i,r_=/^\/+|(\/)\/+$/g,Ka="http://sr";function Mn(n,t=!1){const r=n.replace(r_,"$1");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function hs(n,t,r){if(n_.test(t))return;const s=Mn(n),a=r&&Mn(r);let c="";return!a||t.startsWith("/")?c=s:a.toLowerCase().indexOf(s.toLowerCase())!==0?c=s+a:c=a,(c||"/")+Mn(t,!c)}function i_(n,t){if(n==null)throw new Error(t);return n}function s_(n,t){return Mn(n).replace(/\/*(\*.*)?$/g,"")+Mn(t)}function Pf(n){const t={};return n.searchParams.forEach((r,s)=>{s in t?Array.isArray(t[s])?t[s].push(r):t[s]=[t[s],r]:t[s]=r}),t}function o_(n,t,r){const[s,a]=n.split("/*",2),c=s.split("/").filter(Boolean),l=c.length;return h=>{const g=h.split("/").filter(Boolean),m=g.length-l;if(m<0||m>0&&a===void 0&&!t)return null;const _={path:l?"":"/",params:{}},y=E=>r===void 0?void 0:r[E];for(let E=0;E<l;E++){const A=c[E],P=A[0]===":",T=P?g[E]:g[E].toLowerCase(),L=P?A.slice(1):A.toLowerCase();if(P&&la(T,y(L)))_.params[L]=T;else if(P||!la(T,L))return null;_.path+=`/${T}`}if(a){const E=m?g.slice(-m).join("/"):"";if(la(E,y(a)))_.params[a]=E;else return null}return _}}function la(n,t){const r=s=>s===n;return t===void 0?!0:typeof t=="string"?r(t):typeof t=="function"?t(n):Array.isArray(t)?t.some(r):t instanceof RegExp?t.test(n):!1}function a_(n){const[t,r]=n.pattern.split("/*",2),s=t.split("/").filter(Boolean);return s.reduce((a,c)=>a+(c.startsWith(":")?2:3),s.length-(r===void 0?0:1))}function Bf(n){const t=new Map,r=_r();return new Proxy({},{get(s,a){return t.has(a)||Sf(r,()=>t.set(a,fe(()=>n()[a]))),t.get(a)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(n())}})}function Nf(n){let t=/(\/?\:[^\/]+)\?/.exec(n);if(!t)return[n];let r=n.slice(0,t.index),s=n.slice(t.index+t[0].length);const a=[r,r+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(s);)a.push(r+=t[1]),s=s.slice(t[0].length);return Nf(s).reduce((c,l)=>[...c,...a.map(h=>h+l)],[])}const c_=100,Df=si(),Va=si(),xr=()=>i_(qn(Df),"<A> and 'use' router primitives can be only used inside a Route."),u_=()=>qn(Va)||xr().base,l_=n=>{const t=u_();return fe(()=>t.resolvePath(n()))},f_=n=>{const t=xr();return fe(()=>{const r=n();return r!==void 0?t.renderPath(r):r})},ai=()=>xr().navigatorFactory(),Ga=()=>xr().location,h_=()=>xr().params;function d_(n,t=""){const{component:r,preload:s,load:a,children:c,info:l}=n,h=!c||Array.isArray(c)&&!c.length,g={key:n,component:r,preload:s||a,info:l};return Mf(n.path).reduce((m,_)=>{for(const y of Nf(_)){const E=s_(t,y);let A=h?E:E.split("/*",1)[0];A=A.split("/").map(P=>P.startsWith(":")||P.startsWith("*")?P:encodeURIComponent(P)).join("/"),m.push({...g,originalPath:_,pattern:A,matcher:o_(A,!h,n.matchFilters)})}return m},[])}function p_(n,t=0){return{routes:n,score:a_(n[n.length-1])*1e4-t,matcher(r){const s=[];for(let a=n.length-1;a>=0;a--){const c=n[a],l=c.matcher(r);if(!l)return null;s.unshift({...l,route:c})}return s}}}function Mf(n){return Array.isArray(n)?n:[n]}function Ff(n,t="",r=[],s=[]){const a=Mf(n);for(let c=0,l=a.length;c<l;c++){const h=a[c];if(h&&typeof h=="object"){h.hasOwnProperty("path")||(h.path="");const g=d_(h,t);for(const m of g){r.push(m);const _=Array.isArray(h.children)&&h.children.length===0;if(h.children&&!_)Ff(h.children,m.pattern,r,s);else{const y=p_([...r],s.length);s.push(y)}r.pop()}}}return r.length?s:s.sort((c,l)=>l.score-c.score)}function fa(n,t){for(let r=0,s=n.length;r<s;r++){const a=n[r].matcher(t);if(a)return a}return[]}function g_(n,t,r){const s=new URL(Ka),a=fe(_=>{const y=n();try{return new URL(y,s)}catch{return console.error(`Invalid path ${y}`),_}},s,{equals:(_,y)=>_.href===y.href}),c=fe(()=>a().pathname),l=fe(()=>a().search,!0),h=fe(()=>a().hash),g=()=>"",m=qa(l,()=>Pf(a()));return{get pathname(){return c()},get search(){return l()},get hash(){return h()},get state(){return t()},get key(){return g()},query:r?r(m):Bf(m)}}let Bn;function Uf(){return Bn}let pr=!1;function m_(){return pr}function Kl(n){pr=n}function v_(n,t,r,s={}){const{signal:[a,c],utils:l={}}=n,h=l.parsePath||(ce=>ce),g=l.renderPath||(ce=>ce),m=l.beforeLeave||If(),_=hs("",s.base||"");if(_===void 0)throw new Error(`${_} is not a valid base path`);_&&!a().value&&c({value:_,replace:!0,scroll:!1});const[y,E]=ge(!1);let A;const P=(ce,ve)=>{ve.value===T()&&ve.state===B()||(A===void 0&&E(!0),Bn=ce,A=ve,Zr(()=>{A===ve&&(L(A.value),$(A.state),H[1](De=>De.filter(Xe=>Xe.pending)))}).finally(()=>{A===ve&&xf(()=>{Bn=void 0,ce==="navigate"&&me(A),E(!1),A=void 0})}))},[T,L]=ge(a().value),[B,$]=ge(a().state),D=g_(T,B,l.queryWrapper),W=[],H=ge([]),Q=fe(()=>typeof s.transformUrl=="function"?fa(t(),s.transformUrl(D.pathname)):fa(t(),D.pathname)),se=()=>{const ce=Q(),ve={};for(let De=0;De<ce.length;De++)Object.assign(ve,ce[De].params);return ve},Te=l.paramsWrapper?l.paramsWrapper(se,t):Bf(se),Pe={pattern:_,path:()=>_,outlet:()=>null,resolvePath(ce){return hs(_,ce)}};return we(qa(a,ce=>P("native",ce),{defer:!0})),{base:Pe,location:D,params:Te,isRouting:y,renderPath:g,parsePath:h,navigatorFactory:ye,matches:Q,beforeLeave:m,preloadRoute:ke,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:H};function ae(ce,ve,De){Ke(()=>{if(typeof ve=="number"){ve&&(l.go?l.go(ve):console.warn("Router integration does not support relative routing"));return}const Xe=!ve||ve[0]==="?",{replace:vt,resolve:Mt,scroll:kt,state:ze}={replace:!1,resolve:!Xe,scroll:!0,...De},Ft=Mt?ce.resolvePath(ve):hs(Xe&&D.pathname||"",ve);if(Ft===void 0)throw new Error(`Path '${ve}' is not a routable path`);if(W.length>=c_)throw new Error("Too many redirects");const zn=T();(Ft!==zn||ze!==B())&&($f||m.confirm(Ft,De)&&(W.push({value:zn,replace:vt,scroll:kt,state:B()}),P("navigate",{value:Ft,state:ze})))})}function ye(ce){return ce=ce||qn(Va)||Pe,(ve,De)=>ae(ce,ve,De)}function me(ce){const ve=W[0];ve&&(c({...ce,replace:ve.replace,scroll:ve.scroll}),W.length=0)}function ke(ce,ve){const De=fa(t(),ce.pathname),Xe=Bn;Bn="preload";for(let vt in De){const{route:Mt,params:kt}=De[vt];Mt.component&&Mt.component.preload&&Mt.component.preload();const{preload:ze}=Mt;pr=!0,ve&&ze&&Sf(r(),()=>ze({params:kt,location:{pathname:ce.pathname,search:ce.search,hash:ce.hash,query:Pf(ce),state:null,key:""},intent:"preload"})),pr=!1}Bn=Xe}}function y_(n,t,r,s){const{base:a,location:c,params:l}=n,{pattern:h,component:g,preload:m}=s().route,_=fe(()=>s().path);g&&g.preload&&g.preload(),pr=!0;const y=m?m({params:l,location:c,intent:Bn||"initial"}):void 0;return pr=!1,{parent:t,pattern:h,path:_,outlet:()=>g?N(g,{params:l,location:c,data:y,get children(){return r()}}):r(),resolvePath(A){return hs(a.path(),A,_())}}}const __=n=>t=>{const{base:r}=t,s=Ps(()=>t.children),a=fe(()=>Ff(s(),t.base||""));let c;const l=v_(n,a,()=>c,{base:r,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return n.create&&n.create(l),N(Df.Provider,{value:l,get children(){return N(b_,{routerState:l,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[fe(()=>(c=_r())&&null),N(w_,{routerState:l,get branches(){return a()}})]}})}})};function b_(n){const t=n.routerState.location,r=n.routerState.params,s=fe(()=>n.preload&&Ke(()=>{Kl(!0),n.preload({params:r,location:t,intent:Uf()||"initial"}),Kl(!1)}));return N(za,{get when(){return n.root},keyed:!0,get fallback(){return n.children},children:a=>N(a,{params:r,location:t,get data(){return s()},get children(){return n.children}})})}function w_(n){const t=[];let r;const s=fe(qa(n.routerState.matches,(a,c,l)=>{let h=c&&a.length===c.length;const g=[];for(let m=0,_=a.length;m<_;m++){const y=c&&c[m],E=a[m];l&&y&&E.route.key===y.route.key?g[m]=l[m]:(h=!1,t[m]&&t[m](),Nn(A=>{t[m]=A,g[m]=y_(n.routerState,g[m-1]||n.routerState.base,Vl(()=>s()[m+1]),()=>n.routerState.matches()[m])}))}return t.splice(a.length).forEach(m=>m()),l&&h?l:(r=g[0],g)}));return Vl(()=>s()&&r)()}const Vl=n=>()=>N(za,{get when(){return n()},keyed:!0,children:t=>N(Va.Provider,{value:t,get children(){return t.outlet()}})}),it=n=>{const t=Ps(()=>n.children);return Tt(n,{get children(){return t()}})};function x_([n,t],r,s){return[n,s?a=>t(s(a)):t]}function E_(n){let t=!1;const r=a=>typeof a=="string"?{value:a}:a,s=x_(ge(r(n.get()),{equals:(a,c)=>a.value===c.value&&a.state===c.state}),void 0,a=>(!t&&n.set(a),ie.registry&&!ie.done&&(ie.done=!0),a));return n.init&&on(n.init((a=n.get())=>{t=!0,s[1](r(a)),t=!1})),__({signal:s,create:n.create,utils:n.utils})}function S_(n,t,r){return n.addEventListener(t,r),()=>n.removeEventListener(t,r)}function A_(n,t){const r=n&&document.getElementById(n);r?r.scrollIntoView():t&&window.scrollTo(0,0)}const C_="Location",T_=5e3,k_=18e4;let ri=new Map;setInterval(()=>{const n=Date.now();for(let[t,r]of ri.entries())!r[4].count&&n-r[0]>k_&&ri.delete(t)},3e5);function ci(){return ri}function O_(n,t=!0){return Zr(()=>{const r=Date.now();jf(n,s=>{t&&(s[0]=0),s[4][1](r)})})}function jf(n,t){n&&!Array.isArray(n)&&(n=[n]);for(let r of ri.keys())(n===void 0||R_(r,n))&&t(ri.get(r))}function ui(n,t){n.GET&&(n=n.GET);const r=(...s)=>{const a=ci(),c=Uf(),l=m_(),g=_r()?ai():void 0,m=Date.now(),_=t+Oa(s);let y=a.get(_),E;if(ws()&&(E=!0,on(()=>y[4].count--)),y&&y[0]&&(c==="native"||y[4].count||Date.now()-y[0]<T_)){E&&(y[4].count++,y[4][0]()),y[3]==="preload"&&c!=="preload"&&(y[0]=m);let T=y[1];return c!=="preload"&&(T="then"in y[1]?y[1].then(P(!1),P(!0)):P(!1)(y[1]),c==="navigate"&&Zr(()=>y[4][1](y[0]))),l&&"then"in T&&T.catch(()=>{}),T}let A;return ie.has&&ie.has(_)?(A=ie.load(_),delete globalThis._$HY.r[_]):A=n(...s),y?(y[0]=m,y[1]=A,y[3]=c,c==="navigate"&&Zr(()=>y[4][1](y[0]))):(a.set(_,y=[m,A,,c,ge(m)]),y[4].count=0),E&&(y[4].count++,y[4][0]()),c!=="preload"&&(A="then"in A?A.then(P(!1),P(!0)):P(!1)(A)),l&&"then"in A&&A.catch(()=>{}),A;function P(T){return async L=>{if(L instanceof Response){const B=L.headers.get(C_);if(B!==null){g&&B.startsWith("/")?Zr(()=>{g(B,{replace:!0})}):window.location.href=B;return}L.customBody&&(L=await L.customBody())}if(T)throw L;return y[2]=L,L}}};return r.keyFor=(...s)=>t+Oa(s),r.key=t,r}ui.get=n=>ci().get(n)[2];ui.set=(n,t)=>{const r=ci(),s=Date.now();let a=r.get(n);a?(a[0]=s,a[1]=Promise.resolve(t),a[2]=t,a[3]="preload"):(r.set(n,a=[s,Promise.resolve(t),t,"preload",ge(s)]),a[4].count=0)};ui.delete=n=>ci().delete(n);ui.clear=()=>ci().clear();function R_(n,t){for(let r of t)if(r&&n.startsWith(r))return!0;return!1}function Oa(n){return JSON.stringify(n,(t,r)=>L_(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function L_(n){let t;return n!=null&&typeof n=="object"&&(!(t=Object.getPrototypeOf(n))||t===Object.prototype)}const Ra=new Map;function $_(n,t){const r=xr(),s=fe(()=>r.submissions[0]().filter(a=>a.url===n.base&&!0));return new Proxy([],{get(a,c){return c===_s?s():c==="pending"?s().some(l=>!l.result):s()[c]},has(a,c){return c in s()}})}function Ya(n,t){const r=$_(n);return new Proxy({},{get(s,a){var c;return r.length===0&&a==="clear"||a==="retry"?()=>{}:(c=r[r.length-1])==null?void 0:c[a]}})}function Xa(n,t={}){function r(...c){const l=this.r,h=this.f,g=(l.singleFlight&&n.withOptions?n.withOptions({headers:{"X-Single-Flight":"true"}}):n)(...c),[m,_]=ge();let y;function E(A){return async P=>{var B;const T=await P_(P,A,l.navigatorFactory());let L=null;if((B=s.onComplete)==null||B.call(s,{...y,result:T==null?void 0:T.data,error:T==null?void 0:T.error,pending:!1,retry(){return L=y.retry()}}),L)return L;if(!T)return y.clear();if(_(T),T.error&&!h)throw T.error;return T.data}}return l.submissions[1](A=>[...A,y={input:c,url:a,get result(){var P;return(P=m())==null?void 0:P.data},get error(){var P;return(P=m())==null?void 0:P.error},get pending(){return!m()},clear(){l.submissions[1](P=>P.filter(T=>T!==y))},retry(){return _(void 0),n(...c).then(E(),E(!0))}}]),g.then(E(),E(!0))}const s=typeof t=="string"?{name:t}:t,a=n.url||s.name&&`https://action/${s.name}`||`https://action/${I_(n.toString())}`;return r.base=a,qf(r,a)}function qf(n,t){return n.toString=()=>{if(!t)throw new Error("Client Actions need explicit names if server rendered");return t},n.with=function(...r){const s=function(...c){return n.call(this,...r,...c)};s.base=n.base;const a=new URL(t,Ka);return a.searchParams.set("args",Oa(r)),qf(s,(a.origin==="https://action"?a.origin:"")+a.pathname+a.search)},n.url=t,Ra.set(t,n),_r()&&on(()=>Ra.delete(t)),n}const I_=n=>n.split("").reduce((t,r)=>(t<<5)-t+r.charCodeAt(0)|0,0);async function P_(n,t,r){let s,a,c,l;if(n instanceof Response){if(n.headers.has("X-Revalidate")&&(c=n.headers.get("X-Revalidate").split(",")),n.customBody&&(s=a=await n.customBody(),n.headers.has("X-Single-Flight")&&(s=s._$value,delete a._$value,l=Object.keys(a))),n.headers.has("Location")){const h=n.headers.get("Location")||"/";h.startsWith("http")?window.location.href=h:r(h)}}else{if(t)return{error:n};s=n}return jf(c,h=>h[0]=0),l&&l.forEach(h=>ui.set(h,a[h])),await O_(c,!1),s!=null?{data:s}:void 0}function B_(n=!0,t=!1,r="/_server",s){return a=>{const c=a.base.path(),l=a.navigatorFactory(a.base);let h,g;function m(T){return T.namespaceURI==="http://www.w3.org/2000/svg"}function _(T){if(T.defaultPrevented||T.button!==0||T.metaKey||T.altKey||T.ctrlKey||T.shiftKey)return;const L=T.composedPath().find(Q=>Q instanceof Node&&Q.nodeName.toUpperCase()==="A");if(!L||t&&!L.hasAttribute("link"))return;const B=m(L),$=B?L.href.baseVal:L.href;if((B?L.target.baseVal:L.target)||!$&&!L.hasAttribute("state"))return;const W=(L.getAttribute("rel")||"").split(/\s+/);if(L.hasAttribute("download")||W&&W.includes("external"))return;const H=B?new URL($,document.baseURI):new URL($);if(!(H.origin!==window.location.origin||c&&H.pathname&&!H.pathname.toLowerCase().startsWith(c.toLowerCase())))return[L,H]}function y(T){const L=_(T);if(!L)return;const[B,$]=L,D=a.parsePath($.pathname+$.search+$.hash),W=B.getAttribute("state");T.preventDefault(),l(D,{resolve:!1,replace:B.hasAttribute("replace"),scroll:!B.hasAttribute("noscroll"),state:W?JSON.parse(W):void 0})}function E(T){const L=_(T);if(!L)return;const[B,$]=L;s&&($.pathname=s($.pathname)),a.preloadRoute($,B.getAttribute("preload")!=="false")}function A(T){clearTimeout(h);const L=_(T);if(!L)return g=null;const[B,$]=L;g!==B&&(s&&($.pathname=s($.pathname)),h=setTimeout(()=>{a.preloadRoute($,B.getAttribute("preload")!=="false"),g=B},20))}function P(T){if(T.defaultPrevented)return;let L=T.submitter&&T.submitter.hasAttribute("formaction")?T.submitter.getAttribute("formaction"):T.target.getAttribute("action");if(!L)return;if(!L.startsWith("https://action/")){const $=new URL(L,Ka);if(L=a.parsePath($.pathname+$.search),!L.startsWith(r))return}if(T.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const B=Ra.get(L);if(B){T.preventDefault();const $=new FormData(T.target,T.submitter);B.call({r:a,f:T.target},T.target.enctype==="multipart/form-data"?$:new URLSearchParams($))}}oi(["click","submit"]),document.addEventListener("click",y),n&&(document.addEventListener("mousemove",A,{passive:!0}),document.addEventListener("focusin",E,{passive:!0}),document.addEventListener("touchstart",E,{passive:!0})),document.addEventListener("submit",P),on(()=>{document.removeEventListener("click",y),n&&(document.removeEventListener("mousemove",A),document.removeEventListener("focusin",E),document.removeEventListener("touchstart",E)),document.removeEventListener("submit",P)})}}function N_(n){const t=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,a=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:a}},r=If();return E_({get:t,set({value:s,replace:a,scroll:c,state:l}){a?window.history.replaceState(e_(l),"",s):window.history.pushState(l,"",s),A_(decodeURIComponent(window.location.hash.slice(1)),c),Ha()},init:s=>S_(window,"popstate",t_(s,a=>{if(a&&a<0)return!r.confirm(a);{const c=t();return!r.confirm(c.value,{state:c.state})}})),create:B_(n.preload,n.explicitLinks,n.actionBase,n.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:r}})(n)}var D_=X("<a>");function Jr(n){n=Tt({inactiveClass:"inactive",activeClass:"active"},n);const[,t]=Rf(n,["href","state","class","activeClass","inactiveClass","end"]),r=l_(()=>n.href),s=f_(r),a=Ga(),c=fe(()=>{const l=r();if(l===void 0)return[!1,!1];const h=Mn(l.split(/[?#]/,1)[0]).toLowerCase(),g=decodeURI(Mn(a.pathname).toLowerCase());return[n.end?h===g:g.startsWith(h+"/")||g===h,h===g]});return(()=>{var l=D_();return Ht(l,Tt(t,{get href(){return s()||n.href},get state(){return JSON.stringify(n.state)},get classList(){return{...n.class&&{[n.class]:!0},[n.inactiveClass]:!c()[0],[n.activeClass]:c()[0],...t.classList}},link:"",get"aria-current"(){return c()[1]?"page":void 0}}),!1,!1),l})()}const Ss=Symbol("store-raw"),lr=Symbol("store-node"),sn=Symbol("store-has"),Wf=Symbol("store-self");function zf(n){let t=n[Bt];if(!t&&(Object.defineProperty(n,Bt,{value:t=new Proxy(n,U_)}),!Array.isArray(n))){const r=Object.keys(n),s=Object.getOwnPropertyDescriptors(n);for(let a=0,c=r.length;a<c;a++){const l=r[a];s[l].get&&Object.defineProperty(n,l,{enumerable:s[l].enumerable,get:s[l].get.bind(t)})}}return t}function gr(n){let t;return n!=null&&typeof n=="object"&&(n[Bt]||!(t=Object.getPrototypeOf(n))||t===Object.prototype||Array.isArray(n))}function mr(n,t=new Set){let r,s,a,c;if(r=n!=null&&n[Ss])return r;if(!gr(n)||t.has(n))return n;if(Array.isArray(n)){Object.isFrozen(n)?n=n.slice(0):t.add(n);for(let l=0,h=n.length;l<h;l++)a=n[l],(s=mr(a,t))!==a&&(n[l]=s)}else{Object.isFrozen(n)?n=Object.assign({},n):t.add(n);const l=Object.keys(n),h=Object.getOwnPropertyDescriptors(n);for(let g=0,m=l.length;g<m;g++)c=l[g],!h[c].get&&(a=n[c],(s=mr(a,t))!==a&&(n[c]=s))}return n}function As(n,t){let r=n[t];return r||Object.defineProperty(n,t,{value:r=Object.create(null)}),r}function ii(n,t,r){if(n[t])return n[t];const[s,a]=ge(r,{equals:!1,internal:!0});return s.$=a,n[t]=s}function M_(n,t){const r=Reflect.getOwnPropertyDescriptor(n,t);return!r||r.get||!r.configurable||t===Bt||t===lr||(delete r.value,delete r.writable,r.get=()=>n[Bt][t]),r}function Hf(n){ws()&&ii(As(n,lr),Wf)()}function F_(n){return Hf(n),Reflect.ownKeys(n)}const U_={get(n,t,r){if(t===Ss)return n;if(t===Bt)return r;if(t===_s)return Hf(n),r;const s=As(n,lr),a=s[t];let c=a?a():n[t];if(t===lr||t===sn||t==="__proto__")return c;if(!a){const l=Object.getOwnPropertyDescriptor(n,t);ws()&&(typeof c!="function"||n.hasOwnProperty(t))&&!(l&&l.get)&&(c=ii(s,t,c)())}return gr(c)?zf(c):c},has(n,t){return t===Ss||t===Bt||t===_s||t===lr||t===sn||t==="__proto__"?!0:(ws()&&ii(As(n,sn),t)(),t in n)},set(){return!0},deleteProperty(){return!0},ownKeys:F_,getOwnPropertyDescriptor:M_};function vr(n,t,r,s=!1){if(!s&&n[t]===r)return;const a=n[t],c=n.length;r===void 0?(delete n[t],n[sn]&&n[sn][t]&&a!==void 0&&n[sn][t].$()):(n[t]=r,n[sn]&&n[sn][t]&&a===void 0&&n[sn][t].$());let l=As(n,lr),h;if((h=ii(l,t,a))&&h.$(()=>r),Array.isArray(n)&&n.length!==c){for(let g=n.length;g<c;g++)(h=l[g])&&h.$();(h=ii(l,"length",c))&&h.$(n.length)}(h=l[Wf])&&h.$()}function Kf(n,t){const r=Object.keys(t);for(let s=0;s<r.length;s+=1){const a=r[s];vr(n,a,t[a])}}function j_(n,t){if(typeof t=="function"&&(t=t(n)),t=mr(t),Array.isArray(t)){if(n===t)return;let r=0,s=t.length;for(;r<s;r++){const a=t[r];n[r]!==a&&vr(n,r,a)}vr(n,"length",s)}else Kf(n,t)}function Gr(n,t,r=[]){let s,a=n;if(t.length>1){s=t.shift();const l=typeof s,h=Array.isArray(n);if(Array.isArray(s)){for(let g=0;g<s.length;g++)Gr(n,[s[g]].concat(t),r);return}else if(h&&l==="function"){for(let g=0;g<n.length;g++)s(n[g],g)&&Gr(n,[g].concat(t),r);return}else if(h&&l==="object"){const{from:g=0,to:m=n.length-1,by:_=1}=s;for(let y=g;y<=m;y+=_)Gr(n,[y].concat(t),r);return}else if(t.length>1){Gr(n[s],t,[s].concat(r));return}a=n[s],r=[s].concat(r)}let c=t[0];typeof c=="function"&&(c=c(a,r),c===a)||s===void 0&&c==null||(c=mr(c),s===void 0||gr(a)&&gr(c)&&!Array.isArray(c)?Kf(a,c):vr(n,s,c))}function Vf(...[n,t]){const r=mr(n||{}),s=Array.isArray(r),a=zf(r);function c(...l){xf(()=>{s&&l.length===1?j_(r,l[0]):Gr(r,l)})}return[a,c]}const Cs=new WeakMap,Gf={get(n,t){if(t===Ss)return n;const r=n[t];let s;return gr(r)?Cs.get(r)||(Cs.set(r,s=new Proxy(r,Gf)),s):r},set(n,t,r){return vr(n,t,mr(r)),!0},deleteProperty(n,t){return vr(n,t,void 0,!0),!0}};function ns(n){return t=>{if(gr(t)){let r;(r=Cs.get(t))||Cs.set(t,r=new Proxy(t,Gf)),n(r)}return t}}const Kt=Object.create(null);Kt.open="0";Kt.close="1";Kt.ping="2";Kt.pong="3";Kt.message="4";Kt.upgrade="5";Kt.noop="6";const ds=Object.create(null);Object.keys(Kt).forEach(n=>{ds[Kt[n]]=n});const La={type:"error",data:"parser error"},Yf=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Xf=typeof ArrayBuffer=="function",Zf=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Za=({type:n,data:t},r,s)=>Yf&&t instanceof Blob?r?s(t):Gl(t,s):Xf&&(t instanceof ArrayBuffer||Zf(t))?r?s(t):Gl(new Blob([t]),s):s(Kt[n]+(t||"")),Gl=(n,t)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];t("b"+(s||""))},r.readAsDataURL(n)};function Yl(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let ha;function q_(n,t){if(Yf&&n.data instanceof Blob)return n.data.arrayBuffer().then(Yl).then(t);if(Xf&&(n.data instanceof ArrayBuffer||Zf(n.data)))return t(Yl(n.data));Za(n,!1,r=>{ha||(ha=new TextEncoder),t(ha.encode(r))})}const Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Xl.length;n++)Yr[Xl.charCodeAt(n)]=n;const W_=n=>{let t=n.length*.75,r=n.length,s,a=0,c,l,h,g;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);const m=new ArrayBuffer(t),_=new Uint8Array(m);for(s=0;s<r;s+=4)c=Yr[n.charCodeAt(s)],l=Yr[n.charCodeAt(s+1)],h=Yr[n.charCodeAt(s+2)],g=Yr[n.charCodeAt(s+3)],_[a++]=c<<2|l>>4,_[a++]=(l&15)<<4|h>>2,_[a++]=(h&3)<<6|g&63;return m},z_=typeof ArrayBuffer=="function",Ja=(n,t)=>{if(typeof n!="string")return{type:"message",data:Jf(n,t)};const r=n.charAt(0);return r==="b"?{type:"message",data:H_(n.substring(1),t)}:ds[r]?n.length>1?{type:ds[r],data:n.substring(1)}:{type:ds[r]}:La},H_=(n,t)=>{if(z_){const r=W_(n);return Jf(r,t)}else return{base64:!0,data:n}},Jf=(n,t)=>{switch(t){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},Qf="",K_=(n,t)=>{const r=n.length,s=new Array(r);let a=0;n.forEach((c,l)=>{Za(c,!1,h=>{s[l]=h,++a===r&&t(s.join(Qf))})})},V_=(n,t)=>{const r=n.split(Qf),s=[];for(let a=0;a<r.length;a++){const c=Ja(r[a],t);if(s.push(c),c.type==="error")break}return s};function G_(){return new TransformStream({transform(n,t){q_(n,r=>{const s=r.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}n.data&&typeof n.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let da;function rs(n){return n.reduce((t,r)=>t+r.length,0)}function is(n,t){if(n[0].length===t)return n.shift();const r=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)r[a]=n[0][s++],s===n[0].length&&(n.shift(),s=0);return n.length&&s<n[0].length&&(n[0]=n[0].slice(s)),r}function Y_(n,t){da||(da=new TextDecoder);const r=[];let s=0,a=-1,c=!1;return new TransformStream({transform(l,h){for(r.push(l);;){if(s===0){if(rs(r)<1)break;const g=is(r,1);c=(g[0]&128)===128,a=g[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(rs(r)<2)break;const g=is(r,2);a=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),s=3}else if(s===2){if(rs(r)<8)break;const g=is(r,8),m=new DataView(g.buffer,g.byteOffset,g.length),_=m.getUint32(0);if(_>Math.pow(2,21)-1){h.enqueue(La);break}a=_*Math.pow(2,32)+m.getUint32(4),s=3}else{if(rs(r)<a)break;const g=is(r,a);h.enqueue(Ja(c?g:da.decode(g),t)),s=0}if(a===0||a>n){h.enqueue(La);break}}}})}const eh=4;function Ue(n){if(n)return X_(n)}function X_(n){for(var t in Ue.prototype)n[t]=Ue.prototype[t];return n}Ue.prototype.on=Ue.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this};Ue.prototype.once=function(n,t){function r(){this.off(n,r),t.apply(this,arguments)}return r.fn=t,this.on(n,r),this};Ue.prototype.off=Ue.prototype.removeListener=Ue.prototype.removeAllListeners=Ue.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+n];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,a=0;a<r.length;a++)if(s=r[a],s===t||s.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+n],this};Ue.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+n],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,a=r.length;s<a;++s)r[s].apply(this,t)}return this};Ue.prototype.emitReserved=Ue.prototype.emit;Ue.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Ue.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Ns=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Ct=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Z_="arraybuffer";function th(n,...t){return t.reduce((r,s)=>(n.hasOwnProperty(s)&&(r[s]=n[s]),r),{})}const J_=Ct.setTimeout,Q_=Ct.clearTimeout;function Ds(n,t){t.useNativeTimers?(n.setTimeoutFn=J_.bind(Ct),n.clearTimeoutFn=Q_.bind(Ct)):(n.setTimeoutFn=Ct.setTimeout.bind(Ct),n.clearTimeoutFn=Ct.clearTimeout.bind(Ct))}const eb=1.33;function tb(n){return typeof n=="string"?nb(n):Math.ceil((n.byteLength||n.size)*eb)}function nb(n){let t=0,r=0;for(let s=0,a=n.length;s<a;s++)t=n.charCodeAt(s),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(s++,r+=4);return r}function nh(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function rb(n){let t="";for(let r in n)n.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(n[r]));return t}function ib(n){let t={},r=n.split("&");for(let s=0,a=r.length;s<a;s++){let c=r[s].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t}class sb extends Error{constructor(t,r,s){super(t),this.description=r,this.context=s,this.type="TransportError"}}class Qa extends Ue{constructor(t){super(),this.writable=!1,Ds(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,s){return super.emitReserved("error",new sb(t,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Ja(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=rb(t);return r.length?"?"+r:""}}class ob extends Qa{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};V_(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,K_(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=nh()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let rh=!1;try{rh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ab=rh;function cb(){}class ub extends ob{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,r){const s=this.request({method:"POST",data:t});s.on("success",r),s.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=t}}class zt extends Ue{constructor(t,r,s){super(),this.createRequest=t,Ds(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const r=th(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=zt.requestsCount++,zt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cb,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete zt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}zt.requestsCount=0;zt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Zl);else if(typeof addEventListener=="function"){const n="onpagehide"in Ct?"pagehide":"unload";addEventListener(n,Zl,!1)}}function Zl(){for(let n in zt.requests)zt.requests.hasOwnProperty(n)&&zt.requests[n].abort()}const lb=function(){const n=ih({xdomain:!1});return n&&n.responseType!==null}();class fb extends ub{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=lb&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new zt(ih,this.uri(),t)}}function ih(n){const t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ab))return new XMLHttpRequest}catch{}if(!t)try{return new Ct[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const sh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hb extends Qa{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,s=sh?{}:th(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],a=r===t.length-1;Za(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}a&&Ns(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=nh()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const pa=Ct.WebSocket||Ct.MozWebSocket;class db extends hb{createSocket(t,r,s){return sh?new pa(t,r,s):r?new pa(t,r):new pa(t)}doWrite(t,r){this.ws.send(r)}}class pb extends Qa{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Y_(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(r).getReader(),a=G_();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const c=()=>{s.read().then(({done:h,value:g})=>{h||(this.onPacket(g),c())}).catch(h=>{})};c();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],a=r===t.length-1;this._writer.write(s).then(()=>{a&&Ns(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const gb={websocket:db,webtransport:pb,polling:fb},mb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $a(n){if(n.length>8e3)throw"URI too long";const t=n,r=n.indexOf("["),s=n.indexOf("]");r!=-1&&s!=-1&&(n=n.substring(0,r)+n.substring(r,s).replace(/:/g,";")+n.substring(s,n.length));let a=mb.exec(n||""),c={},l=14;for(;l--;)c[vb[l]]=a[l]||"";return r!=-1&&s!=-1&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=yb(c,c.path),c.queryKey=_b(c,c.query),c}function yb(n,t){const r=/\/{2,9}/g,s=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function _b(n,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,c){a&&(r[a]=c)}),r}const Ia=typeof addEventListener=="function"&&typeof removeEventListener=="function",ps=[];Ia&&addEventListener("offline",()=>{ps.forEach(n=>n())},!1);class bn extends Ue{constructor(t,r){if(super(),this.binaryType=Z_,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const s=$a(t);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=$a(r.host).host);Ds(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ib(this.opts.query)),Ia&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ps.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=eh,r.transport=t,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&bn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",bn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(r+=tb(a)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ns(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,s){return this._sendPacket("message",t,r,s),this}send(t,r,s){return this._sendPacket("message",t,r,s),this}_sendPacket(t,r,s,a){if(typeof r=="function"&&(a=r,r=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:t,data:r,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(bn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ia&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=ps.indexOf(this._offlineEventListener);s!==-1&&ps.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}bn.protocol=eh;class bb extends bn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),s=!1;bn.priorWebsocketSuccess=!1;const a=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",y=>{if(!s)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;bn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(_(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const E=new Error("probe error");E.transport=r.name,this.emitReserved("upgradeError",E)}}))};function c(){s||(s=!0,_(),r.close(),r=null)}const l=y=>{const E=new Error("probe error: "+y);E.transport=r.name,c(),this.emitReserved("upgradeError",E)};function h(){l("transport closed")}function g(){l("socket closed")}function m(y){r&&y.name!==r.name&&c()}const _=()=>{r.removeListener("open",a),r.removeListener("error",l),r.removeListener("close",h),this.off("close",g),this.off("upgrading",m)};r.once("open",a),r.once("error",l),r.once("close",h),this.once("close",g),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&r.push(t[s]);return r}}let wb=class extends bb{constructor(t,r={}){const s=typeof t=="object"?t:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>gb[a]).filter(a=>!!a)),super(t,s)}};function xb(n,t="",r){let s=n;r=r||typeof location<"u"&&location,n==null&&(n=r.protocol+"//"+r.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=r.protocol+n:n=r.host+n),/^(https?|wss?):\/\//.test(n)||(typeof r<"u"?n=r.protocol+"//"+n:n="https://"+n),s=$a(n)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+t,s.href=s.protocol+"://"+c+(r&&r.port===s.port?"":":"+s.port),s}const Eb=typeof ArrayBuffer=="function",Sb=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,oh=Object.prototype.toString,Ab=typeof Blob=="function"||typeof Blob<"u"&&oh.call(Blob)==="[object BlobConstructor]",Cb=typeof File=="function"||typeof File<"u"&&oh.call(File)==="[object FileConstructor]";function ec(n){return Eb&&(n instanceof ArrayBuffer||Sb(n))||Ab&&n instanceof Blob||Cb&&n instanceof File}function gs(n,t){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let r=0,s=n.length;r<s;r++)if(gs(n[r]))return!0;return!1}if(ec(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return gs(n.toJSON(),!0);for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&gs(n[r]))return!0;return!1}function Tb(n){const t=[],r=n.data,s=n;return s.data=Pa(r,t),s.attachments=t.length,{packet:s,buffers:t}}function Pa(n,t){if(!n)return n;if(ec(n)){const r={_placeholder:!0,num:t.length};return t.push(n),r}else if(Array.isArray(n)){const r=new Array(n.length);for(let s=0;s<n.length;s++)r[s]=Pa(n[s],t);return r}else if(typeof n=="object"&&!(n instanceof Date)){const r={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=Pa(n[s],t));return r}return n}function kb(n,t){return n.data=Ba(n.data,t),delete n.attachments,n}function Ba(n,t){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let r=0;r<n.length;r++)n[r]=Ba(n[r],t);else if(typeof n=="object")for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=Ba(n[r],t));return n}const Ob=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Rb=5;var pe;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(pe||(pe={}));class Lb{constructor(t){this.replacer=t}encode(t){return(t.type===pe.EVENT||t.type===pe.ACK)&&gs(t)?this.encodeAsBinary({type:t.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===pe.BINARY_EVENT||t.type===pe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Tb(t),s=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(s),a}}function Jl(n){return Object.prototype.toString.call(n)==="[object Object]"}class tc extends Ue{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const s=r.type===pe.BINARY_EVENT;s||r.type===pe.BINARY_ACK?(r.type=s?pe.EVENT:pe.ACK,this.reconstructor=new $b(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(ec(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const s={type:Number(t.charAt(0))};if(pe[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===pe.BINARY_EVENT||s.type===pe.BINARY_ACK){const c=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const l=t.substring(c,r);if(l!=Number(l)||t.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(t.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););s.nsp=t.substring(c,r)}else s.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const c=r+1;for(;++r;){const l=t.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===t.length)break}s.id=Number(t.substring(c,r+1))}if(t.charAt(++r)){const c=this.tryParse(t.substr(r));if(tc.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case pe.CONNECT:return Jl(r);case pe.DISCONNECT:return r===void 0;case pe.CONNECT_ERROR:return typeof r=="string"||Jl(r);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Ob.indexOf(r[0])===-1);case pe.ACK:case pe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class $b{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=kb(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ib=Object.freeze(Object.defineProperty({__proto__:null,Decoder:tc,Encoder:Lb,get PacketType(){return pe},protocol:Rb},Symbol.toStringTag,{value:"Module"}));function Pt(n,t,r){return n.on(t,r),function(){n.off(t,r)}}const Pb=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ah extends Ue{constructor(t,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Pt(t,"open",this.onopen.bind(this)),Pt(t,"packet",this.onpacket.bind(this)),Pt(t,"error",this.onerror.bind(this)),Pt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var s,a,c;if(Pb.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:pe.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const _=this.ids++,y=r.pop();this._registerAckCallback(_,y),l.id=_}const h=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,g=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!h||(g?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,r){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===t&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},a),l=(...h)=>{this.io.clearTimeoutFn(c),r.apply(this,h)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...r){return new Promise((s,a)=>{const c=(l,h)=>l?a(l):s(h);c.withError=!0,r.push(c),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...c)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case pe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(t);break;case pe.ACK:case pe.BINARY_ACK:this.onack(t);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let s=!1;return function(...a){s||(s=!0,r.packet({type:pe.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,t.data)}}}function Er(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Er.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*n);n=(Math.floor(t*10)&1)==0?n-r:n+r}return Math.min(n,this.max)|0};Er.prototype.reset=function(){this.attempts=0};Er.prototype.setMin=function(n){this.ms=n};Er.prototype.setMax=function(n){this.max=n};Er.prototype.setJitter=function(n){this.jitter=n};class Na extends Ue{constructor(t,r){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Ds(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Er({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||Ib;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new wb(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Pt(r,"open",function(){s.onopen(),t&&t()}),c=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),t?t(h):this.maybeReconnectOnOpen()},l=Pt(r,"error",c);if(this._timeout!==!1){const h=this._timeout,g=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),r.close()},h);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Pt(t,"ping",this.onping.bind(this)),Pt(t,"data",this.ondata.bind(this)),Pt(t,"error",this.onerror.bind(this)),Pt(t,"close",this.onclose.bind(this)),Pt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Ns(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new ah(this,t,r),this.nsps[t]=s),s}_destroy(t){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let s=0;s<r.length;s++)this.engine.write(r[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Hr={};function ms(n,t){typeof n=="object"&&(t=n,n=void 0),t=t||{};const r=xb(n,t.path||"/socket.io"),s=r.source,a=r.id,c=r.path,l=Hr[a]&&c in Hr[a].nsps,h=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let g;return h?g=new Na(s,t):(Hr[a]||(Hr[a]=new Na(s,t)),g=Hr[a]),r.query&&!t.query&&(t.query=r.queryKey),g.socket(r.path,t)}Object.assign(ms,{Manager:Na,Socket:ah,io:ms,connect:ms});const En=ms(),Sn=n=>""+n;async function ch(n){await new Promise(t=>setTimeout(t,n))}function uh(n,t){En.emit("accept-invite",[t,n])}async function lh(n,t,r,s){const a=await t();a&&n("contacts",a);const c=await r();c&&n("invites",c);const l=await s();l&&n("requests",l)}function Ql(){return window.innerWidth<420}var Bb=X('<div id=page-main class="flex flex-col mx-10 justify-start items-center "><p class="text-4xl mt-10 font-bold "> Neo(new) Communication</p><p class="mt-2 font-semibold">Connect with your closed ones privately</p><div class="mt-10 join lg:text-center"></div><div class="mt-10 text-center"><div> Already Logged in?</div></div><div class=mt-3><div class="border p-3 scale-75 bg-black rounded-2xl rotate-12"><div class=" text-white grid place-content-center "><img class="w-fit p-1 rounded-2xl bg-black h-fit">');function fh(){return(()=>{var n=Bb(),t=n.firstChild,r=t.nextSibling,s=r.nextSibling,a=s.nextSibling;a.firstChild;var c=a.nextSibling,l=c.firstChild,h=l.firstChild,g=h.firstChild;return q(s,N(Jr,{href:"/auth/register",class:"btn join-item w-fit btn-success btn-lg btn-outline",children:"Join Neolink"}),null),q(s,N(Jr,{href:"/auth/login",class:"btn join-item w-fit btn-success btn-lg ",children:"Sign In"}),null),q(a,N(Jr,{href:"/app/contacts",class:"btn btn-accent btn-dash btn-lg",children:"Go to contacts"}),null),we(m=>{var _=Ql()?"/mobile-screenshot.png":"/desktop-screenshot.jpeg",y=Ql()?"/mobile-screenshot.png":"/desktop-screenshot.jpeg";return _!==m.e&&je(g,"src",m.e=_),y!==m.t&&je(g,"alt",m.t=y),m},{e:void 0,t:void 0}),n})()}function Nb(){return N(fh,{})}const Db=n=>typeof n=="function",Ts=(n,t)=>Db(n)?n(t):n;var Fe;(function(n){n[n.ADD_TOAST=0]="ADD_TOAST",n[n.UPDATE_TOAST=1]="UPDATE_TOAST",n[n.UPSERT_TOAST=2]="UPSERT_TOAST",n[n.DISMISS_TOAST=3]="DISMISS_TOAST",n[n.REMOVE_TOAST=4]="REMOVE_TOAST",n[n.START_PAUSE=5]="START_PAUSE",n[n.END_PAUSE=6]="END_PAUSE"})(Fe||(Fe={}));const[Fn,yn]=Vf({toasts:[],pausedAt:void 0}),Mb=()=>{const{pausedAt:n,toasts:t}=Fn;if(n)return;const r=Date.now();return t.map(a=>{if(a.duration===1/0)return;const c=(a.duration||0)+a.pauseDuration-(r-a.createdAt);if(c<=0){a.visible&&Dt({type:Fe.DISMISS_TOAST,toastId:a.id});return}return setTimeout(()=>{Dt({type:Fe.DISMISS_TOAST,toastId:a.id})},c)})},Qr=new Map,ef=(n,t)=>{if(Qr.has(n))return;const r=setTimeout(()=>{Qr.delete(n),Dt({type:Fe.REMOVE_TOAST,toastId:n})},t);Qr.set(n,r)},Fb=n=>{const t=Qr.get(n);Qr.delete(n),t&&clearTimeout(t)},Dt=n=>{switch(n.type){case Fe.ADD_TOAST:yn("toasts",a=>{const c=a;return[n.toast,...c]});break;case Fe.DISMISS_TOAST:const{toastId:t}=n,r=Fn.toasts;if(t){const a=r.find(c=>c.id===t);a&&ef(t,a.unmountDelay),yn("toasts",c=>c.id===t,ns(c=>c.visible=!1))}else r.forEach(a=>{ef(a.id,a.unmountDelay)}),yn("toasts",a=>a.id!==void 0,ns(a=>a.visible=!1));break;case Fe.REMOVE_TOAST:if(!n.toastId){yn("toasts",[]);break}yn("toasts",a=>a.filter(l=>l.id!==n.toastId));break;case Fe.UPDATE_TOAST:n.toast.id&&Fb(n.toast.id),yn("toasts",a=>a.id===n.toast.id,a=>({...a,...n.toast}));break;case Fe.UPSERT_TOAST:Fn.toasts.find(a=>a.id===n.toast.id)?Dt({type:Fe.UPDATE_TOAST,toast:n.toast}):Dt({type:Fe.ADD_TOAST,toast:n.toast});break;case Fe.START_PAUSE:yn(ns(a=>{a.pausedAt=Date.now(),a.toasts.forEach(c=>{c.paused=!0})}));break;case Fe.END_PAUSE:const s=n.time-(Fn.pausedAt||0);yn(ns(a=>{a.pausedAt=void 0,a.toasts.forEach(c=>{c.pauseDuration+=s,c.paused=!1})}));break}},Ub={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},fr={id:"",icon:"",unmountDelay:500,duration:3e3,ariaProps:{role:"status","aria-live":"polite"},className:"",style:{},position:"top-right",iconTheme:{}},hh={position:"top-right",toastOptions:fr,gutter:8,containerStyle:{},containerClassName:""},ss="16px",jb={position:"fixed","z-index":9999,top:ss,bottom:ss,left:ss,right:ss,"pointer-events":"none"},qb=(()=>{let n=0;return()=>String(++n)})(),Wb=n=>{Xb(t=>({containerClassName:n.containerClassName??t.containerClassName,containerStyle:n.containerStyle??t.containerStyle,gutter:n.gutter??t.gutter,position:n.position??t.position,toastOptions:{...n.toastOptions}}))},zb=(n,t)=>{const s=n.includes("top")?{top:0,"margin-top":`${t}px`}:{bottom:0,"margin-bottom":`${t}px`},a=n.includes("center")?{"justify-content":"center"}:n.includes("right")?{"justify-content":"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:"all 230ms cubic-bezier(.21,1.02,.73,1)",...s,...a}},Hb=(n,t)=>{const r=n.getBoundingClientRect();r.height!==t.height&&Dt({type:Fe.UPDATE_TOAST,toast:{id:t.id,height:r.height}})},Kb=(n,t)=>{const{toasts:r}=Fn,s=ur().gutter||hh.gutter||8,a=r.filter(g=>(g.position||t)===t&&g.height),c=a.findIndex(g=>g.id===n.id),l=a.filter((g,m)=>m<c&&g.visible).length;return a.slice(0,l).reduce((g,m)=>g+s+(m.height||0),0)},Vb=(n,t)=>(n.position||t).includes("top")?1:-1,Gb={display:"flex","align-items":"center",color:"#363636",background:"white","box-shadow":"0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05)","max-width":"350px","pointer-events":"auto",padding:"8px 10px","border-radius":"4px","line-height":"1.3","will-change":"transform"},Yb={display:"flex","align-items":"center",flex:"1 1 auto",margin:"4px 10px","white-space":"pre-line"},os={"flex-shrink":0,"min-width":"20px","min-height":"20px",display:"flex","align-items":"center","justify-content":"center","text-align":"center"},ks=n=>({calcMode:"spline",keyTimes:"0; 1",keySplines:n}),[ur,Xb]=ge(hh),Zb=(n,t="blank",r)=>{var s,a,c;return{...fr,...ur().toastOptions,...r,type:t,message:n,pauseDuration:0,createdAt:Date.now(),visible:!0,id:r.id||qb(),paused:!1,style:{...fr.style,...(s=ur().toastOptions)==null?void 0:s.style,...r.style},duration:r.duration||((a=ur().toastOptions)==null?void 0:a.duration)||Ub[t],position:r.position||((c=ur().toastOptions)==null?void 0:c.position)||ur().position||fr.position}},li=n=>(t,r={})=>Nn(()=>{const s=Fn.toasts.find(c=>c.id===r.id),a=Zb(t,n,{...s,duration:void 0,...r});return Dt({type:Fe.UPSERT_TOAST,toast:a}),a.id}),Z=(n,t)=>li("blank")(n,t);Ke(()=>Z);Z.error=li("error");Z.success=li("success");Z.loading=li("loading");Z.custom=li("custom");Z.dismiss=n=>{Dt({type:Fe.DISMISS_TOAST,toastId:n})};Z.promise=(n,t,r)=>{const s=Z.loading(t.loading,{...r});return n.then(a=>(Z.success(Ts(t.success,a),{id:s,...r}),a)).catch(a=>{Z.error(Ts(t.error,a),{id:s,...r})}),n};Z.remove=n=>{Dt({type:Fe.REMOVE_TOAST,toastId:n})};var Jb=X("<div><style>.sldt-active{z-index:9999;}.sldt-active>*{pointer-events:auto;}");const dh=n=>(Re(()=>{Wb(n)}),Re(()=>{const t=Mb();on(()=>{t&&t.forEach(r=>r&&clearTimeout(r))})}),(()=>{var t=Jb();return t.firstChild,q(t,N(Dn,{get each(){return Fn.toasts},children:r=>N(nw,{toast:r})}),null),we(r=>{var s={...jb,...n.containerStyle},a=n.containerClassName;return r.e=rn(t,s,r.e),a!==r.t&&xn(t,r.t=a),r},{e:void 0,t:void 0}),t})());var as=X("<div>"),Qb=X("<div><div>");const ew=n=>{let t;return Re(()=>{if(!t)return;const r=Vb(n.toast,n.position);n.toast.visible?t.animate([{transform:`translate3d(0,${r*-200}%,0) scale(.6)`,opacity:.5},{transform:"translate3d(0,0,0) scale(1)",opacity:1}],{duration:350,fill:"forwards",easing:"cubic-bezier(.21,1.02,.73,1)"}):t.animate([{transform:"translate3d(0,0,-1px) scale(1)",opacity:1},{transform:`translate3d(0,${r*-150}%,-1px) scale(.4)`,opacity:0}],{duration:400,fill:"forwards",easing:"cubic-bezier(.06,.71,.55,1)"})}),(()=>{var r=Qb(),s=r.firstChild,a=t;return typeof a=="function"?dr(a,r):t=r,q(r,N(Py,{get children(){return[N(ts,{get when(){return n.toast.icon},get children(){var c=as();return q(c,()=>n.toast.icon),we(l=>rn(c,os,l)),c}}),N(ts,{get when(){return n.toast.type==="loading"},get children(){var c=as();return q(c,N(lw,Tt(()=>n.toast.iconTheme))),we(l=>rn(c,os,l)),c}}),N(ts,{get when(){return n.toast.type==="success"},get children(){var c=as();return q(c,N(ow,Tt(()=>n.toast.iconTheme))),we(l=>rn(c,os,l)),c}}),N(ts,{get when(){return n.toast.type==="error"},get children(){var c=as();return q(c,N(cw,Tt(()=>n.toast.iconTheme))),we(l=>rn(c,os,l)),c}})]}}),s),Ht(s,Tt(()=>n.toast.ariaProps),!1,!0),q(s,()=>Ts(n.toast.message,n.toast)),we(c=>{var l=n.toast.className,h={...Gb,...n.toast.style},g=Yb;return l!==c.e&&xn(r,c.e=l),c.t=rn(r,h,c.t),c.a=rn(s,g,c.a),c},{e:void 0,t:void 0,a:void 0}),r})()};var tw=X("<div>");const nw=n=>{const t=()=>{const a=n.toast.position||fr.position,c=Kb(n.toast,a);return zb(a,c)},r=fe(()=>t());let s;return Ef(()=>{s&&Hb(s,n.toast)}),(()=>{var a=tw();a.addEventListener("mouseleave",()=>Dt({type:Fe.END_PAUSE,time:Date.now()})),a.addEventListener("mouseenter",()=>Dt({type:Fe.START_PAUSE,time:Date.now()}));var c=s;return typeof c=="function"?dr(c,a):s=a,q(a,(()=>{var l=fe(()=>n.toast.type==="custom");return()=>l()?Ts(n.toast.message,n.toast):N(ew,{get toast(){return n.toast},get position(){return n.toast.position||fr.position}})})()),we(l=>{var h=r(),g=n.toast.visible?"sldt-active":"";return l.e=rn(a,h,l.e),g!==l.t&&xn(a,l.t=g),l},{e:void 0,t:void 0}),a})()};var rw=X('<svg><circle cx=16 cy=16 r=0><animate attributeName=opacity values="0; 1; 1"></animate><animate attributeName=r values="0; 17.5; 16"></svg>',!1,!0,!1),iw=X('<svg><circle cx=16 cy=16 r=12 opacity=0><animate attributeName=opacity values="1; 0"></animate><animate attributeName=r values="12; 26"></svg>',!1,!0,!1);const ph=n=>{const t={dur:"0.35s",begin:"100ms",fill:"freeze",calcMode:"spline",keyTimes:"0; 0.6; 1",keySplines:"0.25 0.71 0.4 0.88; .59 .22 .87 .63"};return(()=>{var r=rw(),s=r.firstChild,a=s.nextSibling;return Ht(s,t,!0,!1),Ht(a,t,!0,!1),we(()=>je(r,"fill",n.fill)),r})()},gh=n=>{const t={dur:"1s",begin:n.begin||"320ms",fill:"freeze",...ks("0.0 0.0 0.2 1")};return(()=>{var r=iw(),s=r.firstChild,a=s.nextSibling;return Ht(s,t,!0,!1),Ht(a,t,!0,!1),we(()=>je(r,"fill",n.fill)),r})()};var sw=X('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-dasharray=22 stroke-dashoffset=22 stroke-linecap=round stroke-miterlimit=10 d=M9.8,17.2l3.8,3.6c0.1,0.1,0.3,0.1,0.4,0l9.6-9.7><animate attributeName=stroke-dashoffset values=22;0 dur=0.25s begin=250ms fill=freeze>');const ow=n=>{const t=n.primary||"#34C759";return(()=>{var r=sw(),s=r.firstChild,a=s.firstChild;return r.style.setProperty("overflow","visible"),q(r,N(ph,{fill:t}),s),q(r,N(gh,{fill:t,begin:"350ms"}),s),Ht(a,Tt(()=>ks("0.0, 0.0, 0.58, 1.0")),!0,!1),we(()=>je(s,"stroke",n.secondary||"#FCFCFC")),r})()};var aw=X('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-dasharray=9 stroke-dashoffset=9 stroke-linecap=round d=M16,7l0,9><animate attributeName=stroke-dashoffset values=9;0 dur=0.2s begin=250ms fill=freeze></animate></path><circle cx=16 cy=23 r=2.5 opacity=0><animate attributeName=opacity values=0;1 dur=0.25s begin=350ms fill=freeze>');const cw=n=>{const t=n.primary||"#FF3B30";return(()=>{var r=aw(),s=r.firstChild,a=s.firstChild,c=s.nextSibling,l=c.firstChild;return r.style.setProperty("overflow","visible"),q(r,N(ph,{fill:t}),s),q(r,N(gh,{fill:t}),s),Ht(a,Tt(()=>ks("0.0, 0.0, 0.58, 1.0")),!0,!1),Ht(l,Tt(()=>ks("0.0, 0.0, 0.58, 1.0")),!0,!1),we(h=>{var g=n.secondary||"#FFFFFF",m=n.secondary||"#FFFFFF";return g!==h.e&&je(s,"stroke",h.e=g),m!==h.t&&je(c,"fill",h.t=m),h},{e:void 0,t:void 0}),r})()};var uw=X('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-miterlimit=10 d=M16,6c3,0,5.7,1.3,7.5,3.4c1.5,1.8,2.5,4,2.5,6.6c0,5.5-4.5,10-10,10S6,21.6,6,16S10.5,6,16,6z></path><path fill=none stroke-width=4 stroke-linecap=round stroke-miterlimit=10 d=M16,6c3,0,5.7,1.3,7.5,3.4c0.6,0.7,1.1,1.4,1.5,2.2><animateTransform attributeName=transform type=rotate from="0 16 16"to="360 16 16"dur=0.75s repeatCount=indefinite>');const lw=n=>(()=>{var t=uw(),r=t.firstChild,s=r.nextSibling;return t.style.setProperty("overflow","visible"),we(a=>{var c=n.primary||"#E5E7EB",l=n.secondary||"#4b5563";return c!==a.e&&je(r,"stroke",a.e=c),l!==a.t&&je(s,"stroke",a.t=l),a},{e:void 0,t:void 0}),t})();var fw=X("<svg stroke-width=0>");function mt(n,t){const r=Tt(n.a,t),[s,a]=Rf(r,["src"]),[c,l]=ge(""),h=fe(()=>t.title?`${n.c}<title>${t.title}</title>`:n.c);return Re(()=>l(h())),on(()=>{l("")}),(()=>{var g=fw();return Ht(g,Tt({get stroke(){var m;return(m=n.a)==null?void 0:m.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},a,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return c()}}),!0,!0),q(g,()=>$f),g})()}function hw(n){return mt({a:{viewBox:"0 0 1024 1024"},c:'<path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"/>'},n)}function dw(n){return mt({a:{viewBox:"0 0 1024 1024"},c:'<path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"/>'},n)}function tf(n){return mt({a:{viewBox:"0 0 1024 1024"},c:'<path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"/>'},n)}function pw(n){return mt({a:{viewBox:"0 0 1024 1024"},c:'<path d="M464 512a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm200 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm-400 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 0 0-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 0 0-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 0 0 112 714v152a46 46 0 0 0 46 46h152.1A449.4 449.4 0 0 0 510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 0 0 142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"/>'},n)}function gw(n){return mt({a:{viewBox:"0 0 1024 1024"},c:'<path d="m924.8 625.7-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 0 0 9.3-35.2l-.9-2.6a443.74 443.74 0 0 0-79.7-137.9l-1.8-2.1a32.12 32.12 0 0 0-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 0 0-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 0 0-25.8 25.7l-15.8 85.4a351.86 351.86 0 0 0-99 57.4l-81.9-29.1a32 32 0 0 0-35.1 9.5l-1.8 2.1a446.02 446.02 0 0 0-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 0 0-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0 0 35.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0 0 25.8 25.7l2.7.5a449.4 449.4 0 0 0 159 0l2.7-.5a32.05 32.05 0 0 0 25.8-25.7l15.7-85a350 350 0 0 0 99.7-57.6l81.3 28.9a32 32 0 0 0 35.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 0 1-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 0 1-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 0 1 624 502c0 29.9-11.7 58-32.8 79.2z"/>'},n)}function mw(n){return mt({a:{viewBox:"0 0 1024 1024"},c:'<path d="M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 888.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"/>'},n)}var vw=X('<div class="dropdown dropdown-end "><div tabindex=0 role=button class="btn btn-circle m-1"></div><ul tabindex=0 class="dropdown-content menu text-base-100 bg-info rounded-box z-1 w-52 p-2 shadow-sm"><li data-set-theme=light data-act-class=btn-active><button>Light </button></li><li data-set-theme=dark data-act-class=btn-active><button>Dark </button></li><li data-set-theme=night data-act-class=btn-active><button>Night </button></li><li data-set-theme=winter data-act-class=btn-active><button>Winter ');function yw(){return(()=>{var n=vw(),t=n.firstChild;return q(t,N(hw,{})),n})()}var _w=X('<header class="flex items-center justify-center bg-neutral text-neutral-100 py-2 font-bold"><a class="text-2xl font-bold"href=/> Neolink');function mh(){return(()=>{var n=_w();return n.firstChild,q(n,N(yw,{}),null),n})()}var bw=X('<main><div> </div><footer class="fixed bottom-0 w-full mt-5 bg-neutral text-neutral-content p-10"><div class="flex items-center gap-3 justify-center"><span class=text-lg> Created by</span> <b class=text-xl>The Neolink Team');function nf(n){return(()=>{var t=bw(),r=t.firstChild;return r.firstChild,r.nextSibling,q(t,N(mh,{}),r),q(r,()=>n.children,null),q(t,N(dh,{}),null),t})()}var ww=X(`<div><form method=post class="mt-5 flex items-center justify-center flex-col gap-3"><h1 class="text-2xl text-center font-bold "> Log in to NeoLink</h1><div class><label class="input validator "><input name=email type=email placeholder=mail@site.com required></label><div class="validator-hint hidden">Enter valid email address</div></div><div class><label class="input validator "><input name=password placeholder=Password minlength=8 pattern="(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"title="Must be more than 8 characters, including number, lowercase letter, uppercase letter"></label><p class="validator-hint hidden">Must be more than 8 characters, including<br>At least one number<br>At least one lowercase letter<br>At least one uppercase letter</p></div><div class="flex items-center justify-center gap-2"><input type=checkbox name=visbility class=checkbox><label for=visibility>Show password</label></div><button class="btn btn-info disabled:btn-disabled">Log in</button></form><div class="text-center mt-5"><a href=/auth/register class="link link-accent ">Don't have an account? Create one`),xw=X('<svg class="h-[1em] opacity-50"xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"><g stroke-linejoin=round stroke-linecap=round stroke-width=2.5 fill=none stroke=currentColor><rect width=20 height=16 x=2 y=4 rx=2></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7">'),Ew=X('<svg class="h-[1em] opacity-50"xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"><g stroke-linejoin=round stroke-linecap=round stroke-width=2.5 fill=none stroke=currentColor><path d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"></path><circle cx=16.5 cy=7.5 r=.5 fill=currentColor>');const Sw=async n=>{const t=await fetch("/api/auth/login",{method:"post",body:n}),r={status:t.status,data:await t.json()};return console.log(r.data),r},rf=Xa(Sw,"loginUser");function Aw(){const n=Ya(rf),[t,r]=ge(""),[s,a]=ge(!1),c=ai();return Re(()=>{if(n.error){Z.error(n.error);return}if(n.result)if(n.result.data.enabled2fa===!0){c("/auth/verify",{state:{email:t()}});return}else{c("/app/chats",{state:{email:t()}});return}}),(()=>{var l=ww(),h=l.firstChild,g=h.firstChild,m=g.nextSibling,_=m.firstChild,y=_.firstChild,E=m.nextSibling,A=E.firstChild,P=A.firstChild,T=E.nextSibling,L=T.firstChild,B=T.nextSibling;return je(h,"action",rf),q(_,N(Cw,{}),y),y.addEventListener("change",$=>r($.target.value)),q(A,N(Tw,{}),P),L.addEventListener("change",()=>{a(!s())}),we($=>{var D=s()?"text":"password",W=n.pending;return D!==$.e&&je(P,"type",$.e=D),W!==$.t&&(B.disabled=$.t=W),$},{e:void 0,t:void 0}),l})()}function Cw(){return xw()}function Tw(){return Ew()}var kw=X('<div><form method=post class="mt-5 flex items-center justify-center flex-col gap-3"><fieldset class="fieldset p-4 bg-base-100 border border-base-300 rounded-box w-[70vw]"><legend class=fieldset-legend>Account Options</legend><label class="fieldset-label w-max"><input type=checkbox name=enable_2fa class=checkbox>Enable 2FA (recommended) <span>Why? </span><div class="tooltip tooltip-left"><div class=tooltip-content><div class=" font-black w-40">You will get an OTP in your email every time you log in. <br> This is will increase security level of your account.</div></div><button class="text-info animate-pulse w-fit"></button></div></label></fieldset><div class><label class="input validator "><input name=email type=email placeholder=mail@site.com required></label><div class="validator-hint hidden">Enter valid email address</div></div><div><label class="input validator"><input name=username type=input required placeholder=Username pattern=[A-Za-z][A-Za-z0-9\\-]* minlength=3 maxlength=30 title="Only letters, numbers or dash"></label><p class="validator-hint hidden">Must be 3 to 30 characters<br>containing only letters, numbers or dash</p></div><div class><label class="input validator "><input name=password placeholder=Password minlength=8 pattern="(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"title="Must be more than 8 characters, including number, lowercase letter, uppercase letter"></label><p class="validator-hint hidden">Must be more than 8 characters, including<br>At least one number<br>At least one lowercase letter<br>At least one uppercase letter</p></div><div class="flex items-center justify-center gap-2"><input type=checkbox name=visbility class=checkbox><label for=visibility>Show password</label></div><button class="btn btn-info"></button></form><div class="text-center mt-5"><a href=/auth/login class="link link-accent ">Account already exists? Sign In'),Ow=X('<svg class="h-[1em] opacity-50"xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"><g stroke-linejoin=round stroke-linecap=round stroke-width=2.5 fill=none stroke=currentColor><rect width=20 height=16 x=2 y=4 rx=2></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7">'),Rw=X('<svg class="h-[1em] opacity-50"xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"><g stroke-linejoin=round stroke-linecap=round stroke-width=2.5 fill=none stroke=currentColor><path d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"></path><circle cx=16.5 cy=7.5 r=.5 fill=currentColor>'),Lw=X('<svg class="h-[1em] opacity-50"xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"><g stroke-linejoin=round stroke-linecap=round stroke-width=2.5 fill=none stroke=currentColor><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx=12 cy=7 r=4>'),$w=X('<svg tabIndex=0 xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"class="h-4 w-4 stroke-current"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">');const Iw=async(n,t)=>{t.append("enable_2fa",String(n));const r=await fetch(Sn("/api/auth/register"),{method:"post",body:t});return{status:r.status,data:await r.json()}},sf=Xa(Iw,"registerUser");function Pw(){const[n,t]=ge(!1),[r,s]=ge(!1),a=Ya(sf),c=ai();return Re(()=>{if(a.result){if(a.result.status!==200){a.result&&Z.error(a.result.data.message);return}if(!a.result.data.error){if(!n()){localStorage.setItem("email",a.input[1].get("email").toString()),c("/app/chats");return}c("/auth/verify",{state:{email:a.input[1].get("email")}})}}}),(()=>{var l=kw(),h=l.firstChild,g=h.firstChild,m=g.firstChild,_=m.nextSibling,y=_.firstChild,E=y.nextSibling,A=E.nextSibling,P=A.nextSibling,T=P.firstChild,L=T.nextSibling,B=g.nextSibling,$=B.firstChild,D=$.firstChild,W=B.nextSibling,H=W.firstChild,Q=H.firstChild,se=W.nextSibling,Te=se.firstChild,Pe=Te.firstChild,ae=se.nextSibling,ye=ae.firstChild,me=ae.nextSibling;return y.addEventListener("change",ke=>{t(!n()),console.log(ke.target.value)}),q(L,N(Mw,{})),q($,N(Bw,{}),D),q(H,N(Dw,{}),Q),q(Te,N(Nw,{}),Pe),ye.addEventListener("change",()=>{s(!r())}),q(me,()=>a.pending?"Creating account...":" Register"),we(ke=>{var ce=sf.with(n()),ve=r()?"text":"password",De=n(),Xe=a.pending;return ce!==ke.e&&je(h,"action",ke.e=ce),ve!==ke.t&&je(Pe,"type",ke.t=ve),De!==ke.a&&(Pe.required=ke.a=De),Xe!==ke.o&&(me.disabled=ke.o=Xe),ke},{e:void 0,t:void 0,a:void 0,o:void 0}),we(()=>y.checked=n()),l})()}function Bw(){return Ow()}function Nw(){return Rw()}function Dw(){return Lw()}function Mw(){return $w()}var Fw=X('<main class="text-center mx-auto text-gray-700 p-4"><h1 class="max-6-xs text-6xl text-sky-700 font-thin uppercase my-16">Not Found</h1><p class=mt-8>Visit <a href=https://gitlab.com/neolink/neolink target=_blank class="text-sky-600 hover:underline">gitlab.com/neolink/neolink</a> issues</p><p class=my-4> - ');function Uw(){return(()=>{var n=Fw(),t=n.firstChild,r=t.nextSibling,s=r.nextSibling,a=s.firstChild;return q(s,N(Jr,{href:"/",class:"text-sky-600 hover:underline",children:"Home"}),a),q(s,N(Jr,{href:"/about",class:"text-sky-600 hover:underline",children:"About Page"}),null),n})()}var cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ga={exports:{}},of;function qw(){return of||(of=1,function(n,t){function r(){var l=document.querySelector("[data-toggle-theme]"),h=l?l.getAttribute("data-key"):null;(function(g=localStorage.getItem(h||"theme")){localStorage.getItem(h||"theme")&&(document.documentElement.setAttribute("data-theme",g),l&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(m=>{m.classList.add(l.getAttribute("data-act-class"))}))})(),l&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(g=>{g.addEventListener("click",function(){var m=g.getAttribute("data-toggle-theme");if(m){var _=m.split(",");document.documentElement.getAttribute("data-theme")==_[0]?_.length==1?(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem(h||"theme")):(document.documentElement.setAttribute("data-theme",_[1]),localStorage.setItem(h||"theme",_[1])):(document.documentElement.setAttribute("data-theme",_[0]),localStorage.setItem(h||"theme",_[0]))}[...document.querySelectorAll("[data-toggle-theme]")].forEach(y=>{y.classList.toggle(this.getAttribute("data-act-class"))})})})}function s(){var l=document.querySelector("[data-set-theme='']"),h=l?l.getAttribute("data-key"):null;(function(g=localStorage.getItem(h||"theme")){if(g!=null&&g!="")if(localStorage.getItem(h||"theme")&&localStorage.getItem(h||"theme")!=""){document.documentElement.setAttribute("data-theme",g);var m=document.querySelector("[data-set-theme='"+g.toString()+"']");m&&([...document.querySelectorAll("[data-set-theme]")].forEach(_=>{_.classList.remove(_.getAttribute("data-act-class"))}),m.getAttribute("data-act-class")&&m.classList.add(m.getAttribute("data-act-class")))}else{var m=document.querySelector("[data-set-theme='']");m.getAttribute("data-act-class")&&m.classList.add(m.getAttribute("data-act-class"))}})(),[...document.querySelectorAll("[data-set-theme]")].forEach(g=>{g.addEventListener("click",function(){document.documentElement.setAttribute("data-theme",this.getAttribute("data-set-theme")),localStorage.setItem(h||"theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("[data-set-theme]")].forEach(m=>{m.classList.remove(m.getAttribute("data-act-class"))}),g.getAttribute("data-act-class")&&g.classList.add(g.getAttribute("data-act-class"))})})}function a(){var l=document.querySelector("select[data-choose-theme]"),h=l?l.getAttribute("data-key"):null;(function(g=localStorage.getItem(h||"theme")){if(localStorage.getItem(h||"theme")){document.documentElement.setAttribute("data-theme",g);var m=document.querySelector("select[data-choose-theme] [value='"+g.toString()+"']");m&&[...document.querySelectorAll("select[data-choose-theme] [value='"+g.toString()+"']")].forEach(_=>{_.selected=!0})}})(),l&&[...document.querySelectorAll("select[data-choose-theme]")].forEach(g=>{g.addEventListener("change",function(){document.documentElement.setAttribute("data-theme",this.value),localStorage.setItem(h||"theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("select[data-choose-theme] [value='"+localStorage.getItem(h||"theme")+"']")].forEach(m=>{m.selected=!0})})})}function c(l=!0){l===!0?document.addEventListener("DOMContentLoaded",function(h){r(),a(),s()}):(r(),a(),s())}n.exports={themeChange:c}}(ga)),ga.exports}var Ww=qw();function zw(n){return mt({a:{viewBox:"0 0 512 512"},c:'<path d="M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0 160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24v-40h40c13.3 0 24-10.7 24-24v-40h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zm40-256a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"/>'},n)}var Hw=X('<div><form method=post class="mt-5 flex items-center justify-center flex-col gap-3"><label class="input validator"><input type=number name=token placeholder=567890 minlength=6 pattern=^\\d{6}$ title="Must be more than 8 characters, including number, lowercase letter, uppercase letter"></label><button class="btn btn-info"type=submit>');const Kw=async(n,t)=>(t.append("email",n),await(await fetch(Sn("/api/auth/verify"),{method:"post",body:t})).json()),af=Xa(Kw,"handleUserVerify");function Vw(){const n=Ga(),t=ai(),r=Ya(af);let[s,a]=ge("");return Re(()=>{if(!n.state||!n.state.email){Z.error("Unauthenticated user",{duration:3e3}),t("/auth/login");return}console.log(s()),a(n.state.email)}),Re(async()=>{var l;if(r.error){Z.error(r.error);return}if(r.result.error===!0){Z.error(r.result.message);return}Z.loading("Redirecting withinin 3 seconds...",{duration:3e3}),Z.success("User verified successfully"),await ch(3e3);let c=(l=n.state)==null?void 0:l.email;localStorage.setItem("email",c),t("/app/chats")}),(()=>{var c=Hw(),l=c.firstChild,h=l.firstChild,g=h.firstChild,m=h.nextSibling;return q(h,N(zw,{}),g),q(m,()=>r.pending?"Verifying....":"Verify"),we(()=>je(l,"action",af.with(s()))),c})()}function Gw(n){return mt({a:{viewBox:"0 0 24 24"},c:'<path d="M5 18v3.766l1.515-.909L11.277 18H16c1.103 0 2-.897 2-2V8c0-1.103-.897-2-2-2H4c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2h1zM4 8h12v8h-5.277L7 18.234V16H4V8z"/><path d="M20 2H8c-1.103 0-2 .897-2 2h12c1.103 0 2 .897 2 2v8c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2z"/>'},n)}function Yw(n){return mt({a:{viewBox:"0 0 24 24"},c:'<path d="M12 10c1.151 0 2-.848 2-2s-.849-2-2-2c-1.15 0-2 .848-2 2s.85 2 2 2zm0 1c-2.209 0-4 1.612-4 3.6v.386h8V14.6c0-1.988-1.791-3.6-4-3.6z"/><path d="M19 2H5c-1.103 0-2 .897-2 2v13c0 1.103.897 2 2 2h4l3 3 3-3h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm-5 15-2 2-2-2H5V4h14l.002 13H14z"/>'},n)}const vh=si(),Sr=()=>{const n=qn(vh);if(!n)throw new Error("Can't find user context");return n};var Xr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Xw=Xr.exports,cf;function Zw(){return cf||(cf=1,function(n,t){(function(){var r,s="4.17.21",a=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",h="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",m=500,_="__lodash_placeholder__",y=1,E=2,A=4,P=1,T=2,L=1,B=2,$=4,D=8,W=16,H=32,Q=64,se=128,Te=256,Pe=512,ae=30,ye="...",me=800,ke=16,ce=1,ve=2,De=3,Xe=1/0,vt=9007199254740991,Mt=17976931348623157e292,kt=NaN,ze=4294967295,Ft=ze-1,zn=ze>>>1,Ms=[["ary",se],["bind",L],["bindKey",B],["curry",D],["curryRight",W],["flip",Pe],["partial",H],["partialRight",Q],["rearg",Te]],cn="[object Arguments]",Hn="[object Array]",Fs="[object AsyncFunction]",An="[object Boolean]",k="[object Date]",U="[object DOMException]",Y="[object Error]",te="[object Function]",Me="[object GeneratorFunction]",Se="[object Map]",Ve="[object Number]",Kn="[object Null]",Vt="[object Object]",ac="[object Promise]",Uh="[object Proxy]",Cr="[object RegExp]",Ot="[object Set]",Tr="[object String]",fi="[object Symbol]",jh="[object Undefined]",kr="[object WeakMap]",qh="[object WeakSet]",Or="[object ArrayBuffer]",Vn="[object DataView]",Us="[object Float32Array]",js="[object Float64Array]",qs="[object Int8Array]",Ws="[object Int16Array]",zs="[object Int32Array]",Hs="[object Uint8Array]",Ks="[object Uint8ClampedArray]",Vs="[object Uint16Array]",Gs="[object Uint32Array]",Wh=/\b__p \+= '';/g,zh=/\b(__p \+=) '' \+/g,Hh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cc=/&(?:amp|lt|gt|quot|#39);/g,uc=/[&<>"']/g,Kh=RegExp(cc.source),Vh=RegExp(uc.source),Gh=/<%-([\s\S]+?)%>/g,Yh=/<%([\s\S]+?)%>/g,lc=/<%=([\s\S]+?)%>/g,Xh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zh=/^\w*$/,Jh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ys=/[\\^$.*+?()[\]{}|]/g,Qh=RegExp(Ys.source),Xs=/^\s+/,ed=/\s/,td=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nd=/\{\n\/\* \[wrapped with (.+)\] \*/,rd=/,? & /,id=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,sd=/[()=,{}\[\]\/\s]/,od=/\\(\\)?/g,ad=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fc=/\w*$/,cd=/^[-+]0x[0-9a-f]+$/i,ud=/^0b[01]+$/i,ld=/^\[object .+?Constructor\]$/,fd=/^0o[0-7]+$/i,hd=/^(?:0|[1-9]\d*)$/,dd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hi=/($^)/,pd=/['\n\r\u2028\u2029\\]/g,di="\\ud800-\\udfff",gd="\\u0300-\\u036f",md="\\ufe20-\\ufe2f",vd="\\u20d0-\\u20ff",hc=gd+md+vd,dc="\\u2700-\\u27bf",pc="a-z\\xdf-\\xf6\\xf8-\\xff",yd="\\xac\\xb1\\xd7\\xf7",_d="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bd="\\u2000-\\u206f",wd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gc="A-Z\\xc0-\\xd6\\xd8-\\xde",mc="\\ufe0e\\ufe0f",vc=yd+_d+bd+wd,Zs="['’]",xd="["+di+"]",yc="["+vc+"]",pi="["+hc+"]",_c="\\d+",Ed="["+dc+"]",bc="["+pc+"]",wc="[^"+di+vc+_c+dc+pc+gc+"]",Js="\\ud83c[\\udffb-\\udfff]",Sd="(?:"+pi+"|"+Js+")",xc="[^"+di+"]",Qs="(?:\\ud83c[\\udde6-\\uddff]){2}",eo="[\\ud800-\\udbff][\\udc00-\\udfff]",Gn="["+gc+"]",Ec="\\u200d",Sc="(?:"+bc+"|"+wc+")",Ad="(?:"+Gn+"|"+wc+")",Ac="(?:"+Zs+"(?:d|ll|m|re|s|t|ve))?",Cc="(?:"+Zs+"(?:D|LL|M|RE|S|T|VE))?",Tc=Sd+"?",kc="["+mc+"]?",Cd="(?:"+Ec+"(?:"+[xc,Qs,eo].join("|")+")"+kc+Tc+")*",Td="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Oc=kc+Tc+Cd,Od="(?:"+[Ed,Qs,eo].join("|")+")"+Oc,Rd="(?:"+[xc+pi+"?",pi,Qs,eo,xd].join("|")+")",Ld=RegExp(Zs,"g"),$d=RegExp(pi,"g"),to=RegExp(Js+"(?="+Js+")|"+Rd+Oc,"g"),Id=RegExp([Gn+"?"+bc+"+"+Ac+"(?="+[yc,Gn,"$"].join("|")+")",Ad+"+"+Cc+"(?="+[yc,Gn+Sc,"$"].join("|")+")",Gn+"?"+Sc+"+"+Ac,Gn+"+"+Cc,kd,Td,_c,Od].join("|"),"g"),Pd=RegExp("["+Ec+di+hc+mc+"]"),Bd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dd=-1,Oe={};Oe[Us]=Oe[js]=Oe[qs]=Oe[Ws]=Oe[zs]=Oe[Hs]=Oe[Ks]=Oe[Vs]=Oe[Gs]=!0,Oe[cn]=Oe[Hn]=Oe[Or]=Oe[An]=Oe[Vn]=Oe[k]=Oe[Y]=Oe[te]=Oe[Se]=Oe[Ve]=Oe[Vt]=Oe[Cr]=Oe[Ot]=Oe[Tr]=Oe[kr]=!1;var Ce={};Ce[cn]=Ce[Hn]=Ce[Or]=Ce[Vn]=Ce[An]=Ce[k]=Ce[Us]=Ce[js]=Ce[qs]=Ce[Ws]=Ce[zs]=Ce[Se]=Ce[Ve]=Ce[Vt]=Ce[Cr]=Ce[Ot]=Ce[Tr]=Ce[fi]=Ce[Hs]=Ce[Ks]=Ce[Vs]=Ce[Gs]=!0,Ce[Y]=Ce[te]=Ce[kr]=!1;var Md={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Fd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ud={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qd=parseFloat,Wd=parseInt,Rc=typeof cs=="object"&&cs&&cs.Object===Object&&cs,zd=typeof self=="object"&&self&&self.Object===Object&&self,Ge=Rc||zd||Function("return this")(),no=t&&!t.nodeType&&t,Cn=no&&!0&&n&&!n.nodeType&&n,Lc=Cn&&Cn.exports===no,ro=Lc&&Rc.process,yt=function(){try{var w=Cn&&Cn.require&&Cn.require("util").types;return w||ro&&ro.binding&&ro.binding("util")}catch{}}(),$c=yt&&yt.isArrayBuffer,Ic=yt&&yt.isDate,Pc=yt&&yt.isMap,Bc=yt&&yt.isRegExp,Nc=yt&&yt.isSet,Dc=yt&&yt.isTypedArray;function ut(w,C,S){switch(S.length){case 0:return w.call(C);case 1:return w.call(C,S[0]);case 2:return w.call(C,S[0],S[1]);case 3:return w.call(C,S[0],S[1],S[2])}return w.apply(C,S)}function Hd(w,C,S,j){for(var J=-1,_e=w==null?0:w.length;++J<_e;){var qe=w[J];C(j,qe,S(qe),w)}return j}function _t(w,C){for(var S=-1,j=w==null?0:w.length;++S<j&&C(w[S],S,w)!==!1;);return w}function Kd(w,C){for(var S=w==null?0:w.length;S--&&C(w[S],S,w)!==!1;);return w}function Mc(w,C){for(var S=-1,j=w==null?0:w.length;++S<j;)if(!C(w[S],S,w))return!1;return!0}function un(w,C){for(var S=-1,j=w==null?0:w.length,J=0,_e=[];++S<j;){var qe=w[S];C(qe,S,w)&&(_e[J++]=qe)}return _e}function gi(w,C){var S=w==null?0:w.length;return!!S&&Yn(w,C,0)>-1}function io(w,C,S){for(var j=-1,J=w==null?0:w.length;++j<J;)if(S(C,w[j]))return!0;return!1}function Le(w,C){for(var S=-1,j=w==null?0:w.length,J=Array(j);++S<j;)J[S]=C(w[S],S,w);return J}function ln(w,C){for(var S=-1,j=C.length,J=w.length;++S<j;)w[J+S]=C[S];return w}function so(w,C,S,j){var J=-1,_e=w==null?0:w.length;for(j&&_e&&(S=w[++J]);++J<_e;)S=C(S,w[J],J,w);return S}function Vd(w,C,S,j){var J=w==null?0:w.length;for(j&&J&&(S=w[--J]);J--;)S=C(S,w[J],J,w);return S}function oo(w,C){for(var S=-1,j=w==null?0:w.length;++S<j;)if(C(w[S],S,w))return!0;return!1}var Gd=ao("length");function Yd(w){return w.split("")}function Xd(w){return w.match(id)||[]}function Fc(w,C,S){var j;return S(w,function(J,_e,qe){if(C(J,_e,qe))return j=_e,!1}),j}function mi(w,C,S,j){for(var J=w.length,_e=S+(j?1:-1);j?_e--:++_e<J;)if(C(w[_e],_e,w))return _e;return-1}function Yn(w,C,S){return C===C?cp(w,C,S):mi(w,Uc,S)}function Zd(w,C,S,j){for(var J=S-1,_e=w.length;++J<_e;)if(j(w[J],C))return J;return-1}function Uc(w){return w!==w}function jc(w,C){var S=w==null?0:w.length;return S?uo(w,C)/S:kt}function ao(w){return function(C){return C==null?r:C[w]}}function co(w){return function(C){return w==null?r:w[C]}}function qc(w,C,S,j,J){return J(w,function(_e,qe,Ae){S=j?(j=!1,_e):C(S,_e,qe,Ae)}),S}function Jd(w,C){var S=w.length;for(w.sort(C);S--;)w[S]=w[S].value;return w}function uo(w,C){for(var S,j=-1,J=w.length;++j<J;){var _e=C(w[j]);_e!==r&&(S=S===r?_e:S+_e)}return S}function lo(w,C){for(var S=-1,j=Array(w);++S<w;)j[S]=C(S);return j}function Qd(w,C){return Le(C,function(S){return[S,w[S]]})}function Wc(w){return w&&w.slice(0,Vc(w)+1).replace(Xs,"")}function lt(w){return function(C){return w(C)}}function fo(w,C){return Le(C,function(S){return w[S]})}function Rr(w,C){return w.has(C)}function zc(w,C){for(var S=-1,j=w.length;++S<j&&Yn(C,w[S],0)>-1;);return S}function Hc(w,C){for(var S=w.length;S--&&Yn(C,w[S],0)>-1;);return S}function ep(w,C){for(var S=w.length,j=0;S--;)w[S]===C&&++j;return j}var tp=co(Md),np=co(Fd);function rp(w){return"\\"+jd[w]}function ip(w,C){return w==null?r:w[C]}function Xn(w){return Pd.test(w)}function sp(w){return Bd.test(w)}function op(w){for(var C,S=[];!(C=w.next()).done;)S.push(C.value);return S}function ho(w){var C=-1,S=Array(w.size);return w.forEach(function(j,J){S[++C]=[J,j]}),S}function Kc(w,C){return function(S){return w(C(S))}}function fn(w,C){for(var S=-1,j=w.length,J=0,_e=[];++S<j;){var qe=w[S];(qe===C||qe===_)&&(w[S]=_,_e[J++]=S)}return _e}function vi(w){var C=-1,S=Array(w.size);return w.forEach(function(j){S[++C]=j}),S}function ap(w){var C=-1,S=Array(w.size);return w.forEach(function(j){S[++C]=[j,j]}),S}function cp(w,C,S){for(var j=S-1,J=w.length;++j<J;)if(w[j]===C)return j;return-1}function up(w,C,S){for(var j=S+1;j--;)if(w[j]===C)return j;return j}function Zn(w){return Xn(w)?fp(w):Gd(w)}function Rt(w){return Xn(w)?hp(w):Yd(w)}function Vc(w){for(var C=w.length;C--&&ed.test(w.charAt(C)););return C}var lp=co(Ud);function fp(w){for(var C=to.lastIndex=0;to.test(w);)++C;return C}function hp(w){return w.match(to)||[]}function dp(w){return w.match(Id)||[]}var pp=function w(C){C=C==null?Ge:Jn.defaults(Ge.Object(),C,Jn.pick(Ge,Nd));var S=C.Array,j=C.Date,J=C.Error,_e=C.Function,qe=C.Math,Ae=C.Object,po=C.RegExp,gp=C.String,bt=C.TypeError,yi=S.prototype,mp=_e.prototype,Qn=Ae.prototype,_i=C["__core-js_shared__"],bi=mp.toString,Ee=Qn.hasOwnProperty,vp=0,Gc=function(){var e=/[^.]+$/.exec(_i&&_i.keys&&_i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wi=Qn.toString,yp=bi.call(Ae),_p=Ge._,bp=po("^"+bi.call(Ee).replace(Ys,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xi=Lc?C.Buffer:r,hn=C.Symbol,Ei=C.Uint8Array,Yc=xi?xi.allocUnsafe:r,Si=Kc(Ae.getPrototypeOf,Ae),Xc=Ae.create,Zc=Qn.propertyIsEnumerable,Ai=yi.splice,Jc=hn?hn.isConcatSpreadable:r,Lr=hn?hn.iterator:r,Tn=hn?hn.toStringTag:r,Ci=function(){try{var e=$n(Ae,"defineProperty");return e({},"",{}),e}catch{}}(),wp=C.clearTimeout!==Ge.clearTimeout&&C.clearTimeout,xp=j&&j.now!==Ge.Date.now&&j.now,Ep=C.setTimeout!==Ge.setTimeout&&C.setTimeout,Ti=qe.ceil,ki=qe.floor,go=Ae.getOwnPropertySymbols,Sp=xi?xi.isBuffer:r,Qc=C.isFinite,Ap=yi.join,Cp=Kc(Ae.keys,Ae),We=qe.max,Ze=qe.min,Tp=j.now,kp=C.parseInt,eu=qe.random,Op=yi.reverse,mo=$n(C,"DataView"),$r=$n(C,"Map"),vo=$n(C,"Promise"),er=$n(C,"Set"),Ir=$n(C,"WeakMap"),Pr=$n(Ae,"create"),Oi=Ir&&new Ir,tr={},Rp=In(mo),Lp=In($r),$p=In(vo),Ip=In(er),Pp=In(Ir),Ri=hn?hn.prototype:r,Br=Ri?Ri.valueOf:r,tu=Ri?Ri.toString:r;function d(e){if(Ie(e)&&!ee(e)&&!(e instanceof he)){if(e instanceof wt)return e;if(Ee.call(e,"__wrapped__"))return nl(e)}return new wt(e)}var nr=function(){function e(){}return function(i){if(!$e(i))return{};if(Xc)return Xc(i);e.prototype=i;var o=new e;return e.prototype=r,o}}();function Li(){}function wt(e,i){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=r}d.templateSettings={escape:Gh,evaluate:Yh,interpolate:lc,variable:"",imports:{_:d}},d.prototype=Li.prototype,d.prototype.constructor=d,wt.prototype=nr(Li.prototype),wt.prototype.constructor=wt;function he(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ze,this.__views__=[]}function Bp(){var e=new he(this.__wrapped__);return e.__actions__=st(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=st(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=st(this.__views__),e}function Np(){if(this.__filtered__){var e=new he(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Dp(){var e=this.__wrapped__.value(),i=this.__dir__,o=ee(e),u=i<0,f=o?e.length:0,p=Yg(0,f,this.__views__),v=p.start,b=p.end,x=b-v,O=u?b:v-1,R=this.__iteratees__,I=R.length,M=0,z=Ze(x,this.__takeCount__);if(!o||!u&&f==x&&z==x)return Au(e,this.__actions__);var V=[];e:for(;x--&&M<z;){O+=i;for(var re=-1,G=e[O];++re<I;){var ue=R[re],de=ue.iteratee,dt=ue.type,rt=de(G);if(dt==ve)G=rt;else if(!rt){if(dt==ce)continue e;break e}}V[M++]=G}return V}he.prototype=nr(Li.prototype),he.prototype.constructor=he;function kn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function Mp(){this.__data__=Pr?Pr(null):{},this.size=0}function Fp(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i}function Up(e){var i=this.__data__;if(Pr){var o=i[e];return o===g?r:o}return Ee.call(i,e)?i[e]:r}function jp(e){var i=this.__data__;return Pr?i[e]!==r:Ee.call(i,e)}function qp(e,i){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Pr&&i===r?g:i,this}kn.prototype.clear=Mp,kn.prototype.delete=Fp,kn.prototype.get=Up,kn.prototype.has=jp,kn.prototype.set=qp;function Gt(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function Wp(){this.__data__=[],this.size=0}function zp(e){var i=this.__data__,o=$i(i,e);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():Ai.call(i,o,1),--this.size,!0}function Hp(e){var i=this.__data__,o=$i(i,e);return o<0?r:i[o][1]}function Kp(e){return $i(this.__data__,e)>-1}function Vp(e,i){var o=this.__data__,u=$i(o,e);return u<0?(++this.size,o.push([e,i])):o[u][1]=i,this}Gt.prototype.clear=Wp,Gt.prototype.delete=zp,Gt.prototype.get=Hp,Gt.prototype.has=Kp,Gt.prototype.set=Vp;function Yt(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function Gp(){this.size=0,this.__data__={hash:new kn,map:new($r||Gt),string:new kn}}function Yp(e){var i=zi(this,e).delete(e);return this.size-=i?1:0,i}function Xp(e){return zi(this,e).get(e)}function Zp(e){return zi(this,e).has(e)}function Jp(e,i){var o=zi(this,e),u=o.size;return o.set(e,i),this.size+=o.size==u?0:1,this}Yt.prototype.clear=Gp,Yt.prototype.delete=Yp,Yt.prototype.get=Xp,Yt.prototype.has=Zp,Yt.prototype.set=Jp;function On(e){var i=-1,o=e==null?0:e.length;for(this.__data__=new Yt;++i<o;)this.add(e[i])}function Qp(e){return this.__data__.set(e,g),this}function eg(e){return this.__data__.has(e)}On.prototype.add=On.prototype.push=Qp,On.prototype.has=eg;function Lt(e){var i=this.__data__=new Gt(e);this.size=i.size}function tg(){this.__data__=new Gt,this.size=0}function ng(e){var i=this.__data__,o=i.delete(e);return this.size=i.size,o}function rg(e){return this.__data__.get(e)}function ig(e){return this.__data__.has(e)}function sg(e,i){var o=this.__data__;if(o instanceof Gt){var u=o.__data__;if(!$r||u.length<a-1)return u.push([e,i]),this.size=++o.size,this;o=this.__data__=new Yt(u)}return o.set(e,i),this.size=o.size,this}Lt.prototype.clear=tg,Lt.prototype.delete=ng,Lt.prototype.get=rg,Lt.prototype.has=ig,Lt.prototype.set=sg;function nu(e,i){var o=ee(e),u=!o&&Pn(e),f=!o&&!u&&vn(e),p=!o&&!u&&!f&&or(e),v=o||u||f||p,b=v?lo(e.length,gp):[],x=b.length;for(var O in e)(i||Ee.call(e,O))&&!(v&&(O=="length"||f&&(O=="offset"||O=="parent")||p&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Qt(O,x)))&&b.push(O);return b}function ru(e){var i=e.length;return i?e[ko(0,i-1)]:r}function og(e,i){return Hi(st(e),Rn(i,0,e.length))}function ag(e){return Hi(st(e))}function yo(e,i,o){(o!==r&&!$t(e[i],o)||o===r&&!(i in e))&&Xt(e,i,o)}function Nr(e,i,o){var u=e[i];(!(Ee.call(e,i)&&$t(u,o))||o===r&&!(i in e))&&Xt(e,i,o)}function $i(e,i){for(var o=e.length;o--;)if($t(e[o][0],i))return o;return-1}function cg(e,i,o,u){return dn(e,function(f,p,v){i(u,f,o(f),v)}),u}function iu(e,i){return e&&jt(i,He(i),e)}function ug(e,i){return e&&jt(i,at(i),e)}function Xt(e,i,o){i=="__proto__"&&Ci?Ci(e,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[i]=o}function _o(e,i){for(var o=-1,u=i.length,f=S(u),p=e==null;++o<u;)f[o]=p?r:Qo(e,i[o]);return f}function Rn(e,i,o){return e===e&&(o!==r&&(e=e<=o?e:o),i!==r&&(e=e>=i?e:i)),e}function xt(e,i,o,u,f,p){var v,b=i&y,x=i&E,O=i&A;if(o&&(v=f?o(e,u,f,p):o(e)),v!==r)return v;if(!$e(e))return e;var R=ee(e);if(R){if(v=Zg(e),!b)return st(e,v)}else{var I=Je(e),M=I==te||I==Me;if(vn(e))return ku(e,b);if(I==Vt||I==cn||M&&!f){if(v=x||M?{}:Vu(e),!b)return x?Ug(e,ug(v,e)):Fg(e,iu(v,e))}else{if(!Ce[I])return f?e:{};v=Jg(e,I,b)}}p||(p=new Lt);var z=p.get(e);if(z)return z;p.set(e,v),xl(e)?e.forEach(function(G){v.add(xt(G,i,o,G,e,p))}):bl(e)&&e.forEach(function(G,ue){v.set(ue,xt(G,i,o,ue,e,p))});var V=O?x?Fo:Mo:x?at:He,re=R?r:V(e);return _t(re||e,function(G,ue){re&&(ue=G,G=e[ue]),Nr(v,ue,xt(G,i,o,ue,e,p))}),v}function lg(e){var i=He(e);return function(o){return su(o,e,i)}}function su(e,i,o){var u=o.length;if(e==null)return!u;for(e=Ae(e);u--;){var f=o[u],p=i[f],v=e[f];if(v===r&&!(f in e)||!p(v))return!1}return!0}function ou(e,i,o){if(typeof e!="function")throw new bt(l);return Wr(function(){e.apply(r,o)},i)}function Dr(e,i,o,u){var f=-1,p=gi,v=!0,b=e.length,x=[],O=i.length;if(!b)return x;o&&(i=Le(i,lt(o))),u?(p=io,v=!1):i.length>=a&&(p=Rr,v=!1,i=new On(i));e:for(;++f<b;){var R=e[f],I=o==null?R:o(R);if(R=u||R!==0?R:0,v&&I===I){for(var M=O;M--;)if(i[M]===I)continue e;x.push(R)}else p(i,I,u)||x.push(R)}return x}var dn=Iu(Ut),au=Iu(wo,!0);function fg(e,i){var o=!0;return dn(e,function(u,f,p){return o=!!i(u,f,p),o}),o}function Ii(e,i,o){for(var u=-1,f=e.length;++u<f;){var p=e[u],v=i(p);if(v!=null&&(b===r?v===v&&!ht(v):o(v,b)))var b=v,x=p}return x}function hg(e,i,o,u){var f=e.length;for(o=ne(o),o<0&&(o=-o>f?0:f+o),u=u===r||u>f?f:ne(u),u<0&&(u+=f),u=o>u?0:Sl(u);o<u;)e[o++]=i;return e}function cu(e,i){var o=[];return dn(e,function(u,f,p){i(u,f,p)&&o.push(u)}),o}function Ye(e,i,o,u,f){var p=-1,v=e.length;for(o||(o=e0),f||(f=[]);++p<v;){var b=e[p];i>0&&o(b)?i>1?Ye(b,i-1,o,u,f):ln(f,b):u||(f[f.length]=b)}return f}var bo=Pu(),uu=Pu(!0);function Ut(e,i){return e&&bo(e,i,He)}function wo(e,i){return e&&uu(e,i,He)}function Pi(e,i){return un(i,function(o){return en(e[o])})}function Ln(e,i){i=gn(i,e);for(var o=0,u=i.length;e!=null&&o<u;)e=e[qt(i[o++])];return o&&o==u?e:r}function lu(e,i,o){var u=i(e);return ee(e)?u:ln(u,o(e))}function tt(e){return e==null?e===r?jh:Kn:Tn&&Tn in Ae(e)?Gg(e):a0(e)}function xo(e,i){return e>i}function dg(e,i){return e!=null&&Ee.call(e,i)}function pg(e,i){return e!=null&&i in Ae(e)}function gg(e,i,o){return e>=Ze(i,o)&&e<We(i,o)}function Eo(e,i,o){for(var u=o?io:gi,f=e[0].length,p=e.length,v=p,b=S(p),x=1/0,O=[];v--;){var R=e[v];v&&i&&(R=Le(R,lt(i))),x=Ze(R.length,x),b[v]=!o&&(i||f>=120&&R.length>=120)?new On(v&&R):r}R=e[0];var I=-1,M=b[0];e:for(;++I<f&&O.length<x;){var z=R[I],V=i?i(z):z;if(z=o||z!==0?z:0,!(M?Rr(M,V):u(O,V,o))){for(v=p;--v;){var re=b[v];if(!(re?Rr(re,V):u(e[v],V,o)))continue e}M&&M.push(V),O.push(z)}}return O}function mg(e,i,o,u){return Ut(e,function(f,p,v){i(u,o(f),p,v)}),u}function Mr(e,i,o){i=gn(i,e),e=Zu(e,i);var u=e==null?e:e[qt(St(i))];return u==null?r:ut(u,e,o)}function fu(e){return Ie(e)&&tt(e)==cn}function vg(e){return Ie(e)&&tt(e)==Or}function yg(e){return Ie(e)&&tt(e)==k}function Fr(e,i,o,u,f){return e===i?!0:e==null||i==null||!Ie(e)&&!Ie(i)?e!==e&&i!==i:_g(e,i,o,u,Fr,f)}function _g(e,i,o,u,f,p){var v=ee(e),b=ee(i),x=v?Hn:Je(e),O=b?Hn:Je(i);x=x==cn?Vt:x,O=O==cn?Vt:O;var R=x==Vt,I=O==Vt,M=x==O;if(M&&vn(e)){if(!vn(i))return!1;v=!0,R=!1}if(M&&!R)return p||(p=new Lt),v||or(e)?zu(e,i,o,u,f,p):Kg(e,i,x,o,u,f,p);if(!(o&P)){var z=R&&Ee.call(e,"__wrapped__"),V=I&&Ee.call(i,"__wrapped__");if(z||V){var re=z?e.value():e,G=V?i.value():i;return p||(p=new Lt),f(re,G,o,u,p)}}return M?(p||(p=new Lt),Vg(e,i,o,u,f,p)):!1}function bg(e){return Ie(e)&&Je(e)==Se}function So(e,i,o,u){var f=o.length,p=f,v=!u;if(e==null)return!p;for(e=Ae(e);f--;){var b=o[f];if(v&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++f<p;){b=o[f];var x=b[0],O=e[x],R=b[1];if(v&&b[2]){if(O===r&&!(x in e))return!1}else{var I=new Lt;if(u)var M=u(O,R,x,e,i,I);if(!(M===r?Fr(R,O,P|T,u,I):M))return!1}}return!0}function hu(e){if(!$e(e)||n0(e))return!1;var i=en(e)?bp:ld;return i.test(In(e))}function wg(e){return Ie(e)&&tt(e)==Cr}function xg(e){return Ie(e)&&Je(e)==Ot}function Eg(e){return Ie(e)&&Zi(e.length)&&!!Oe[tt(e)]}function du(e){return typeof e=="function"?e:e==null?ct:typeof e=="object"?ee(e)?mu(e[0],e[1]):gu(e):Bl(e)}function Ao(e){if(!qr(e))return Cp(e);var i=[];for(var o in Ae(e))Ee.call(e,o)&&o!="constructor"&&i.push(o);return i}function Sg(e){if(!$e(e))return o0(e);var i=qr(e),o=[];for(var u in e)u=="constructor"&&(i||!Ee.call(e,u))||o.push(u);return o}function Co(e,i){return e<i}function pu(e,i){var o=-1,u=ot(e)?S(e.length):[];return dn(e,function(f,p,v){u[++o]=i(f,p,v)}),u}function gu(e){var i=jo(e);return i.length==1&&i[0][2]?Yu(i[0][0],i[0][1]):function(o){return o===e||So(o,e,i)}}function mu(e,i){return Wo(e)&&Gu(i)?Yu(qt(e),i):function(o){var u=Qo(o,e);return u===r&&u===i?ea(o,e):Fr(i,u,P|T)}}function Bi(e,i,o,u,f){e!==i&&bo(i,function(p,v){if(f||(f=new Lt),$e(p))Ag(e,i,v,o,Bi,u,f);else{var b=u?u(Ho(e,v),p,v+"",e,i,f):r;b===r&&(b=p),yo(e,v,b)}},at)}function Ag(e,i,o,u,f,p,v){var b=Ho(e,o),x=Ho(i,o),O=v.get(x);if(O){yo(e,o,O);return}var R=p?p(b,x,o+"",e,i,v):r,I=R===r;if(I){var M=ee(x),z=!M&&vn(x),V=!M&&!z&&or(x);R=x,M||z||V?ee(b)?R=b:Be(b)?R=st(b):z?(I=!1,R=ku(x,!0)):V?(I=!1,R=Ou(x,!0)):R=[]:zr(x)||Pn(x)?(R=b,Pn(b)?R=Al(b):(!$e(b)||en(b))&&(R=Vu(x))):I=!1}I&&(v.set(x,R),f(R,x,u,p,v),v.delete(x)),yo(e,o,R)}function vu(e,i){var o=e.length;if(o)return i+=i<0?o:0,Qt(i,o)?e[i]:r}function yu(e,i,o){i.length?i=Le(i,function(p){return ee(p)?function(v){return Ln(v,p.length===1?p[0]:p)}:p}):i=[ct];var u=-1;i=Le(i,lt(K()));var f=pu(e,function(p,v,b){var x=Le(i,function(O){return O(p)});return{criteria:x,index:++u,value:p}});return Jd(f,function(p,v){return Mg(p,v,o)})}function Cg(e,i){return _u(e,i,function(o,u){return ea(e,u)})}function _u(e,i,o){for(var u=-1,f=i.length,p={};++u<f;){var v=i[u],b=Ln(e,v);o(b,v)&&Ur(p,gn(v,e),b)}return p}function Tg(e){return function(i){return Ln(i,e)}}function To(e,i,o,u){var f=u?Zd:Yn,p=-1,v=i.length,b=e;for(e===i&&(i=st(i)),o&&(b=Le(e,lt(o)));++p<v;)for(var x=0,O=i[p],R=o?o(O):O;(x=f(b,R,x,u))>-1;)b!==e&&Ai.call(b,x,1),Ai.call(e,x,1);return e}function bu(e,i){for(var o=e?i.length:0,u=o-1;o--;){var f=i[o];if(o==u||f!==p){var p=f;Qt(f)?Ai.call(e,f,1):Lo(e,f)}}return e}function ko(e,i){return e+ki(eu()*(i-e+1))}function kg(e,i,o,u){for(var f=-1,p=We(Ti((i-e)/(o||1)),0),v=S(p);p--;)v[u?p:++f]=e,e+=o;return v}function Oo(e,i){var o="";if(!e||i<1||i>vt)return o;do i%2&&(o+=e),i=ki(i/2),i&&(e+=e);while(i);return o}function oe(e,i){return Ko(Xu(e,i,ct),e+"")}function Og(e){return ru(ar(e))}function Rg(e,i){var o=ar(e);return Hi(o,Rn(i,0,o.length))}function Ur(e,i,o,u){if(!$e(e))return e;i=gn(i,e);for(var f=-1,p=i.length,v=p-1,b=e;b!=null&&++f<p;){var x=qt(i[f]),O=o;if(x==="__proto__"||x==="constructor"||x==="prototype")return e;if(f!=v){var R=b[x];O=u?u(R,x,b):r,O===r&&(O=$e(R)?R:Qt(i[f+1])?[]:{})}Nr(b,x,O),b=b[x]}return e}var wu=Oi?function(e,i){return Oi.set(e,i),e}:ct,Lg=Ci?function(e,i){return Ci(e,"toString",{configurable:!0,enumerable:!1,value:na(i),writable:!0})}:ct;function $g(e){return Hi(ar(e))}function Et(e,i,o){var u=-1,f=e.length;i<0&&(i=-i>f?0:f+i),o=o>f?f:o,o<0&&(o+=f),f=i>o?0:o-i>>>0,i>>>=0;for(var p=S(f);++u<f;)p[u]=e[u+i];return p}function Ig(e,i){var o;return dn(e,function(u,f,p){return o=i(u,f,p),!o}),!!o}function Ni(e,i,o){var u=0,f=e==null?u:e.length;if(typeof i=="number"&&i===i&&f<=zn){for(;u<f;){var p=u+f>>>1,v=e[p];v!==null&&!ht(v)&&(o?v<=i:v<i)?u=p+1:f=p}return f}return Ro(e,i,ct,o)}function Ro(e,i,o,u){var f=0,p=e==null?0:e.length;if(p===0)return 0;i=o(i);for(var v=i!==i,b=i===null,x=ht(i),O=i===r;f<p;){var R=ki((f+p)/2),I=o(e[R]),M=I!==r,z=I===null,V=I===I,re=ht(I);if(v)var G=u||V;else O?G=V&&(u||M):b?G=V&&M&&(u||!z):x?G=V&&M&&!z&&(u||!re):z||re?G=!1:G=u?I<=i:I<i;G?f=R+1:p=R}return Ze(p,Ft)}function xu(e,i){for(var o=-1,u=e.length,f=0,p=[];++o<u;){var v=e[o],b=i?i(v):v;if(!o||!$t(b,x)){var x=b;p[f++]=v===0?0:v}}return p}function Eu(e){return typeof e=="number"?e:ht(e)?kt:+e}function ft(e){if(typeof e=="string")return e;if(ee(e))return Le(e,ft)+"";if(ht(e))return tu?tu.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}function pn(e,i,o){var u=-1,f=gi,p=e.length,v=!0,b=[],x=b;if(o)v=!1,f=io;else if(p>=a){var O=i?null:zg(e);if(O)return vi(O);v=!1,f=Rr,x=new On}else x=i?[]:b;e:for(;++u<p;){var R=e[u],I=i?i(R):R;if(R=o||R!==0?R:0,v&&I===I){for(var M=x.length;M--;)if(x[M]===I)continue e;i&&x.push(I),b.push(R)}else f(x,I,o)||(x!==b&&x.push(I),b.push(R))}return b}function Lo(e,i){return i=gn(i,e),e=Zu(e,i),e==null||delete e[qt(St(i))]}function Su(e,i,o,u){return Ur(e,i,o(Ln(e,i)),u)}function Di(e,i,o,u){for(var f=e.length,p=u?f:-1;(u?p--:++p<f)&&i(e[p],p,e););return o?Et(e,u?0:p,u?p+1:f):Et(e,u?p+1:0,u?f:p)}function Au(e,i){var o=e;return o instanceof he&&(o=o.value()),so(i,function(u,f){return f.func.apply(f.thisArg,ln([u],f.args))},o)}function $o(e,i,o){var u=e.length;if(u<2)return u?pn(e[0]):[];for(var f=-1,p=S(u);++f<u;)for(var v=e[f],b=-1;++b<u;)b!=f&&(p[f]=Dr(p[f]||v,e[b],i,o));return pn(Ye(p,1),i,o)}function Cu(e,i,o){for(var u=-1,f=e.length,p=i.length,v={};++u<f;){var b=u<p?i[u]:r;o(v,e[u],b)}return v}function Io(e){return Be(e)?e:[]}function Po(e){return typeof e=="function"?e:ct}function gn(e,i){return ee(e)?e:Wo(e,i)?[e]:tl(xe(e))}var Pg=oe;function mn(e,i,o){var u=e.length;return o=o===r?u:o,!i&&o>=u?e:Et(e,i,o)}var Tu=wp||function(e){return Ge.clearTimeout(e)};function ku(e,i){if(i)return e.slice();var o=e.length,u=Yc?Yc(o):new e.constructor(o);return e.copy(u),u}function Bo(e){var i=new e.constructor(e.byteLength);return new Ei(i).set(new Ei(e)),i}function Bg(e,i){var o=i?Bo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function Ng(e){var i=new e.constructor(e.source,fc.exec(e));return i.lastIndex=e.lastIndex,i}function Dg(e){return Br?Ae(Br.call(e)):{}}function Ou(e,i){var o=i?Bo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Ru(e,i){if(e!==i){var o=e!==r,u=e===null,f=e===e,p=ht(e),v=i!==r,b=i===null,x=i===i,O=ht(i);if(!b&&!O&&!p&&e>i||p&&v&&x&&!b&&!O||u&&v&&x||!o&&x||!f)return 1;if(!u&&!p&&!O&&e<i||O&&o&&f&&!u&&!p||b&&o&&f||!v&&f||!x)return-1}return 0}function Mg(e,i,o){for(var u=-1,f=e.criteria,p=i.criteria,v=f.length,b=o.length;++u<v;){var x=Ru(f[u],p[u]);if(x){if(u>=b)return x;var O=o[u];return x*(O=="desc"?-1:1)}}return e.index-i.index}function Lu(e,i,o,u){for(var f=-1,p=e.length,v=o.length,b=-1,x=i.length,O=We(p-v,0),R=S(x+O),I=!u;++b<x;)R[b]=i[b];for(;++f<v;)(I||f<p)&&(R[o[f]]=e[f]);for(;O--;)R[b++]=e[f++];return R}function $u(e,i,o,u){for(var f=-1,p=e.length,v=-1,b=o.length,x=-1,O=i.length,R=We(p-b,0),I=S(R+O),M=!u;++f<R;)I[f]=e[f];for(var z=f;++x<O;)I[z+x]=i[x];for(;++v<b;)(M||f<p)&&(I[z+o[v]]=e[f++]);return I}function st(e,i){var o=-1,u=e.length;for(i||(i=S(u));++o<u;)i[o]=e[o];return i}function jt(e,i,o,u){var f=!o;o||(o={});for(var p=-1,v=i.length;++p<v;){var b=i[p],x=u?u(o[b],e[b],b,o,e):r;x===r&&(x=e[b]),f?Xt(o,b,x):Nr(o,b,x)}return o}function Fg(e,i){return jt(e,qo(e),i)}function Ug(e,i){return jt(e,Hu(e),i)}function Mi(e,i){return function(o,u){var f=ee(o)?Hd:cg,p=i?i():{};return f(o,e,K(u,2),p)}}function rr(e){return oe(function(i,o){var u=-1,f=o.length,p=f>1?o[f-1]:r,v=f>2?o[2]:r;for(p=e.length>3&&typeof p=="function"?(f--,p):r,v&&nt(o[0],o[1],v)&&(p=f<3?r:p,f=1),i=Ae(i);++u<f;){var b=o[u];b&&e(i,b,u,p)}return i})}function Iu(e,i){return function(o,u){if(o==null)return o;if(!ot(o))return e(o,u);for(var f=o.length,p=i?f:-1,v=Ae(o);(i?p--:++p<f)&&u(v[p],p,v)!==!1;);return o}}function Pu(e){return function(i,o,u){for(var f=-1,p=Ae(i),v=u(i),b=v.length;b--;){var x=v[e?b:++f];if(o(p[x],x,p)===!1)break}return i}}function jg(e,i,o){var u=i&L,f=jr(e);function p(){var v=this&&this!==Ge&&this instanceof p?f:e;return v.apply(u?o:this,arguments)}return p}function Bu(e){return function(i){i=xe(i);var o=Xn(i)?Rt(i):r,u=o?o[0]:i.charAt(0),f=o?mn(o,1).join(""):i.slice(1);return u[e]()+f}}function ir(e){return function(i){return so(Il($l(i).replace(Ld,"")),e,"")}}function jr(e){return function(){var i=arguments;switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3]);case 5:return new e(i[0],i[1],i[2],i[3],i[4]);case 6:return new e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new e(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var o=nr(e.prototype),u=e.apply(o,i);return $e(u)?u:o}}function qg(e,i,o){var u=jr(e);function f(){for(var p=arguments.length,v=S(p),b=p,x=sr(f);b--;)v[b]=arguments[b];var O=p<3&&v[0]!==x&&v[p-1]!==x?[]:fn(v,x);if(p-=O.length,p<o)return Uu(e,i,Fi,f.placeholder,r,v,O,r,r,o-p);var R=this&&this!==Ge&&this instanceof f?u:e;return ut(R,this,v)}return f}function Nu(e){return function(i,o,u){var f=Ae(i);if(!ot(i)){var p=K(o,3);i=He(i),o=function(b){return p(f[b],b,f)}}var v=e(i,o,u);return v>-1?f[p?i[v]:v]:r}}function Du(e){return Jt(function(i){var o=i.length,u=o,f=wt.prototype.thru;for(e&&i.reverse();u--;){var p=i[u];if(typeof p!="function")throw new bt(l);if(f&&!v&&Wi(p)=="wrapper")var v=new wt([],!0)}for(u=v?u:o;++u<o;){p=i[u];var b=Wi(p),x=b=="wrapper"?Uo(p):r;x&&zo(x[0])&&x[1]==(se|D|H|Te)&&!x[4].length&&x[9]==1?v=v[Wi(x[0])].apply(v,x[3]):v=p.length==1&&zo(p)?v[b]():v.thru(p)}return function(){var O=arguments,R=O[0];if(v&&O.length==1&&ee(R))return v.plant(R).value();for(var I=0,M=o?i[I].apply(this,O):R;++I<o;)M=i[I].call(this,M);return M}})}function Fi(e,i,o,u,f,p,v,b,x,O){var R=i&se,I=i&L,M=i&B,z=i&(D|W),V=i&Pe,re=M?r:jr(e);function G(){for(var ue=arguments.length,de=S(ue),dt=ue;dt--;)de[dt]=arguments[dt];if(z)var rt=sr(G),pt=ep(de,rt);if(u&&(de=Lu(de,u,f,z)),p&&(de=$u(de,p,v,z)),ue-=pt,z&&ue<O){var Ne=fn(de,rt);return Uu(e,i,Fi,G.placeholder,o,de,Ne,b,x,O-ue)}var It=I?o:this,nn=M?It[e]:e;return ue=de.length,b?de=c0(de,b):V&&ue>1&&de.reverse(),R&&x<ue&&(de.length=x),this&&this!==Ge&&this instanceof G&&(nn=re||jr(nn)),nn.apply(It,de)}return G}function Mu(e,i){return function(o,u){return mg(o,e,i(u),{})}}function Ui(e,i){return function(o,u){var f;if(o===r&&u===r)return i;if(o!==r&&(f=o),u!==r){if(f===r)return u;typeof o=="string"||typeof u=="string"?(o=ft(o),u=ft(u)):(o=Eu(o),u=Eu(u)),f=e(o,u)}return f}}function No(e){return Jt(function(i){return i=Le(i,lt(K())),oe(function(o){var u=this;return e(i,function(f){return ut(f,u,o)})})})}function ji(e,i){i=i===r?" ":ft(i);var o=i.length;if(o<2)return o?Oo(i,e):i;var u=Oo(i,Ti(e/Zn(i)));return Xn(i)?mn(Rt(u),0,e).join(""):u.slice(0,e)}function Wg(e,i,o,u){var f=i&L,p=jr(e);function v(){for(var b=-1,x=arguments.length,O=-1,R=u.length,I=S(R+x),M=this&&this!==Ge&&this instanceof v?p:e;++O<R;)I[O]=u[O];for(;x--;)I[O++]=arguments[++b];return ut(M,f?o:this,I)}return v}function Fu(e){return function(i,o,u){return u&&typeof u!="number"&&nt(i,o,u)&&(o=u=r),i=tn(i),o===r?(o=i,i=0):o=tn(o),u=u===r?i<o?1:-1:tn(u),kg(i,o,u,e)}}function qi(e){return function(i,o){return typeof i=="string"&&typeof o=="string"||(i=At(i),o=At(o)),e(i,o)}}function Uu(e,i,o,u,f,p,v,b,x,O){var R=i&D,I=R?v:r,M=R?r:v,z=R?p:r,V=R?r:p;i|=R?H:Q,i&=~(R?Q:H),i&$||(i&=-4);var re=[e,i,f,z,I,V,M,b,x,O],G=o.apply(r,re);return zo(e)&&Ju(G,re),G.placeholder=u,Qu(G,e,i)}function Do(e){var i=qe[e];return function(o,u){if(o=At(o),u=u==null?0:Ze(ne(u),292),u&&Qc(o)){var f=(xe(o)+"e").split("e"),p=i(f[0]+"e"+(+f[1]+u));return f=(xe(p)+"e").split("e"),+(f[0]+"e"+(+f[1]-u))}return i(o)}}var zg=er&&1/vi(new er([,-0]))[1]==Xe?function(e){return new er(e)}:sa;function ju(e){return function(i){var o=Je(i);return o==Se?ho(i):o==Ot?ap(i):Qd(i,e(i))}}function Zt(e,i,o,u,f,p,v,b){var x=i&B;if(!x&&typeof e!="function")throw new bt(l);var O=u?u.length:0;if(O||(i&=-97,u=f=r),v=v===r?v:We(ne(v),0),b=b===r?b:ne(b),O-=f?f.length:0,i&Q){var R=u,I=f;u=f=r}var M=x?r:Uo(e),z=[e,i,o,u,f,R,I,p,v,b];if(M&&s0(z,M),e=z[0],i=z[1],o=z[2],u=z[3],f=z[4],b=z[9]=z[9]===r?x?0:e.length:We(z[9]-O,0),!b&&i&(D|W)&&(i&=-25),!i||i==L)var V=jg(e,i,o);else i==D||i==W?V=qg(e,i,b):(i==H||i==(L|H))&&!f.length?V=Wg(e,i,o,u):V=Fi.apply(r,z);var re=M?wu:Ju;return Qu(re(V,z),e,i)}function qu(e,i,o,u){return e===r||$t(e,Qn[o])&&!Ee.call(u,o)?i:e}function Wu(e,i,o,u,f,p){return $e(e)&&$e(i)&&(p.set(i,e),Bi(e,i,r,Wu,p),p.delete(i)),e}function Hg(e){return zr(e)?r:e}function zu(e,i,o,u,f,p){var v=o&P,b=e.length,x=i.length;if(b!=x&&!(v&&x>b))return!1;var O=p.get(e),R=p.get(i);if(O&&R)return O==i&&R==e;var I=-1,M=!0,z=o&T?new On:r;for(p.set(e,i),p.set(i,e);++I<b;){var V=e[I],re=i[I];if(u)var G=v?u(re,V,I,i,e,p):u(V,re,I,e,i,p);if(G!==r){if(G)continue;M=!1;break}if(z){if(!oo(i,function(ue,de){if(!Rr(z,de)&&(V===ue||f(V,ue,o,u,p)))return z.push(de)})){M=!1;break}}else if(!(V===re||f(V,re,o,u,p))){M=!1;break}}return p.delete(e),p.delete(i),M}function Kg(e,i,o,u,f,p,v){switch(o){case Vn:if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case Or:return!(e.byteLength!=i.byteLength||!p(new Ei(e),new Ei(i)));case An:case k:case Ve:return $t(+e,+i);case Y:return e.name==i.name&&e.message==i.message;case Cr:case Tr:return e==i+"";case Se:var b=ho;case Ot:var x=u&P;if(b||(b=vi),e.size!=i.size&&!x)return!1;var O=v.get(e);if(O)return O==i;u|=T,v.set(e,i);var R=zu(b(e),b(i),u,f,p,v);return v.delete(e),R;case fi:if(Br)return Br.call(e)==Br.call(i)}return!1}function Vg(e,i,o,u,f,p){var v=o&P,b=Mo(e),x=b.length,O=Mo(i),R=O.length;if(x!=R&&!v)return!1;for(var I=x;I--;){var M=b[I];if(!(v?M in i:Ee.call(i,M)))return!1}var z=p.get(e),V=p.get(i);if(z&&V)return z==i&&V==e;var re=!0;p.set(e,i),p.set(i,e);for(var G=v;++I<x;){M=b[I];var ue=e[M],de=i[M];if(u)var dt=v?u(de,ue,M,i,e,p):u(ue,de,M,e,i,p);if(!(dt===r?ue===de||f(ue,de,o,u,p):dt)){re=!1;break}G||(G=M=="constructor")}if(re&&!G){var rt=e.constructor,pt=i.constructor;rt!=pt&&"constructor"in e&&"constructor"in i&&!(typeof rt=="function"&&rt instanceof rt&&typeof pt=="function"&&pt instanceof pt)&&(re=!1)}return p.delete(e),p.delete(i),re}function Jt(e){return Ko(Xu(e,r,sl),e+"")}function Mo(e){return lu(e,He,qo)}function Fo(e){return lu(e,at,Hu)}var Uo=Oi?function(e){return Oi.get(e)}:sa;function Wi(e){for(var i=e.name+"",o=tr[i],u=Ee.call(tr,i)?o.length:0;u--;){var f=o[u],p=f.func;if(p==null||p==e)return f.name}return i}function sr(e){var i=Ee.call(d,"placeholder")?d:e;return i.placeholder}function K(){var e=d.iteratee||ra;return e=e===ra?du:e,arguments.length?e(arguments[0],arguments[1]):e}function zi(e,i){var o=e.__data__;return t0(i)?o[typeof i=="string"?"string":"hash"]:o.map}function jo(e){for(var i=He(e),o=i.length;o--;){var u=i[o],f=e[u];i[o]=[u,f,Gu(f)]}return i}function $n(e,i){var o=ip(e,i);return hu(o)?o:r}function Gg(e){var i=Ee.call(e,Tn),o=e[Tn];try{e[Tn]=r;var u=!0}catch{}var f=wi.call(e);return u&&(i?e[Tn]=o:delete e[Tn]),f}var qo=go?function(e){return e==null?[]:(e=Ae(e),un(go(e),function(i){return Zc.call(e,i)}))}:oa,Hu=go?function(e){for(var i=[];e;)ln(i,qo(e)),e=Si(e);return i}:oa,Je=tt;(mo&&Je(new mo(new ArrayBuffer(1)))!=Vn||$r&&Je(new $r)!=Se||vo&&Je(vo.resolve())!=ac||er&&Je(new er)!=Ot||Ir&&Je(new Ir)!=kr)&&(Je=function(e){var i=tt(e),o=i==Vt?e.constructor:r,u=o?In(o):"";if(u)switch(u){case Rp:return Vn;case Lp:return Se;case $p:return ac;case Ip:return Ot;case Pp:return kr}return i});function Yg(e,i,o){for(var u=-1,f=o.length;++u<f;){var p=o[u],v=p.size;switch(p.type){case"drop":e+=v;break;case"dropRight":i-=v;break;case"take":i=Ze(i,e+v);break;case"takeRight":e=We(e,i-v);break}}return{start:e,end:i}}function Xg(e){var i=e.match(nd);return i?i[1].split(rd):[]}function Ku(e,i,o){i=gn(i,e);for(var u=-1,f=i.length,p=!1;++u<f;){var v=qt(i[u]);if(!(p=e!=null&&o(e,v)))break;e=e[v]}return p||++u!=f?p:(f=e==null?0:e.length,!!f&&Zi(f)&&Qt(v,f)&&(ee(e)||Pn(e)))}function Zg(e){var i=e.length,o=new e.constructor(i);return i&&typeof e[0]=="string"&&Ee.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function Vu(e){return typeof e.constructor=="function"&&!qr(e)?nr(Si(e)):{}}function Jg(e,i,o){var u=e.constructor;switch(i){case Or:return Bo(e);case An:case k:return new u(+e);case Vn:return Bg(e,o);case Us:case js:case qs:case Ws:case zs:case Hs:case Ks:case Vs:case Gs:return Ou(e,o);case Se:return new u;case Ve:case Tr:return new u(e);case Cr:return Ng(e);case Ot:return new u;case fi:return Dg(e)}}function Qg(e,i){var o=i.length;if(!o)return e;var u=o-1;return i[u]=(o>1?"& ":"")+i[u],i=i.join(o>2?", ":" "),e.replace(td,`{
/* [wrapped with `+i+`] */
`)}function e0(e){return ee(e)||Pn(e)||!!(Jc&&e&&e[Jc])}function Qt(e,i){var o=typeof e;return i=i??vt,!!i&&(o=="number"||o!="symbol"&&hd.test(e))&&e>-1&&e%1==0&&e<i}function nt(e,i,o){if(!$e(o))return!1;var u=typeof i;return(u=="number"?ot(o)&&Qt(i,o.length):u=="string"&&i in o)?$t(o[i],e):!1}function Wo(e,i){if(ee(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||ht(e)?!0:Zh.test(e)||!Xh.test(e)||i!=null&&e in Ae(i)}function t0(e){var i=typeof e;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?e!=="__proto__":e===null}function zo(e){var i=Wi(e),o=d[i];if(typeof o!="function"||!(i in he.prototype))return!1;if(e===o)return!0;var u=Uo(o);return!!u&&e===u[0]}function n0(e){return!!Gc&&Gc in e}var r0=_i?en:aa;function qr(e){var i=e&&e.constructor,o=typeof i=="function"&&i.prototype||Qn;return e===o}function Gu(e){return e===e&&!$e(e)}function Yu(e,i){return function(o){return o==null?!1:o[e]===i&&(i!==r||e in Ae(o))}}function i0(e){var i=Yi(e,function(u){return o.size===m&&o.clear(),u}),o=i.cache;return i}function s0(e,i){var o=e[1],u=i[1],f=o|u,p=f<(L|B|se),v=u==se&&o==D||u==se&&o==Te&&e[7].length<=i[8]||u==(se|Te)&&i[7].length<=i[8]&&o==D;if(!(p||v))return e;u&L&&(e[2]=i[2],f|=o&L?0:$);var b=i[3];if(b){var x=e[3];e[3]=x?Lu(x,b,i[4]):b,e[4]=x?fn(e[3],_):i[4]}return b=i[5],b&&(x=e[5],e[5]=x?$u(x,b,i[6]):b,e[6]=x?fn(e[5],_):i[6]),b=i[7],b&&(e[7]=b),u&se&&(e[8]=e[8]==null?i[8]:Ze(e[8],i[8])),e[9]==null&&(e[9]=i[9]),e[0]=i[0],e[1]=f,e}function o0(e){var i=[];if(e!=null)for(var o in Ae(e))i.push(o);return i}function a0(e){return wi.call(e)}function Xu(e,i,o){return i=We(i===r?e.length-1:i,0),function(){for(var u=arguments,f=-1,p=We(u.length-i,0),v=S(p);++f<p;)v[f]=u[i+f];f=-1;for(var b=S(i+1);++f<i;)b[f]=u[f];return b[i]=o(v),ut(e,this,b)}}function Zu(e,i){return i.length<2?e:Ln(e,Et(i,0,-1))}function c0(e,i){for(var o=e.length,u=Ze(i.length,o),f=st(e);u--;){var p=i[u];e[u]=Qt(p,o)?f[p]:r}return e}function Ho(e,i){if(!(i==="constructor"&&typeof e[i]=="function")&&i!="__proto__")return e[i]}var Ju=el(wu),Wr=Ep||function(e,i){return Ge.setTimeout(e,i)},Ko=el(Lg);function Qu(e,i,o){var u=i+"";return Ko(e,Qg(u,u0(Xg(u),o)))}function el(e){var i=0,o=0;return function(){var u=Tp(),f=ke-(u-o);if(o=u,f>0){if(++i>=me)return arguments[0]}else i=0;return e.apply(r,arguments)}}function Hi(e,i){var o=-1,u=e.length,f=u-1;for(i=i===r?u:i;++o<i;){var p=ko(o,f),v=e[p];e[p]=e[o],e[o]=v}return e.length=i,e}var tl=i0(function(e){var i=[];return e.charCodeAt(0)===46&&i.push(""),e.replace(Jh,function(o,u,f,p){i.push(f?p.replace(od,"$1"):u||o)}),i});function qt(e){if(typeof e=="string"||ht(e))return e;var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}function In(e){if(e!=null){try{return bi.call(e)}catch{}try{return e+""}catch{}}return""}function u0(e,i){return _t(Ms,function(o){var u="_."+o[0];i&o[1]&&!gi(e,u)&&e.push(u)}),e.sort()}function nl(e){if(e instanceof he)return e.clone();var i=new wt(e.__wrapped__,e.__chain__);return i.__actions__=st(e.__actions__),i.__index__=e.__index__,i.__values__=e.__values__,i}function l0(e,i,o){(o?nt(e,i,o):i===r)?i=1:i=We(ne(i),0);var u=e==null?0:e.length;if(!u||i<1)return[];for(var f=0,p=0,v=S(Ti(u/i));f<u;)v[p++]=Et(e,f,f+=i);return v}function f0(e){for(var i=-1,o=e==null?0:e.length,u=0,f=[];++i<o;){var p=e[i];p&&(f[u++]=p)}return f}function h0(){var e=arguments.length;if(!e)return[];for(var i=S(e-1),o=arguments[0],u=e;u--;)i[u-1]=arguments[u];return ln(ee(o)?st(o):[o],Ye(i,1))}var d0=oe(function(e,i){return Be(e)?Dr(e,Ye(i,1,Be,!0)):[]}),p0=oe(function(e,i){var o=St(i);return Be(o)&&(o=r),Be(e)?Dr(e,Ye(i,1,Be,!0),K(o,2)):[]}),g0=oe(function(e,i){var o=St(i);return Be(o)&&(o=r),Be(e)?Dr(e,Ye(i,1,Be,!0),r,o):[]});function m0(e,i,o){var u=e==null?0:e.length;return u?(i=o||i===r?1:ne(i),Et(e,i<0?0:i,u)):[]}function v0(e,i,o){var u=e==null?0:e.length;return u?(i=o||i===r?1:ne(i),i=u-i,Et(e,0,i<0?0:i)):[]}function y0(e,i){return e&&e.length?Di(e,K(i,3),!0,!0):[]}function _0(e,i){return e&&e.length?Di(e,K(i,3),!0):[]}function b0(e,i,o,u){var f=e==null?0:e.length;return f?(o&&typeof o!="number"&&nt(e,i,o)&&(o=0,u=f),hg(e,i,o,u)):[]}function rl(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var f=o==null?0:ne(o);return f<0&&(f=We(u+f,0)),mi(e,K(i,3),f)}function il(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var f=u-1;return o!==r&&(f=ne(o),f=o<0?We(u+f,0):Ze(f,u-1)),mi(e,K(i,3),f,!0)}function sl(e){var i=e==null?0:e.length;return i?Ye(e,1):[]}function w0(e){var i=e==null?0:e.length;return i?Ye(e,Xe):[]}function x0(e,i){var o=e==null?0:e.length;return o?(i=i===r?1:ne(i),Ye(e,i)):[]}function E0(e){for(var i=-1,o=e==null?0:e.length,u={};++i<o;){var f=e[i];u[f[0]]=f[1]}return u}function ol(e){return e&&e.length?e[0]:r}function S0(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var f=o==null?0:ne(o);return f<0&&(f=We(u+f,0)),Yn(e,i,f)}function A0(e){var i=e==null?0:e.length;return i?Et(e,0,-1):[]}var C0=oe(function(e){var i=Le(e,Io);return i.length&&i[0]===e[0]?Eo(i):[]}),T0=oe(function(e){var i=St(e),o=Le(e,Io);return i===St(o)?i=r:o.pop(),o.length&&o[0]===e[0]?Eo(o,K(i,2)):[]}),k0=oe(function(e){var i=St(e),o=Le(e,Io);return i=typeof i=="function"?i:r,i&&o.pop(),o.length&&o[0]===e[0]?Eo(o,r,i):[]});function O0(e,i){return e==null?"":Ap.call(e,i)}function St(e){var i=e==null?0:e.length;return i?e[i-1]:r}function R0(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var f=u;return o!==r&&(f=ne(o),f=f<0?We(u+f,0):Ze(f,u-1)),i===i?up(e,i,f):mi(e,Uc,f,!0)}function L0(e,i){return e&&e.length?vu(e,ne(i)):r}var $0=oe(al);function al(e,i){return e&&e.length&&i&&i.length?To(e,i):e}function I0(e,i,o){return e&&e.length&&i&&i.length?To(e,i,K(o,2)):e}function P0(e,i,o){return e&&e.length&&i&&i.length?To(e,i,r,o):e}var B0=Jt(function(e,i){var o=e==null?0:e.length,u=_o(e,i);return bu(e,Le(i,function(f){return Qt(f,o)?+f:f}).sort(Ru)),u});function N0(e,i){var o=[];if(!(e&&e.length))return o;var u=-1,f=[],p=e.length;for(i=K(i,3);++u<p;){var v=e[u];i(v,u,e)&&(o.push(v),f.push(u))}return bu(e,f),o}function Vo(e){return e==null?e:Op.call(e)}function D0(e,i,o){var u=e==null?0:e.length;return u?(o&&typeof o!="number"&&nt(e,i,o)?(i=0,o=u):(i=i==null?0:ne(i),o=o===r?u:ne(o)),Et(e,i,o)):[]}function M0(e,i){return Ni(e,i)}function F0(e,i,o){return Ro(e,i,K(o,2))}function U0(e,i){var o=e==null?0:e.length;if(o){var u=Ni(e,i);if(u<o&&$t(e[u],i))return u}return-1}function j0(e,i){return Ni(e,i,!0)}function q0(e,i,o){return Ro(e,i,K(o,2),!0)}function W0(e,i){var o=e==null?0:e.length;if(o){var u=Ni(e,i,!0)-1;if($t(e[u],i))return u}return-1}function z0(e){return e&&e.length?xu(e):[]}function H0(e,i){return e&&e.length?xu(e,K(i,2)):[]}function K0(e){var i=e==null?0:e.length;return i?Et(e,1,i):[]}function V0(e,i,o){return e&&e.length?(i=o||i===r?1:ne(i),Et(e,0,i<0?0:i)):[]}function G0(e,i,o){var u=e==null?0:e.length;return u?(i=o||i===r?1:ne(i),i=u-i,Et(e,i<0?0:i,u)):[]}function Y0(e,i){return e&&e.length?Di(e,K(i,3),!1,!0):[]}function X0(e,i){return e&&e.length?Di(e,K(i,3)):[]}var Z0=oe(function(e){return pn(Ye(e,1,Be,!0))}),J0=oe(function(e){var i=St(e);return Be(i)&&(i=r),pn(Ye(e,1,Be,!0),K(i,2))}),Q0=oe(function(e){var i=St(e);return i=typeof i=="function"?i:r,pn(Ye(e,1,Be,!0),r,i)});function em(e){return e&&e.length?pn(e):[]}function tm(e,i){return e&&e.length?pn(e,K(i,2)):[]}function nm(e,i){return i=typeof i=="function"?i:r,e&&e.length?pn(e,r,i):[]}function Go(e){if(!(e&&e.length))return[];var i=0;return e=un(e,function(o){if(Be(o))return i=We(o.length,i),!0}),lo(i,function(o){return Le(e,ao(o))})}function cl(e,i){if(!(e&&e.length))return[];var o=Go(e);return i==null?o:Le(o,function(u){return ut(i,r,u)})}var rm=oe(function(e,i){return Be(e)?Dr(e,i):[]}),im=oe(function(e){return $o(un(e,Be))}),sm=oe(function(e){var i=St(e);return Be(i)&&(i=r),$o(un(e,Be),K(i,2))}),om=oe(function(e){var i=St(e);return i=typeof i=="function"?i:r,$o(un(e,Be),r,i)}),am=oe(Go);function cm(e,i){return Cu(e||[],i||[],Nr)}function um(e,i){return Cu(e||[],i||[],Ur)}var lm=oe(function(e){var i=e.length,o=i>1?e[i-1]:r;return o=typeof o=="function"?(e.pop(),o):r,cl(e,o)});function ul(e){var i=d(e);return i.__chain__=!0,i}function fm(e,i){return i(e),e}function Ki(e,i){return i(e)}var hm=Jt(function(e){var i=e.length,o=i?e[0]:0,u=this.__wrapped__,f=function(p){return _o(p,e)};return i>1||this.__actions__.length||!(u instanceof he)||!Qt(o)?this.thru(f):(u=u.slice(o,+o+(i?1:0)),u.__actions__.push({func:Ki,args:[f],thisArg:r}),new wt(u,this.__chain__).thru(function(p){return i&&!p.length&&p.push(r),p}))});function dm(){return ul(this)}function pm(){return new wt(this.value(),this.__chain__)}function gm(){this.__values__===r&&(this.__values__=El(this.value()));var e=this.__index__>=this.__values__.length,i=e?r:this.__values__[this.__index__++];return{done:e,value:i}}function mm(){return this}function vm(e){for(var i,o=this;o instanceof Li;){var u=nl(o);u.__index__=0,u.__values__=r,i?f.__wrapped__=u:i=u;var f=u;o=o.__wrapped__}return f.__wrapped__=e,i}function ym(){var e=this.__wrapped__;if(e instanceof he){var i=e;return this.__actions__.length&&(i=new he(this)),i=i.reverse(),i.__actions__.push({func:Ki,args:[Vo],thisArg:r}),new wt(i,this.__chain__)}return this.thru(Vo)}function _m(){return Au(this.__wrapped__,this.__actions__)}var bm=Mi(function(e,i,o){Ee.call(e,o)?++e[o]:Xt(e,o,1)});function wm(e,i,o){var u=ee(e)?Mc:fg;return o&&nt(e,i,o)&&(i=r),u(e,K(i,3))}function xm(e,i){var o=ee(e)?un:cu;return o(e,K(i,3))}var Em=Nu(rl),Sm=Nu(il);function Am(e,i){return Ye(Vi(e,i),1)}function Cm(e,i){return Ye(Vi(e,i),Xe)}function Tm(e,i,o){return o=o===r?1:ne(o),Ye(Vi(e,i),o)}function ll(e,i){var o=ee(e)?_t:dn;return o(e,K(i,3))}function fl(e,i){var o=ee(e)?Kd:au;return o(e,K(i,3))}var km=Mi(function(e,i,o){Ee.call(e,o)?e[o].push(i):Xt(e,o,[i])});function Om(e,i,o,u){e=ot(e)?e:ar(e),o=o&&!u?ne(o):0;var f=e.length;return o<0&&(o=We(f+o,0)),Ji(e)?o<=f&&e.indexOf(i,o)>-1:!!f&&Yn(e,i,o)>-1}var Rm=oe(function(e,i,o){var u=-1,f=typeof i=="function",p=ot(e)?S(e.length):[];return dn(e,function(v){p[++u]=f?ut(i,v,o):Mr(v,i,o)}),p}),Lm=Mi(function(e,i,o){Xt(e,o,i)});function Vi(e,i){var o=ee(e)?Le:pu;return o(e,K(i,3))}function $m(e,i,o,u){return e==null?[]:(ee(i)||(i=i==null?[]:[i]),o=u?r:o,ee(o)||(o=o==null?[]:[o]),yu(e,i,o))}var Im=Mi(function(e,i,o){e[o?0:1].push(i)},function(){return[[],[]]});function Pm(e,i,o){var u=ee(e)?so:qc,f=arguments.length<3;return u(e,K(i,4),o,f,dn)}function Bm(e,i,o){var u=ee(e)?Vd:qc,f=arguments.length<3;return u(e,K(i,4),o,f,au)}function Nm(e,i){var o=ee(e)?un:cu;return o(e,Xi(K(i,3)))}function Dm(e){var i=ee(e)?ru:Og;return i(e)}function Mm(e,i,o){(o?nt(e,i,o):i===r)?i=1:i=ne(i);var u=ee(e)?og:Rg;return u(e,i)}function Fm(e){var i=ee(e)?ag:$g;return i(e)}function Um(e){if(e==null)return 0;if(ot(e))return Ji(e)?Zn(e):e.length;var i=Je(e);return i==Se||i==Ot?e.size:Ao(e).length}function jm(e,i,o){var u=ee(e)?oo:Ig;return o&&nt(e,i,o)&&(i=r),u(e,K(i,3))}var qm=oe(function(e,i){if(e==null)return[];var o=i.length;return o>1&&nt(e,i[0],i[1])?i=[]:o>2&&nt(i[0],i[1],i[2])&&(i=[i[0]]),yu(e,Ye(i,1),[])}),Gi=xp||function(){return Ge.Date.now()};function Wm(e,i){if(typeof i!="function")throw new bt(l);return e=ne(e),function(){if(--e<1)return i.apply(this,arguments)}}function hl(e,i,o){return i=o?r:i,i=e&&i==null?e.length:i,Zt(e,se,r,r,r,r,i)}function dl(e,i){var o;if(typeof i!="function")throw new bt(l);return e=ne(e),function(){return--e>0&&(o=i.apply(this,arguments)),e<=1&&(i=r),o}}var Yo=oe(function(e,i,o){var u=L;if(o.length){var f=fn(o,sr(Yo));u|=H}return Zt(e,u,i,o,f)}),pl=oe(function(e,i,o){var u=L|B;if(o.length){var f=fn(o,sr(pl));u|=H}return Zt(i,u,e,o,f)});function gl(e,i,o){i=o?r:i;var u=Zt(e,D,r,r,r,r,r,i);return u.placeholder=gl.placeholder,u}function ml(e,i,o){i=o?r:i;var u=Zt(e,W,r,r,r,r,r,i);return u.placeholder=ml.placeholder,u}function vl(e,i,o){var u,f,p,v,b,x,O=0,R=!1,I=!1,M=!0;if(typeof e!="function")throw new bt(l);i=At(i)||0,$e(o)&&(R=!!o.leading,I="maxWait"in o,p=I?We(At(o.maxWait)||0,i):p,M="trailing"in o?!!o.trailing:M);function z(Ne){var It=u,nn=f;return u=f=r,O=Ne,v=e.apply(nn,It),v}function V(Ne){return O=Ne,b=Wr(ue,i),R?z(Ne):v}function re(Ne){var It=Ne-x,nn=Ne-O,Nl=i-It;return I?Ze(Nl,p-nn):Nl}function G(Ne){var It=Ne-x,nn=Ne-O;return x===r||It>=i||It<0||I&&nn>=p}function ue(){var Ne=Gi();if(G(Ne))return de(Ne);b=Wr(ue,re(Ne))}function de(Ne){return b=r,M&&u?z(Ne):(u=f=r,v)}function dt(){b!==r&&Tu(b),O=0,u=x=f=b=r}function rt(){return b===r?v:de(Gi())}function pt(){var Ne=Gi(),It=G(Ne);if(u=arguments,f=this,x=Ne,It){if(b===r)return V(x);if(I)return Tu(b),b=Wr(ue,i),z(x)}return b===r&&(b=Wr(ue,i)),v}return pt.cancel=dt,pt.flush=rt,pt}var zm=oe(function(e,i){return ou(e,1,i)}),Hm=oe(function(e,i,o){return ou(e,At(i)||0,o)});function Km(e){return Zt(e,Pe)}function Yi(e,i){if(typeof e!="function"||i!=null&&typeof i!="function")throw new bt(l);var o=function(){var u=arguments,f=i?i.apply(this,u):u[0],p=o.cache;if(p.has(f))return p.get(f);var v=e.apply(this,u);return o.cache=p.set(f,v)||p,v};return o.cache=new(Yi.Cache||Yt),o}Yi.Cache=Yt;function Xi(e){if(typeof e!="function")throw new bt(l);return function(){var i=arguments;switch(i.length){case 0:return!e.call(this);case 1:return!e.call(this,i[0]);case 2:return!e.call(this,i[0],i[1]);case 3:return!e.call(this,i[0],i[1],i[2])}return!e.apply(this,i)}}function Vm(e){return dl(2,e)}var Gm=Pg(function(e,i){i=i.length==1&&ee(i[0])?Le(i[0],lt(K())):Le(Ye(i,1),lt(K()));var o=i.length;return oe(function(u){for(var f=-1,p=Ze(u.length,o);++f<p;)u[f]=i[f].call(this,u[f]);return ut(e,this,u)})}),Xo=oe(function(e,i){var o=fn(i,sr(Xo));return Zt(e,H,r,i,o)}),yl=oe(function(e,i){var o=fn(i,sr(yl));return Zt(e,Q,r,i,o)}),Ym=Jt(function(e,i){return Zt(e,Te,r,r,r,i)});function Xm(e,i){if(typeof e!="function")throw new bt(l);return i=i===r?i:ne(i),oe(e,i)}function Zm(e,i){if(typeof e!="function")throw new bt(l);return i=i==null?0:We(ne(i),0),oe(function(o){var u=o[i],f=mn(o,0,i);return u&&ln(f,u),ut(e,this,f)})}function Jm(e,i,o){var u=!0,f=!0;if(typeof e!="function")throw new bt(l);return $e(o)&&(u="leading"in o?!!o.leading:u,f="trailing"in o?!!o.trailing:f),vl(e,i,{leading:u,maxWait:i,trailing:f})}function Qm(e){return hl(e,1)}function e1(e,i){return Xo(Po(i),e)}function t1(){if(!arguments.length)return[];var e=arguments[0];return ee(e)?e:[e]}function n1(e){return xt(e,A)}function r1(e,i){return i=typeof i=="function"?i:r,xt(e,A,i)}function i1(e){return xt(e,y|A)}function s1(e,i){return i=typeof i=="function"?i:r,xt(e,y|A,i)}function o1(e,i){return i==null||su(e,i,He(i))}function $t(e,i){return e===i||e!==e&&i!==i}var a1=qi(xo),c1=qi(function(e,i){return e>=i}),Pn=fu(function(){return arguments}())?fu:function(e){return Ie(e)&&Ee.call(e,"callee")&&!Zc.call(e,"callee")},ee=S.isArray,u1=$c?lt($c):vg;function ot(e){return e!=null&&Zi(e.length)&&!en(e)}function Be(e){return Ie(e)&&ot(e)}function l1(e){return e===!0||e===!1||Ie(e)&&tt(e)==An}var vn=Sp||aa,f1=Ic?lt(Ic):yg;function h1(e){return Ie(e)&&e.nodeType===1&&!zr(e)}function d1(e){if(e==null)return!0;if(ot(e)&&(ee(e)||typeof e=="string"||typeof e.splice=="function"||vn(e)||or(e)||Pn(e)))return!e.length;var i=Je(e);if(i==Se||i==Ot)return!e.size;if(qr(e))return!Ao(e).length;for(var o in e)if(Ee.call(e,o))return!1;return!0}function p1(e,i){return Fr(e,i)}function g1(e,i,o){o=typeof o=="function"?o:r;var u=o?o(e,i):r;return u===r?Fr(e,i,r,o):!!u}function Zo(e){if(!Ie(e))return!1;var i=tt(e);return i==Y||i==U||typeof e.message=="string"&&typeof e.name=="string"&&!zr(e)}function m1(e){return typeof e=="number"&&Qc(e)}function en(e){if(!$e(e))return!1;var i=tt(e);return i==te||i==Me||i==Fs||i==Uh}function _l(e){return typeof e=="number"&&e==ne(e)}function Zi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vt}function $e(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}function Ie(e){return e!=null&&typeof e=="object"}var bl=Pc?lt(Pc):bg;function v1(e,i){return e===i||So(e,i,jo(i))}function y1(e,i,o){return o=typeof o=="function"?o:r,So(e,i,jo(i),o)}function _1(e){return wl(e)&&e!=+e}function b1(e){if(r0(e))throw new J(c);return hu(e)}function w1(e){return e===null}function x1(e){return e==null}function wl(e){return typeof e=="number"||Ie(e)&&tt(e)==Ve}function zr(e){if(!Ie(e)||tt(e)!=Vt)return!1;var i=Si(e);if(i===null)return!0;var o=Ee.call(i,"constructor")&&i.constructor;return typeof o=="function"&&o instanceof o&&bi.call(o)==yp}var Jo=Bc?lt(Bc):wg;function E1(e){return _l(e)&&e>=-9007199254740991&&e<=vt}var xl=Nc?lt(Nc):xg;function Ji(e){return typeof e=="string"||!ee(e)&&Ie(e)&&tt(e)==Tr}function ht(e){return typeof e=="symbol"||Ie(e)&&tt(e)==fi}var or=Dc?lt(Dc):Eg;function S1(e){return e===r}function A1(e){return Ie(e)&&Je(e)==kr}function C1(e){return Ie(e)&&tt(e)==qh}var T1=qi(Co),k1=qi(function(e,i){return e<=i});function El(e){if(!e)return[];if(ot(e))return Ji(e)?Rt(e):st(e);if(Lr&&e[Lr])return op(e[Lr]());var i=Je(e),o=i==Se?ho:i==Ot?vi:ar;return o(e)}function tn(e){if(!e)return e===0?e:0;if(e=At(e),e===Xe||e===-1/0){var i=e<0?-1:1;return i*Mt}return e===e?e:0}function ne(e){var i=tn(e),o=i%1;return i===i?o?i-o:i:0}function Sl(e){return e?Rn(ne(e),0,ze):0}function At(e){if(typeof e=="number")return e;if(ht(e))return kt;if($e(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=$e(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=Wc(e);var o=ud.test(e);return o||fd.test(e)?Wd(e.slice(2),o?2:8):cd.test(e)?kt:+e}function Al(e){return jt(e,at(e))}function O1(e){return e?Rn(ne(e),-9007199254740991,vt):e===0?e:0}function xe(e){return e==null?"":ft(e)}var R1=rr(function(e,i){if(qr(i)||ot(i)){jt(i,He(i),e);return}for(var o in i)Ee.call(i,o)&&Nr(e,o,i[o])}),Cl=rr(function(e,i){jt(i,at(i),e)}),Qi=rr(function(e,i,o,u){jt(i,at(i),e,u)}),L1=rr(function(e,i,o,u){jt(i,He(i),e,u)}),$1=Jt(_o);function I1(e,i){var o=nr(e);return i==null?o:iu(o,i)}var P1=oe(function(e,i){e=Ae(e);var o=-1,u=i.length,f=u>2?i[2]:r;for(f&&nt(i[0],i[1],f)&&(u=1);++o<u;)for(var p=i[o],v=at(p),b=-1,x=v.length;++b<x;){var O=v[b],R=e[O];(R===r||$t(R,Qn[O])&&!Ee.call(e,O))&&(e[O]=p[O])}return e}),B1=oe(function(e){return e.push(r,Wu),ut(Tl,r,e)});function N1(e,i){return Fc(e,K(i,3),Ut)}function D1(e,i){return Fc(e,K(i,3),wo)}function M1(e,i){return e==null?e:bo(e,K(i,3),at)}function F1(e,i){return e==null?e:uu(e,K(i,3),at)}function U1(e,i){return e&&Ut(e,K(i,3))}function j1(e,i){return e&&wo(e,K(i,3))}function q1(e){return e==null?[]:Pi(e,He(e))}function W1(e){return e==null?[]:Pi(e,at(e))}function Qo(e,i,o){var u=e==null?r:Ln(e,i);return u===r?o:u}function z1(e,i){return e!=null&&Ku(e,i,dg)}function ea(e,i){return e!=null&&Ku(e,i,pg)}var H1=Mu(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=wi.call(i)),e[i]=o},na(ct)),K1=Mu(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=wi.call(i)),Ee.call(e,i)?e[i].push(o):e[i]=[o]},K),V1=oe(Mr);function He(e){return ot(e)?nu(e):Ao(e)}function at(e){return ot(e)?nu(e,!0):Sg(e)}function G1(e,i){var o={};return i=K(i,3),Ut(e,function(u,f,p){Xt(o,i(u,f,p),u)}),o}function Y1(e,i){var o={};return i=K(i,3),Ut(e,function(u,f,p){Xt(o,f,i(u,f,p))}),o}var X1=rr(function(e,i,o){Bi(e,i,o)}),Tl=rr(function(e,i,o,u){Bi(e,i,o,u)}),Z1=Jt(function(e,i){var o={};if(e==null)return o;var u=!1;i=Le(i,function(p){return p=gn(p,e),u||(u=p.length>1),p}),jt(e,Fo(e),o),u&&(o=xt(o,y|E|A,Hg));for(var f=i.length;f--;)Lo(o,i[f]);return o});function J1(e,i){return kl(e,Xi(K(i)))}var Q1=Jt(function(e,i){return e==null?{}:Cg(e,i)});function kl(e,i){if(e==null)return{};var o=Le(Fo(e),function(u){return[u]});return i=K(i),_u(e,o,function(u,f){return i(u,f[0])})}function ev(e,i,o){i=gn(i,e);var u=-1,f=i.length;for(f||(f=1,e=r);++u<f;){var p=e==null?r:e[qt(i[u])];p===r&&(u=f,p=o),e=en(p)?p.call(e):p}return e}function tv(e,i,o){return e==null?e:Ur(e,i,o)}function nv(e,i,o,u){return u=typeof u=="function"?u:r,e==null?e:Ur(e,i,o,u)}var Ol=ju(He),Rl=ju(at);function rv(e,i,o){var u=ee(e),f=u||vn(e)||or(e);if(i=K(i,4),o==null){var p=e&&e.constructor;f?o=u?new p:[]:$e(e)?o=en(p)?nr(Si(e)):{}:o={}}return(f?_t:Ut)(e,function(v,b,x){return i(o,v,b,x)}),o}function iv(e,i){return e==null?!0:Lo(e,i)}function sv(e,i,o){return e==null?e:Su(e,i,Po(o))}function ov(e,i,o,u){return u=typeof u=="function"?u:r,e==null?e:Su(e,i,Po(o),u)}function ar(e){return e==null?[]:fo(e,He(e))}function av(e){return e==null?[]:fo(e,at(e))}function cv(e,i,o){return o===r&&(o=i,i=r),o!==r&&(o=At(o),o=o===o?o:0),i!==r&&(i=At(i),i=i===i?i:0),Rn(At(e),i,o)}function uv(e,i,o){return i=tn(i),o===r?(o=i,i=0):o=tn(o),e=At(e),gg(e,i,o)}function lv(e,i,o){if(o&&typeof o!="boolean"&&nt(e,i,o)&&(i=o=r),o===r&&(typeof i=="boolean"?(o=i,i=r):typeof e=="boolean"&&(o=e,e=r)),e===r&&i===r?(e=0,i=1):(e=tn(e),i===r?(i=e,e=0):i=tn(i)),e>i){var u=e;e=i,i=u}if(o||e%1||i%1){var f=eu();return Ze(e+f*(i-e+qd("1e-"+((f+"").length-1))),i)}return ko(e,i)}var fv=ir(function(e,i,o){return i=i.toLowerCase(),e+(o?Ll(i):i)});function Ll(e){return ta(xe(e).toLowerCase())}function $l(e){return e=xe(e),e&&e.replace(dd,tp).replace($d,"")}function hv(e,i,o){e=xe(e),i=ft(i);var u=e.length;o=o===r?u:Rn(ne(o),0,u);var f=o;return o-=i.length,o>=0&&e.slice(o,f)==i}function dv(e){return e=xe(e),e&&Vh.test(e)?e.replace(uc,np):e}function pv(e){return e=xe(e),e&&Qh.test(e)?e.replace(Ys,"\\$&"):e}var gv=ir(function(e,i,o){return e+(o?"-":"")+i.toLowerCase()}),mv=ir(function(e,i,o){return e+(o?" ":"")+i.toLowerCase()}),vv=Bu("toLowerCase");function yv(e,i,o){e=xe(e),i=ne(i);var u=i?Zn(e):0;if(!i||u>=i)return e;var f=(i-u)/2;return ji(ki(f),o)+e+ji(Ti(f),o)}function _v(e,i,o){e=xe(e),i=ne(i);var u=i?Zn(e):0;return i&&u<i?e+ji(i-u,o):e}function bv(e,i,o){e=xe(e),i=ne(i);var u=i?Zn(e):0;return i&&u<i?ji(i-u,o)+e:e}function wv(e,i,o){return o||i==null?i=0:i&&(i=+i),kp(xe(e).replace(Xs,""),i||0)}function xv(e,i,o){return(o?nt(e,i,o):i===r)?i=1:i=ne(i),Oo(xe(e),i)}function Ev(){var e=arguments,i=xe(e[0]);return e.length<3?i:i.replace(e[1],e[2])}var Sv=ir(function(e,i,o){return e+(o?"_":"")+i.toLowerCase()});function Av(e,i,o){return o&&typeof o!="number"&&nt(e,i,o)&&(i=o=r),o=o===r?ze:o>>>0,o?(e=xe(e),e&&(typeof i=="string"||i!=null&&!Jo(i))&&(i=ft(i),!i&&Xn(e))?mn(Rt(e),0,o):e.split(i,o)):[]}var Cv=ir(function(e,i,o){return e+(o?" ":"")+ta(i)});function Tv(e,i,o){return e=xe(e),o=o==null?0:Rn(ne(o),0,e.length),i=ft(i),e.slice(o,o+i.length)==i}function kv(e,i,o){var u=d.templateSettings;o&&nt(e,i,o)&&(i=r),e=xe(e),i=Qi({},i,u,qu);var f=Qi({},i.imports,u.imports,qu),p=He(f),v=fo(f,p),b,x,O=0,R=i.interpolate||hi,I="__p += '",M=po((i.escape||hi).source+"|"+R.source+"|"+(R===lc?ad:hi).source+"|"+(i.evaluate||hi).source+"|$","g"),z="//# sourceURL="+(Ee.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Dd+"]")+`
`;e.replace(M,function(G,ue,de,dt,rt,pt){return de||(de=dt),I+=e.slice(O,pt).replace(pd,rp),ue&&(b=!0,I+=`' +
__e(`+ue+`) +
'`),rt&&(x=!0,I+=`';
`+rt+`;
__p += '`),de&&(I+=`' +
((__t = (`+de+`)) == null ? '' : __t) +
'`),O=pt+G.length,G}),I+=`';
`;var V=Ee.call(i,"variable")&&i.variable;if(!V)I=`with (obj) {
`+I+`
}
`;else if(sd.test(V))throw new J(h);I=(x?I.replace(Wh,""):I).replace(zh,"$1").replace(Hh,"$1;"),I="function("+(V||"obj")+`) {
`+(V?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+I+`return __p
}`;var re=Pl(function(){return _e(p,z+"return "+I).apply(r,v)});if(re.source=I,Zo(re))throw re;return re}function Ov(e){return xe(e).toLowerCase()}function Rv(e){return xe(e).toUpperCase()}function Lv(e,i,o){if(e=xe(e),e&&(o||i===r))return Wc(e);if(!e||!(i=ft(i)))return e;var u=Rt(e),f=Rt(i),p=zc(u,f),v=Hc(u,f)+1;return mn(u,p,v).join("")}function $v(e,i,o){if(e=xe(e),e&&(o||i===r))return e.slice(0,Vc(e)+1);if(!e||!(i=ft(i)))return e;var u=Rt(e),f=Hc(u,Rt(i))+1;return mn(u,0,f).join("")}function Iv(e,i,o){if(e=xe(e),e&&(o||i===r))return e.replace(Xs,"");if(!e||!(i=ft(i)))return e;var u=Rt(e),f=zc(u,Rt(i));return mn(u,f).join("")}function Pv(e,i){var o=ae,u=ye;if($e(i)){var f="separator"in i?i.separator:f;o="length"in i?ne(i.length):o,u="omission"in i?ft(i.omission):u}e=xe(e);var p=e.length;if(Xn(e)){var v=Rt(e);p=v.length}if(o>=p)return e;var b=o-Zn(u);if(b<1)return u;var x=v?mn(v,0,b).join(""):e.slice(0,b);if(f===r)return x+u;if(v&&(b+=x.length-b),Jo(f)){if(e.slice(b).search(f)){var O,R=x;for(f.global||(f=po(f.source,xe(fc.exec(f))+"g")),f.lastIndex=0;O=f.exec(R);)var I=O.index;x=x.slice(0,I===r?b:I)}}else if(e.indexOf(ft(f),b)!=b){var M=x.lastIndexOf(f);M>-1&&(x=x.slice(0,M))}return x+u}function Bv(e){return e=xe(e),e&&Kh.test(e)?e.replace(cc,lp):e}var Nv=ir(function(e,i,o){return e+(o?" ":"")+i.toUpperCase()}),ta=Bu("toUpperCase");function Il(e,i,o){return e=xe(e),i=o?r:i,i===r?sp(e)?dp(e):Xd(e):e.match(i)||[]}var Pl=oe(function(e,i){try{return ut(e,r,i)}catch(o){return Zo(o)?o:new J(o)}}),Dv=Jt(function(e,i){return _t(i,function(o){o=qt(o),Xt(e,o,Yo(e[o],e))}),e});function Mv(e){var i=e==null?0:e.length,o=K();return e=i?Le(e,function(u){if(typeof u[1]!="function")throw new bt(l);return[o(u[0]),u[1]]}):[],oe(function(u){for(var f=-1;++f<i;){var p=e[f];if(ut(p[0],this,u))return ut(p[1],this,u)}})}function Fv(e){return lg(xt(e,y))}function na(e){return function(){return e}}function Uv(e,i){return e==null||e!==e?i:e}var jv=Du(),qv=Du(!0);function ct(e){return e}function ra(e){return du(typeof e=="function"?e:xt(e,y))}function Wv(e){return gu(xt(e,y))}function zv(e,i){return mu(e,xt(i,y))}var Hv=oe(function(e,i){return function(o){return Mr(o,e,i)}}),Kv=oe(function(e,i){return function(o){return Mr(e,o,i)}});function ia(e,i,o){var u=He(i),f=Pi(i,u);o==null&&!($e(i)&&(f.length||!u.length))&&(o=i,i=e,e=this,f=Pi(i,He(i)));var p=!($e(o)&&"chain"in o)||!!o.chain,v=en(e);return _t(f,function(b){var x=i[b];e[b]=x,v&&(e.prototype[b]=function(){var O=this.__chain__;if(p||O){var R=e(this.__wrapped__),I=R.__actions__=st(this.__actions__);return I.push({func:x,args:arguments,thisArg:e}),R.__chain__=O,R}return x.apply(e,ln([this.value()],arguments))})}),e}function Vv(){return Ge._===this&&(Ge._=_p),this}function sa(){}function Gv(e){return e=ne(e),oe(function(i){return vu(i,e)})}var Yv=No(Le),Xv=No(Mc),Zv=No(oo);function Bl(e){return Wo(e)?ao(qt(e)):Tg(e)}function Jv(e){return function(i){return e==null?r:Ln(e,i)}}var Qv=Fu(),ey=Fu(!0);function oa(){return[]}function aa(){return!1}function ty(){return{}}function ny(){return""}function ry(){return!0}function iy(e,i){if(e=ne(e),e<1||e>vt)return[];var o=ze,u=Ze(e,ze);i=K(i),e-=ze;for(var f=lo(u,i);++o<e;)i(o);return f}function sy(e){return ee(e)?Le(e,qt):ht(e)?[e]:st(tl(xe(e)))}function oy(e){var i=++vp;return xe(e)+i}var ay=Ui(function(e,i){return e+i},0),cy=Do("ceil"),uy=Ui(function(e,i){return e/i},1),ly=Do("floor");function fy(e){return e&&e.length?Ii(e,ct,xo):r}function hy(e,i){return e&&e.length?Ii(e,K(i,2),xo):r}function dy(e){return jc(e,ct)}function py(e,i){return jc(e,K(i,2))}function gy(e){return e&&e.length?Ii(e,ct,Co):r}function my(e,i){return e&&e.length?Ii(e,K(i,2),Co):r}var vy=Ui(function(e,i){return e*i},1),yy=Do("round"),_y=Ui(function(e,i){return e-i},0);function by(e){return e&&e.length?uo(e,ct):0}function wy(e,i){return e&&e.length?uo(e,K(i,2)):0}return d.after=Wm,d.ary=hl,d.assign=R1,d.assignIn=Cl,d.assignInWith=Qi,d.assignWith=L1,d.at=$1,d.before=dl,d.bind=Yo,d.bindAll=Dv,d.bindKey=pl,d.castArray=t1,d.chain=ul,d.chunk=l0,d.compact=f0,d.concat=h0,d.cond=Mv,d.conforms=Fv,d.constant=na,d.countBy=bm,d.create=I1,d.curry=gl,d.curryRight=ml,d.debounce=vl,d.defaults=P1,d.defaultsDeep=B1,d.defer=zm,d.delay=Hm,d.difference=d0,d.differenceBy=p0,d.differenceWith=g0,d.drop=m0,d.dropRight=v0,d.dropRightWhile=y0,d.dropWhile=_0,d.fill=b0,d.filter=xm,d.flatMap=Am,d.flatMapDeep=Cm,d.flatMapDepth=Tm,d.flatten=sl,d.flattenDeep=w0,d.flattenDepth=x0,d.flip=Km,d.flow=jv,d.flowRight=qv,d.fromPairs=E0,d.functions=q1,d.functionsIn=W1,d.groupBy=km,d.initial=A0,d.intersection=C0,d.intersectionBy=T0,d.intersectionWith=k0,d.invert=H1,d.invertBy=K1,d.invokeMap=Rm,d.iteratee=ra,d.keyBy=Lm,d.keys=He,d.keysIn=at,d.map=Vi,d.mapKeys=G1,d.mapValues=Y1,d.matches=Wv,d.matchesProperty=zv,d.memoize=Yi,d.merge=X1,d.mergeWith=Tl,d.method=Hv,d.methodOf=Kv,d.mixin=ia,d.negate=Xi,d.nthArg=Gv,d.omit=Z1,d.omitBy=J1,d.once=Vm,d.orderBy=$m,d.over=Yv,d.overArgs=Gm,d.overEvery=Xv,d.overSome=Zv,d.partial=Xo,d.partialRight=yl,d.partition=Im,d.pick=Q1,d.pickBy=kl,d.property=Bl,d.propertyOf=Jv,d.pull=$0,d.pullAll=al,d.pullAllBy=I0,d.pullAllWith=P0,d.pullAt=B0,d.range=Qv,d.rangeRight=ey,d.rearg=Ym,d.reject=Nm,d.remove=N0,d.rest=Xm,d.reverse=Vo,d.sampleSize=Mm,d.set=tv,d.setWith=nv,d.shuffle=Fm,d.slice=D0,d.sortBy=qm,d.sortedUniq=z0,d.sortedUniqBy=H0,d.split=Av,d.spread=Zm,d.tail=K0,d.take=V0,d.takeRight=G0,d.takeRightWhile=Y0,d.takeWhile=X0,d.tap=fm,d.throttle=Jm,d.thru=Ki,d.toArray=El,d.toPairs=Ol,d.toPairsIn=Rl,d.toPath=sy,d.toPlainObject=Al,d.transform=rv,d.unary=Qm,d.union=Z0,d.unionBy=J0,d.unionWith=Q0,d.uniq=em,d.uniqBy=tm,d.uniqWith=nm,d.unset=iv,d.unzip=Go,d.unzipWith=cl,d.update=sv,d.updateWith=ov,d.values=ar,d.valuesIn=av,d.without=rm,d.words=Il,d.wrap=e1,d.xor=im,d.xorBy=sm,d.xorWith=om,d.zip=am,d.zipObject=cm,d.zipObjectDeep=um,d.zipWith=lm,d.entries=Ol,d.entriesIn=Rl,d.extend=Cl,d.extendWith=Qi,ia(d,d),d.add=ay,d.attempt=Pl,d.camelCase=fv,d.capitalize=Ll,d.ceil=cy,d.clamp=cv,d.clone=n1,d.cloneDeep=i1,d.cloneDeepWith=s1,d.cloneWith=r1,d.conformsTo=o1,d.deburr=$l,d.defaultTo=Uv,d.divide=uy,d.endsWith=hv,d.eq=$t,d.escape=dv,d.escapeRegExp=pv,d.every=wm,d.find=Em,d.findIndex=rl,d.findKey=N1,d.findLast=Sm,d.findLastIndex=il,d.findLastKey=D1,d.floor=ly,d.forEach=ll,d.forEachRight=fl,d.forIn=M1,d.forInRight=F1,d.forOwn=U1,d.forOwnRight=j1,d.get=Qo,d.gt=a1,d.gte=c1,d.has=z1,d.hasIn=ea,d.head=ol,d.identity=ct,d.includes=Om,d.indexOf=S0,d.inRange=uv,d.invoke=V1,d.isArguments=Pn,d.isArray=ee,d.isArrayBuffer=u1,d.isArrayLike=ot,d.isArrayLikeObject=Be,d.isBoolean=l1,d.isBuffer=vn,d.isDate=f1,d.isElement=h1,d.isEmpty=d1,d.isEqual=p1,d.isEqualWith=g1,d.isError=Zo,d.isFinite=m1,d.isFunction=en,d.isInteger=_l,d.isLength=Zi,d.isMap=bl,d.isMatch=v1,d.isMatchWith=y1,d.isNaN=_1,d.isNative=b1,d.isNil=x1,d.isNull=w1,d.isNumber=wl,d.isObject=$e,d.isObjectLike=Ie,d.isPlainObject=zr,d.isRegExp=Jo,d.isSafeInteger=E1,d.isSet=xl,d.isString=Ji,d.isSymbol=ht,d.isTypedArray=or,d.isUndefined=S1,d.isWeakMap=A1,d.isWeakSet=C1,d.join=O0,d.kebabCase=gv,d.last=St,d.lastIndexOf=R0,d.lowerCase=mv,d.lowerFirst=vv,d.lt=T1,d.lte=k1,d.max=fy,d.maxBy=hy,d.mean=dy,d.meanBy=py,d.min=gy,d.minBy=my,d.stubArray=oa,d.stubFalse=aa,d.stubObject=ty,d.stubString=ny,d.stubTrue=ry,d.multiply=vy,d.nth=L0,d.noConflict=Vv,d.noop=sa,d.now=Gi,d.pad=yv,d.padEnd=_v,d.padStart=bv,d.parseInt=wv,d.random=lv,d.reduce=Pm,d.reduceRight=Bm,d.repeat=xv,d.replace=Ev,d.result=ev,d.round=yy,d.runInContext=w,d.sample=Dm,d.size=Um,d.snakeCase=Sv,d.some=jm,d.sortedIndex=M0,d.sortedIndexBy=F0,d.sortedIndexOf=U0,d.sortedLastIndex=j0,d.sortedLastIndexBy=q0,d.sortedLastIndexOf=W0,d.startCase=Cv,d.startsWith=Tv,d.subtract=_y,d.sum=by,d.sumBy=wy,d.template=kv,d.times=iy,d.toFinite=tn,d.toInteger=ne,d.toLength=Sl,d.toLower=Ov,d.toNumber=At,d.toSafeInteger=O1,d.toString=xe,d.toUpper=Rv,d.trim=Lv,d.trimEnd=$v,d.trimStart=Iv,d.truncate=Pv,d.unescape=Bv,d.uniqueId=oy,d.upperCase=Nv,d.upperFirst=ta,d.each=ll,d.eachRight=fl,d.first=ol,ia(d,function(){var e={};return Ut(d,function(i,o){Ee.call(d.prototype,o)||(e[o]=i)}),e}(),{chain:!1}),d.VERSION=s,_t(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),_t(["drop","take"],function(e,i){he.prototype[e]=function(o){o=o===r?1:We(ne(o),0);var u=this.__filtered__&&!i?new he(this):this.clone();return u.__filtered__?u.__takeCount__=Ze(o,u.__takeCount__):u.__views__.push({size:Ze(o,ze),type:e+(u.__dir__<0?"Right":"")}),u},he.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),_t(["filter","map","takeWhile"],function(e,i){var o=i+1,u=o==ce||o==De;he.prototype[e]=function(f){var p=this.clone();return p.__iteratees__.push({iteratee:K(f,3),type:o}),p.__filtered__=p.__filtered__||u,p}}),_t(["head","last"],function(e,i){var o="take"+(i?"Right":"");he.prototype[e]=function(){return this[o](1).value()[0]}}),_t(["initial","tail"],function(e,i){var o="drop"+(i?"":"Right");he.prototype[e]=function(){return this.__filtered__?new he(this):this[o](1)}}),he.prototype.compact=function(){return this.filter(ct)},he.prototype.find=function(e){return this.filter(e).head()},he.prototype.findLast=function(e){return this.reverse().find(e)},he.prototype.invokeMap=oe(function(e,i){return typeof e=="function"?new he(this):this.map(function(o){return Mr(o,e,i)})}),he.prototype.reject=function(e){return this.filter(Xi(K(e)))},he.prototype.slice=function(e,i){e=ne(e);var o=this;return o.__filtered__&&(e>0||i<0)?new he(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),i!==r&&(i=ne(i),o=i<0?o.dropRight(-i):o.take(i-e)),o)},he.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},he.prototype.toArray=function(){return this.take(ze)},Ut(he.prototype,function(e,i){var o=/^(?:filter|find|map|reject)|While$/.test(i),u=/^(?:head|last)$/.test(i),f=d[u?"take"+(i=="last"?"Right":""):i],p=u||/^find/.test(i);f&&(d.prototype[i]=function(){var v=this.__wrapped__,b=u?[1]:arguments,x=v instanceof he,O=b[0],R=x||ee(v),I=function(ue){var de=f.apply(d,ln([ue],b));return u&&M?de[0]:de};R&&o&&typeof O=="function"&&O.length!=1&&(x=R=!1);var M=this.__chain__,z=!!this.__actions__.length,V=p&&!M,re=x&&!z;if(!p&&R){v=re?v:new he(this);var G=e.apply(v,b);return G.__actions__.push({func:Ki,args:[I],thisArg:r}),new wt(G,M)}return V&&re?e.apply(this,b):(G=this.thru(I),V?u?G.value()[0]:G.value():G)})}),_t(["pop","push","shift","sort","splice","unshift"],function(e){var i=yi[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);d.prototype[e]=function(){var f=arguments;if(u&&!this.__chain__){var p=this.value();return i.apply(ee(p)?p:[],f)}return this[o](function(v){return i.apply(ee(v)?v:[],f)})}}),Ut(he.prototype,function(e,i){var o=d[i];if(o){var u=o.name+"";Ee.call(tr,u)||(tr[u]=[]),tr[u].push({name:i,func:o})}}),tr[Fi(r,B).name]=[{name:"wrapper",func:r}],he.prototype.clone=Bp,he.prototype.reverse=Np,he.prototype.value=Dp,d.prototype.at=hm,d.prototype.chain=dm,d.prototype.commit=pm,d.prototype.next=gm,d.prototype.plant=vm,d.prototype.reverse=ym,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=_m,d.prototype.first=d.prototype.head,Lr&&(d.prototype[Lr]=mm),d},Jn=pp();Cn?((Cn.exports=Jn)._=Jn,no._=Jn):Ge._=Jn}).call(Xw)}(Xr,Xr.exports)),Xr.exports}var Jw=Zw();const Os=jw(Jw);var Qw=X('<div><label for=invite_user_modal class="btn text-xl btn-accent w-fit flex mt-5 items-center justify-center gap-3">Invite Contact</label><input type=checkbox id=invite_user_modal class=modal-toggle><div class=modal role=dialog><div class=modal-box><h3 class="text-lg font-bold">Add Username or Email of contact</h3><form><label class="input validator"><input type=input required placeholder=Username/Email minlength=3 maxlength=30></label><button class="btn btn-info">Invite</button></form><div class=modal-action><label for=invite_user_modal class=btn>Close!</label></div></div><label class=modal-backdrop for=invite_user_modal>Close');function yh(){const[n,t]=ge(""),{currentUser:r,setCurrentUser:s,refetchRequests:a}=Sr();Re(()=>{console.log("Current user",r)});async function c(l){if(l.preventDefault(),r.username===n()){Z.error("cannot invite self");return}En.emit("invite user",[r.username,n()]);let h=await a();h&&s("requests",h)}return(()=>{var l=Qw(),h=l.firstChild;h.firstChild;var g=h.nextSibling,m=g.nextSibling,_=m.firstChild,y=_.firstChild,E=y.nextSibling,A=E.firstChild,P=A.firstChild;return q(h,N(mw,{}),null),E.addEventListener("submit",c),q(A,N(Yw,{}),P),P.addEventListener("change",T=>t(T.target.value)),l})()}const e2=async()=>{const n=await fetch(Sn("/api/db/user"),{method:"get"});if(!n.ok){Z.error("User not found",{duration:3e3}),Z.loading("Redirecting to log after 3 seconds....",{duration:3e3}),await ch(3e3),console.error(`Error getting user: 
Status: %s
Text: %s`,n.status,n.statusText),(n.status===404||n.status===401)&&(window.location.href="/auth/login");return}let t;try{t=await n.json()}catch(r){alert("error parsing user to json"),console.log(await n.text()),console.error(r);return}return t},t2=async()=>{const n=await fetch(Sn("/api/db/user/contacts"),{method:"get"});if(!n.ok)throw console.error("ERROR: status -> ",n.statusText),console.error("ERROR: status text-> ",n.status),new Error("Error getting user details");let t;try{t=await n.json()}catch(r){console.error(r),Z.error(r.toString());return}return t},n2=async()=>{const n=await fetch(Sn("/api/db/user/invites"),{method:"get"});if(!n.ok)throw console.error("ERROR: status -> ",n.statusText),console.error("ERROR: status text-> ",n.status),new Error("Error getting user details");let t;try{t=await n.json()}catch(r){console.error(r),Z.error(r.toString());return}return t},r2=async()=>{const n=await fetch(Sn("/api/db/user/requests"),{method:"get"});if(!n.ok)throw console.error("ERROR: status -> ",n.statusText),console.error("ERROR: status text-> ",n.status),new Error("Error getting user details");let t;try{t=await n.json()}catch(r){console.error(r),Z.error(r.toString());return}return t},i2=async n=>{const t=await fetch(Sn("/api/db/user/messages/"+n),{method:"get"});if(!t.ok)throw console.error("ERROR: status -> ",t.statusText),console.error("ERROR: status text-> ",t.status),new Error("Error getting contact messages");let r;try{r=await t.json()}catch(s){console.error(s),Z.error(s.toString());return}return r},s2=async()=>{const n=await fetch(Sn("/api/db/user/chats"),{method:"get"});if(!n.ok)throw console.error("ERROR: status -> ",n.statusText),console.error("ERROR: status text-> ",n.status),new Error("Error getting contact messages");let t;try{t=await n.json()}catch(r){console.error(r),Z.error(r.toString());return}return t};var o2=X('<ul class="list bg-base-100 rounded-box shadow-md">'),a2=X('<div class="flex justify-center items-center">'),c2=X("<div>loading....."),u2=X("<div> No Conversations Found "),l2=X('<a class="list-row flex justify-between items-center bg-base-300"><div><div class="text-lg font-semibold">');function f2(){const[n]=_n(s2),{currentUser:t}=Sr();return Re(()=>{console.log(n())}),N(Ny,{get fallback(){return c2()},get children(){return[(()=>{var r=o2();return q(r,N(Dn,{get each(){return Os.uniqBy(Os.reverse(n()||[]),"username").filter(s=>s.username!==t.username)},get fallback(){return u2()},children:s=>(()=>{var a=l2(),c=a.firstChild,l=c.firstChild;return q(l,()=>s.username),we(()=>je(a,"href","/app/chats/"+s.username)),a})()})),r})(),(()=>{var r=a2();return q(r,N(yh,{})),r})()]}})}function h2(n){return mt({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M15.854 12.854 11 8l4.854-4.854a.503.503 0 0 0 0-.707L13.561.146a.499.499 0 0 0-.707 0L8 5 3.146.146a.5.5 0 0 0-.707 0L.146 2.439a.499.499 0 0 0 0 .707L5 8 .146 12.854a.5.5 0 0 0 0 .707l2.293 2.293a.499.499 0 0 0 .707 0L8 11l4.854 4.854a.5.5 0 0 0 .707 0l2.293-2.293a.499.499 0 0 0 0-.707z"/>'},n)}var d2=X('<div><div class="flex gap-2 flex-col"><div class="flex flex-col"><div class="font-medium text-white">Invitation from </div><div class="text-sm text-cyan-50">Do you want to accept?</div></div><div class="flex items-center gap-8"><button class="btn btn-info">Accept</button><button class="btn btn-error">Ignore</button></div></div><div class="relative pt-4"><div class="w-full h-1 rounded-full bg-cyan-900"></div><div class="h-1 top-4 absolute rounded-full bg-cyan-50">');function p2(n,t,r,s,a,c){Z.custom(h=>{const[g,m]=ge(100),_=Date.now();return Re(()=>{if(h.paused)return;const y=setInterval(()=>{const E=Date.now()-_-h.pauseDuration;m(100-E/7e3*100)});on(()=>clearInterval(y))}),(()=>{var y=d2(),E=y.firstChild,A=E.firstChild,P=A.firstChild;P.firstChild;var T=A.nextSibling,L=T.firstChild,B=L.nextSibling,$=E.nextSibling,D=$.firstChild,W=D.nextSibling;return q(P,n,null),L.$$click=async()=>{uh(n,t),await lh(r,s,a,c),Z.dismiss(h.id)},B.$$click=async()=>{Z.dismiss(h.id),await a()},we(H=>{var Q=`${h.visible?"animate-enter":"animate-leave"} bg-cyan-600 p-3 rounded-md shadow-md min-w-[350px]`,se=`${g()}%`;return Q!==H.e&&xn(y,H.e=Q),se!==H.t&&((H.t=se)!=null?W.style.setProperty("width",se):W.style.removeProperty("width")),H},{e:void 0,t:void 0}),y})()},{duration:7e3})}oi(["click"]);var g2=X('<div class="flex flex-col"><div class="text-center m-5"><h1 class="divider text-xl font-semibold">Invites</h1><ul class="list bg-base-100 rounded-box shadow-md"></ul></div><div class="text-center m-5"><h1 class="divider text-xl font-semibold">Requests</h1><ul class="list bg-base-100 rounded-box shadow-md mb-5"></ul></div><div class="text-center m-5"><h1 class="divider text-xl font-semibold">Contacts</h1><ul class="list bg-base-100 rounded-box shadow-md">'),m2=X('<div class="card bg-base-300 rounded-box grid h-20 grow place-items-center">No Invites'),v2=X('<li class="list-row flex justify-between items-center"><div class="text-lg font-semibold">@</div><div class="flex gap-4"><button id=accept-invite class="btn btn-circle btn-success text-xl font-bold"></button><button id=delete-invite class="btn btn-circle btn-error text-xl font-bold">'),y2=X('<div class="card bg-base-300 rounded-box flex flex-col items-center py-5 gap-5">No Invite Requests Pending'),_2=X('<li class="list-row flex justify-between items-center"><div class="text-lg font-semibold">@</div><button class="btn btn-circle btn-error text-xl font-bold">'),b2=X('<div class="card bg-base-300 rounded-box grid h-20 grow place-items-center">No Contacts Found'),w2=X('<li class="list-row flex justify-between items-center"><div class="text-lg font-semibold"></div><div class="flex gap-4"><a id=message-contact class="btn btn-circle btn-error text-xl font-bold"></a><button id=delelte-contact class="btn btn-circle btn-error text-xl font-bold">');function x2(){const{currentUser:n,setCurrentUser:t,refetchContacts:r,refetchInvites:s,refetchRequests:a}=Sr();return Re(()=>{En.on(`accept-success:${n.username}`,c=>{Z.success(c+" accepted your invite"),r(),s(),a()})}),(()=>{var c=g2(),l=c.firstChild,h=l.firstChild,g=h.nextSibling,m=l.nextSibling,_=m.firstChild,y=_.nextSibling,E=m.nextSibling,A=E.firstChild,P=A.nextSibling;return q(g,N(Dn,{get each(){return fe(()=>n.invites.length===0)()?null:Os.uniq(n.invites)},get fallback(){return m2()},children:T=>(()=>{var L=v2(),B=L.firstChild;B.firstChild;var $=B.nextSibling,D=$.firstChild,W=D.nextSibling;return q(B,()=>T.sender_username,null),D.$$click=async()=>{uh(T.sender_username,n.username),await lh(t,r,s,a)},q(D,N(dw,{})),q(W,N(h2,{})),L})()})),q(y,N(Dn,{get each(){return Os.uniq(n.requests)},get fallback(){return y2()},children:T=>(()=>{var L=_2(),B=L.firstChild;B.firstChild;var $=B.nextSibling;return q(B,()=>T.recv_username,null),q($,N(tf,{})),L})()})),q(m,N(yh,{}),null),q(P,N(Dn,{get each(){return n.contacts.filter(T=>T.username!==n.username)},get fallback(){return b2()},children:T=>(()=>{var L=w2(),B=L.firstChild,$=B.nextSibling,D=$.firstChild,W=D.nextSibling;return q(B,()=>T.username),q(D,N(pw,{})),q(W,N(tf,{})),we(()=>je(D,"href","/app/chats/"+T.username)),L})()})),c})()}oi(["click"]);function E2(n){return mt({a:{viewBox:"0 0 24 24"},c:'<path fill="currentColor" d="M19 7h5v2h-5V7Zm-2 5h7v2h-7v-2Zm3 5h4v2h-4v-2ZM2 22a8 8 0 1 1 16 0h-2a6 6 0 0 0-12 0H2Zm8-9c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6Zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4Z"/>'},n)}function S2(n){return mt({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M451 374c-15.88-16-54.34-39.35-73-48.76-24.3-12.24-26.3-13.24-45.4.95-12.74 9.47-21.21 17.93-36.12 14.75s-47.31-21.11-75.68-49.39-47.34-61.62-50.53-76.48 5.41-23.23 14.79-36c13.22-18 12.22-21 .92-45.3-8.81-18.9-32.84-57-48.9-72.8C119.9 44 119.9 47 108.83 51.6A160.15 160.15 0 0 0 83 65.37C67 76 58.12 84.83 51.91 98.1s-9 44.38 23.07 102.64 54.57 88.05 101.14 134.49S258.5 406.64 310.85 436c64.76 36.27 89.6 29.2 102.91 23s22.18-15 32.83-31a159.09 159.09 0 0 0 13.8-25.8C465 391.17 468 391.17 451 374Z"/>'},n)}function A2(n){const{currentUser:t,refetchContacts:r,refetchInvites:s,refetchRequests:a,setCurrentUser:c}=Sr();return Re(()=>{En.on(`invitation for ${t.username}`,h=>{p2(h,t.username,c,r,s,a)});let l=`error:${t.username}`;En.on(l,h=>{Z.error(h)})}),fe(()=>n.children)}var C2=X('<footer class="fixed bottom-0 w-full text-neutral-content p-10">'),T2=X("<main><div class=h-full> "),k2=X('<div class="dock text-lg">'),O2=X('<a><span class="dock-label text-xl"> ');function R2(n){var H;const[t,r]=Vf({username:"",email:"",id:"",invites:[],contacts:[],requests:[],numberOfContacts:0,numberOfInvites:0,numberOfRequests:0,displayFooter:!0}),[s,a]=ge(""),[c]=_n(e2),[l,{refetch:h}]=_n(t2),[g,{refetch:m}]=_n(n2),[_,{refetch:y}]=_n(r2),[E,A]=ge(""),[P,T]=ge(""),[L,B]=ge("");Re(()=>{console.log("Current User id",t.id),console.log("Email",t.email),console.log("username",t.username)}),Re(()=>{l.loading?A(Z.loading("Loading contacts....")):Z.dismiss(E()),l()&&r("contacts",l())}),Re(()=>{g.loading?T(Z.loading("Loading invites....")):Z.dismiss(P()),console.log(g()),g()&&r("invites",g())}),Re(()=>{_.loading?B(Z.loading("Loading requests....")):Z.dismiss(L()),_()&&r("requests",_())}),Re(()=>{if(c.loading?a(Z.loading("Getting user")):Z.dismiss(s()),c.error){Z.error(c.error);return}c()&&r({...c(),numberOfContacts:0})}),En.on(`error for ${(H=c())==null?void 0:H.username}`,Q=>{Q.message&&(console.error(Q),Z.error("User not found"))});const $=Ga(),D=fe(()=>$.pathname.substring($.pathname.lastIndexOf("/")+1)),W=fe(()=>$.pathname);return Re(()=>{r("displayFooter",/^\/app\/(chats|contacts|calls|settings)$/.test(W())),console.log("Pathname",W())}),N(vh.Provider,{value:{currentUser:t,setCurrentUser:r,refetchContacts:h,refetchInvites:m,refetchRequests:y},get children(){return N(A2,{get children(){return[(()=>{var Q=T2(),se=Q.firstChild;return se.firstChild,q(Q,N(mh,{}),se),q(se,()=>n.children,null),q(Q,N(za,{get when(){return t.displayFooter},get children(){var Te=C2();return q(Te,N(L2,{get selected(){return D()}})),Te}}),null),Q})(),N(dh,{})]}})}})}function L2(n){const t=[{icon:Gw,label:"Chats"},{icon:E2,label:"Contacts"},{icon:S2,label:"Calls"},{icon:gw,label:"Settings"}];return(()=>{var r=k2();return q(r,N(Dn,{each:t,children:s=>(()=>{var a=O2(),c=a.firstChild;return c.firstChild,q(a,N(s.icon,{class:"text-2xl"}),c),q(c,()=>s.label,null),we(l=>{var h="/app/"+s.label.toLowerCase(),g=n.selected===s.label.toLowerCase()?"dock-active":"";return h!==l.e&&je(a,"href",l.e=h),g!==l.t&&xn(a,l.t=g),l},{e:void 0,t:void 0}),a})()})),r})()}var $2=X("<div>RTC<video id=localVideo autoplay playsinline>");function I2(){const[n]=_n({video:!0,audio:!0},P2),[t]=_n("videoinput",B2);let r;return Re(async()=>{n.loading&&Z.loading("Getting devices",{duration:1e3}),n.error&&Z.error("ERROR getting devices"+n.error.toString()),r&&n()&&(r.srcObject=n())}),Re(async()=>{t.loading&&Z.loading("Enumerating video devices",{duration:1e3}),t.error&&Z.error("ERROR getting devices"+t.error.toString()),console.log("cameras found,",t())}),(()=>{var s=$2(),a=s.firstChild,c=a.nextSibling,l=r;return typeof l=="function"?dr(l,c):r=c,s})()}const P2=async n=>await navigator.mediaDevices.getUserMedia(n),B2=async n=>(await navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind===n);var N2=X("<div>");function D2(){return(()=>{var n=N2();return q(n,N(I2,{})),n})()}var M2=X('<div class="flex items-center justify-center gap-6 mt-10 "><div class="card p-10 bg-base-300"><ul class="list bg-base-300 rounded-box shadow-md gap-10"><li class="list-item btn w-full btn-info text-center ">Username: @</li><li class="list-item btn w-full btn-info text-center">Email: @');function F2(){const{currentUser:n}=Sr();return(()=>{var t=M2(),r=t.firstChild,s=r.firstChild,a=s.firstChild;a.firstChild;var c=a.nextSibling;return c.firstChild,q(a,()=>n.username,null),q(c,()=>n.email,null),t})()}function U2(n){return mt({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"/>'},n)}function us(n){if(typeof n!="string"||!n)throw new Error("expected a non-empty string, got: "+n)}function ma(n){if(typeof n!="number")throw new Error("expected a number, got: "+n)}const j2=1,q2=1,Wn="emoji",yr="keyvalue",nc="favorites",W2="tokens",_h="tokens",z2="unicode",bh="count",H2="group",K2="order",wh="group-order",Da="eTag",Rs="url",uf="skinTone",Ar="readonly",rc="readwrite",xh="skinUnicodes",V2="skinUnicodes",G2="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Y2="en";function X2(n,t){const r=new Set,s=[];for(const a of n){const c=t(a);r.has(c)||(r.add(c),s.push(a))}return s}function lf(n){return X2(n,t=>t.unicode)}function Z2(n){function t(r,s,a){const c=s?n.createObjectStore(r,{keyPath:s}):n.createObjectStore(r);if(a)for(const[l,[h,g]]of Object.entries(a))c.createIndex(l,h,{multiEntry:g});return c}t(yr),t(Wn,z2,{[_h]:[W2,!0],[wh]:[[H2,K2]],[xh]:[V2,!0]}),t(nc,void 0,{[bh]:[""]})}const Ma={},vs={},Ls={};function Eh(n,t,r){r.onerror=()=>t(r.error),r.onblocked=()=>t(new Error("IDB blocked")),r.onsuccess=()=>n(r.result)}async function J2(n){const t=await new Promise((r,s)=>{const a=indexedDB.open(n,j2);Ma[n]=a,a.onupgradeneeded=c=>{c.oldVersion<q2&&Z2(a.result)},Eh(r,s,a)});return t.onclose=()=>ic(n),t}function Q2(n){return vs[n]||(vs[n]=J2(n)),vs[n]}function an(n,t,r,s){return new Promise((a,c)=>{const l=n.transaction(t,r,{durability:"relaxed"}),h=typeof t=="string"?l.objectStore(t):t.map(m=>l.objectStore(m));let g;s(h,l,m=>{g=m}),l.oncomplete=()=>a(g),l.onerror=()=>c(l.error)})}function ic(n){const t=Ma[n],r=t&&t.result;if(r){r.close();const s=Ls[n];if(s)for(const a of s)a()}delete Ma[n],delete vs[n],delete Ls[n]}function ex(n){return new Promise((t,r)=>{ic(n);const s=indexedDB.deleteDatabase(n);Eh(t,r,s)})}function tx(n,t){let r=Ls[n];r||(r=Ls[n]=[]),r.push(t)}const nx=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function hr(n){return n.split(/[\s_]+/).map(t=>!t.match(/\w/)||nx.has(t)?t.toLowerCase():t.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase()).filter(Boolean)}const rx=2;function Sh(n){return n.filter(Boolean).map(t=>t.toLowerCase()).filter(t=>t.length>=rx)}function ix(n){return n.map(({annotation:r,emoticon:s,group:a,order:c,shortcodes:l,skins:h,tags:g,emoji:m,version:_})=>{const y=[...new Set(Sh([...(l||[]).map(hr).flat(),...(g||[]).map(hr).flat(),...hr(r),s]))].sort(),E={annotation:r,group:a,order:c,tags:g,tokens:y,unicode:m,version:_};if(s&&(E.emoticon=s),l&&(E.shortcodes=l),h){E.skinTones=[],E.skinUnicodes=[],E.skinVersions=[];for(const{tone:A,emoji:P,version:T}of h)E.skinTones.push(A),E.skinUnicodes.push(P),E.skinVersions.push(T)}return E})}function Ah(n,t,r,s){n[t](r).onsuccess=a=>s&&s(a.target.result)}function jn(n,t,r){Ah(n,"get",t,r)}function Ch(n,t,r){Ah(n,"getAll",t,r)}function sc(n){n.commit&&n.commit()}function sx(n,t){let r=n[0];for(let s=1;s<n.length;s++){const a=n[s];t(r)>t(a)&&(r=a)}return r}function Th(n,t){const r=sx(n,a=>a.length),s=[];for(const a of r)n.some(c=>c.findIndex(l=>t(l)===t(a))===-1)||s.push(a);return s}async function ox(n){return!await oc(n,yr,Rs)}async function ax(n,t,r){const[s,a]=await Promise.all([Da,Rs].map(c=>oc(n,yr,c)));return s===r&&a===t}async function cx(n,t){return an(n,Wn,Ar,(s,a,c)=>{let l;const h=()=>{s.getAll(l&&IDBKeyRange.lowerBound(l,!0),50).onsuccess=g=>{const m=g.target.result;for(const _ of m)if(l=_.unicode,t(_))return c(_);if(m.length<50)return c();h()}};h()})}async function kh(n,t,r,s){try{const a=ix(t);await an(n,[Wn,yr],rc,([c,l],h)=>{let g,m,_=0;function y(){++_===2&&E()}function E(){if(!(g===s&&m===r)){c.clear();for(const A of a)c.put(A);l.put(s,Da),l.put(r,Rs),sc(h)}}jn(l,Da,A=>{g=A,y()}),jn(l,Rs,A=>{m=A,y()})})}finally{}}async function ux(n,t){return an(n,Wn,Ar,(r,s,a)=>{const c=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);Ch(r.index(wh),c,a)})}async function Oh(n,t){const r=Sh(hr(t));return r.length?an(n,Wn,Ar,(s,a,c)=>{const l=[],h=()=>{l.length===r.length&&g()},g=()=>{const m=Th(l,_=>_.unicode);c(m.sort((_,y)=>_.order<y.order?-1:1))};for(let m=0;m<r.length;m++){const _=r[m],y=m===r.length-1?IDBKeyRange.bound(_,_+"￿",!1,!0):IDBKeyRange.only(_);Ch(s.index(_h),y,E=>{l.push(E),h()})}}):[]}async function lx(n,t){const r=await Oh(n,t);return r.length?r.filter(s=>(s.shortcodes||[]).map(c=>c.toLowerCase()).includes(t.toLowerCase()))[0]||null:await cx(n,a=>(a.shortcodes||[]).includes(t.toLowerCase()))||null}async function fx(n,t){return an(n,Wn,Ar,(r,s,a)=>jn(r,t,c=>{if(c)return a(c);jn(r.index(xh),t,l=>a(l||null))}))}function oc(n,t,r){return an(n,t,Ar,(s,a,c)=>jn(s,r,c))}function hx(n,t,r,s){return an(n,t,rc,(a,c)=>{a.put(s,r),sc(c)})}function dx(n,t){return an(n,nc,rc,(r,s)=>jn(r,t,a=>{r.put((a||0)+1,t),sc(s)}))}function px(n,t,r){return r===0?[]:an(n,[nc,Wn],Ar,([s,a],c,l)=>{const h=[];s.index(bh).openCursor(void 0,"prev").onsuccess=g=>{const m=g.target.result;if(!m)return l(h);function _(A){if(h.push(A),h.length===r)return l(h);m.continue()}const y=m.primaryKey,E=t.byName(y);if(E)return _(E);jn(a,y,A=>{if(A)return _(A);m.continue()})}})}const ls="";function gx(n,t){const r=new Map;for(const a of n){const c=t(a);for(const l of c){let h=r;for(let m=0;m<l.length;m++){const _=l.charAt(m);let y=h.get(_);y||(y=new Map,h.set(_,y)),h=y}let g=h.get(ls);g||(g=[],h.set(ls,g)),g.push(a)}}return(a,c)=>{let l=r;for(let m=0;m<a.length;m++){const _=a.charAt(m),y=l.get(_);if(y)l=y;else return[]}if(c)return l.get(ls)||[];const h=[],g=[l];for(;g.length;){const _=[...g.shift().entries()].sort((y,E)=>y[0]<E[0]?-1:1);for(const[y,E]of _)y===ls?h.push(...E):g.push(E)}return h}}const mx=["name","url"];function vx(n){const t=n&&Array.isArray(n),r=t&&n.length&&(!n[0]||mx.some(s=>!(s in n[0])));if(!t||r)throw new Error("Custom emojis are in the wrong format")}function ff(n){vx(n);const t=(E,A)=>E.name.toLowerCase()<A.name.toLowerCase()?-1:1,r=n.sort(t),a=gx(n,E=>{const A=new Set;if(E.shortcodes)for(const P of E.shortcodes)for(const T of hr(P))A.add(T);return A}),c=E=>a(E,!0),l=E=>a(E,!1),h=E=>{const A=hr(E),P=A.map((T,L)=>(L<A.length-1?c:l)(T));return Th(P,T=>T.name).sort(t)},g=new Map,m=new Map;for(const E of n){m.set(E.name.toLowerCase(),E);for(const A of E.shortcodes||[])g.set(A.toLowerCase(),E)}return{all:r,search:h,byShortcode:E=>g.get(E.toLowerCase()),byName:E=>m.get(E.toLowerCase())}}const yx=typeof wrappedJSObject<"u";function Kr(n){if(!n)return n;if(yx&&(n=structuredClone(n)),delete n.tokens,n.skinTones){const t=n.skinTones.length;n.skins=Array(t);for(let r=0;r<t;r++)n.skins[r]={tone:n.skinTones[r],unicode:n.skinUnicodes[r],version:n.skinVersions[r]};delete n.skinTones,delete n.skinUnicodes,delete n.skinVersions}return n}function Rh(n){n||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const _x=["annotation","emoji","group","order","version"];function bx(n){if(!n||!Array.isArray(n)||!n[0]||typeof n[0]!="object"||_x.some(t=>!(t in n[0])))throw new Error("Emoji data is in the wrong format")}function Lh(n,t){if(Math.floor(n.status/100)!==2)throw new Error("Failed to fetch: "+t+":  "+n.status)}async function wx(n){const t=await fetch(n,{method:"HEAD"});Lh(t,n);const r=t.headers.get("etag");return Rh(r),r}async function Fa(n){const t=await fetch(n);Lh(t,n);const r=t.headers.get("etag");Rh(r);const s=await t.json();return bx(s),[r,s]}function xx(n){for(var t="",r=new Uint8Array(n),s=r.byteLength,a=-1;++a<s;)t+=String.fromCharCode(r[a]);return t}function Ex(n){for(var t=n.length,r=new ArrayBuffer(t),s=new Uint8Array(r),a=-1;++a<t;)s[a]=n.charCodeAt(a);return r}async function $h(n){const t=JSON.stringify(n);let r=Ex(t);const s=await crypto.subtle.digest("SHA-1",r),a=xx(s);return btoa(a)}async function Sx(n,t){let r,s=await wx(t);if(!s){const a=await Fa(t);s=a[0],r=a[1],s||(s=await $h(r))}await ax(n,t,s)||(r||(r=(await Fa(t))[1]),await kh(n,r,t,s))}async function Ax(n,t){let[r,s]=await Fa(t);r||(r=await $h(s)),await kh(n,s,t,r)}class Cx{constructor({dataSource:t=G2,locale:r=Y2,customEmoji:s=[]}={}){this.dataSource=t,this.locale=r,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=ff(s),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const t=this._db=await Q2(this._dbName);tx(this._dbName,this._clear);const r=this.dataSource;await ox(t)?await Ax(t,r):this._lazyUpdate=Sx(t,r)}async ready(){const t=async()=>(this._ready||(this._ready=this._init()),this._ready);await t(),this._db||await t()}async getEmojiByGroup(t){return ma(t),await this.ready(),lf(await ux(this._db,t)).map(Kr)}async getEmojiBySearchQuery(t){us(t),await this.ready();const r=this._custom.search(t),s=lf(await Oh(this._db,t)).map(Kr);return[...r,...s]}async getEmojiByShortcode(t){us(t),await this.ready();const r=this._custom.byShortcode(t);return r||Kr(await lx(this._db,t))}async getEmojiByUnicodeOrName(t){us(t),await this.ready();const r=this._custom.byName(t);return r||Kr(await fx(this._db,t))}async getPreferredSkinTone(){return await this.ready(),await oc(this._db,yr,uf)||0}async setPreferredSkinTone(t){return ma(t),await this.ready(),hx(this._db,yr,uf,t)}async incrementFavoriteEmojiCount(t){return us(t),await this.ready(),dx(this._db,t)}async getTopFavoriteEmoji(t){return ma(t),await this.ready(),(await px(this._db,this._custom,t)).map(Kr)}set customEmoji(t){this._custom=ff(t)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await ic(this._dbName)}async delete(){await this._shutdown(),await ex(this._dbName)}}const Ua=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map(([n,t,r])=>({id:n,emoji:t,name:r})),va=Ua.slice(1),Tx=2,hf=6,Ih=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function df(n){return n.unicode.includes("‍")}const kx={"🫩":16,"🫨":15.1,"🫠":14,"🥲":13.1,"🥻":12.1,"🥰":11,"🤩":5,"👱‍♀️":4,"🤣":3,"👁️‍🗨️":2,"😀":1,"😐️":.7,"😃":.6},Ox=1e3,Rx="🖐️",Lx=8,$x=["😊","😒","❤️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],Ph='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',Ix=(n,t)=>n<t?-1:n>t?1:0,pf=(n,t)=>{const r=document.createElement("canvas");r.width=r.height=1;const s=r.getContext("2d",{willReadFrequently:!0});return s.textBaseline="top",s.font=`100px ${Ph}`,s.fillStyle=t,s.scale(.01,.01),s.fillText(n,0,0),s.getImageData(0,0,1,1).data},Px=(n,t)=>{const r=[...n].join(","),s=[...t].join(",");return r===s&&!r.startsWith("0,0,0,")};function Bx(n){const t=pf(n,"#000"),r=pf(n,"#fff");return t&&r&&Px(t,r)}function Nx(){const n=Object.entries(kx);try{for(const[t,r]of n)if(Bx(t))return r}catch{}finally{}return n[0][1]}let ya;const _a=()=>(ya||(ya=new Promise(n=>Ih(()=>n(Nx())))),ya),ja=new Map,Dx="️",Mx="\uD83C",Fx="‍",Ux=127995,jx=57339;function qx(n,t){if(t===0)return n;const r=n.indexOf(Fx);return r!==-1?n.substring(0,r)+String.fromCodePoint(Ux+t-1)+n.substring(r):(n.endsWith(Dx)&&(n=n.substring(0,n.length-1)),n+Mx+String.fromCodePoint(jx+t-1))}function Wt(n){n.preventDefault(),n.stopPropagation()}function ba(n,t,r){return t+=n?-1:1,t<0?t=r.length-1:t>=r.length&&(t=0),t}function Bh(n,t){const r=new Set,s=[];for(const a of n){const c=t(a);r.has(c)||(r.add(c),s.push(a))}return s}function Wx(n,t){const r=s=>{const a={};for(const c of s)typeof c.tone=="number"&&c.version<=t&&(a[c.tone]=c.unicode);return a};return n.map(({unicode:s,skins:a,shortcodes:c,url:l,name:h,category:g,annotation:m})=>({unicode:s,name:h,shortcodes:c,url:l,category:g,annotation:m,id:s||h,skins:a&&r(a)}))}const ys=requestAnimationFrame;let zx=typeof ResizeObserver=="function";function Hx(n,t,r){let s;zx?(s=new ResizeObserver(r),s.observe(n)):ys(r),t.addEventListener("abort",()=>{s&&s.disconnect()})}function gf(n){{const t=document.createRange();return t.selectNode(n.firstChild),t.getBoundingClientRect().width}}let wa;function Kx(n,t,r){let s=!0;for(const a of n){const c=r(a),l=gf(c);typeof wa>"u"&&(wa=gf(t));const h=l/1.8<wa;ja.set(a.unicode,h),h||(s=!1)}return s}function Vx(n){return Bh(n,t=>t)}function Gx(n){n&&(n.scrollTop=0)}function ei(n,t,r){let s=n.get(t);return s||(s=r(),n.set(t,s)),s}function mf(n){return""+n}function Yx(n){const t=document.createElement("template");return t.innerHTML=n,t}const Xx=new WeakMap,Zx=new WeakMap,Jx=Symbol("un-keyed"),Qx="replaceChildren"in Element.prototype;function eE(n,t){Qx?n.replaceChildren(...t):(n.innerHTML="",n.append(...t))}function tE(n,t){let r=n.firstChild,s=0;for(;r;){if(t[s]!==r)return!0;r=r.nextSibling,s++}return s!==t.length}function nE(n,t){const{targetNode:r}=t;let{targetParentNode:s}=t,a=!1;s?a=tE(s,n):(a=!0,t.targetNode=void 0,t.targetParentNode=s=r.parentNode),a&&eE(s,n)}function rE(n,t){for(const r of t){const{targetNode:s,currentExpression:a,binding:{expressionIndex:c,attributeName:l,attributeValuePre:h,attributeValuePost:g}}=r,m=n[c];if(a!==m)if(r.currentExpression=m,l)s.setAttribute(l,h+mf(m)+g);else{let _;Array.isArray(m)?nE(m,r):m instanceof Element?(_=m,s.replaceWith(_)):s.nodeValue=mf(m),_&&(r.targetNode=_)}}}function iE(n){let t="",r=!1,s=!1,a=-1;const c=new Map,l=[];for(let g=0,m=n.length;g<m;g++){const _=n[g];if(t+=_,g===m-1)break;for(let B=0;B<_.length;B++)switch(_.charAt(B)){case"<":{_.charAt(B+1)==="/"?l.pop():(r=!0,l.push(++a));break}case">":{r=!1,s=!1;break}case"=":{s=!0;break}}const y=l[l.length-1],E=ei(c,y,()=>[]);let A,P,T;if(s){const B=/(\S+)="?([^"=]*)$/.exec(_);A=B[1],P=B[2],T=/^[^">]*/.exec(n[g+1])[0]}const L={attributeName:A,attributeValuePre:P,attributeValuePost:T,expressionIndex:g};E.push(L),!r&&!s&&(t+=" ")}return{template:Yx(t),elementsToBindings:c}}function vf(n,t,r){for(let s=0;s<n.length;s++){const a=n[s],c=a.attributeName?t:t.firstChild,l={binding:a,targetNode:c,targetParentNode:void 0,currentExpression:void 0};r.push(l)}}function sE(n,t){const r=[];let s;if(t.size===1&&(s=t.get(0)))vf(s,n,r);else{const a=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);let c=n,l=-1;do{const h=t.get(++l);h&&vf(h,c,r)}while(c=a.nextNode())}return r}function oE(n){const{template:t,elementsToBindings:r}=ei(Xx,n,()=>iE(n)),s=t.cloneNode(!0).content.firstElementChild,a=sE(s,r);return function(l){return rE(l,a),s}}function aE(n){const t=ei(Zx,n,()=>new Map);let r=Jx;function s(c,...l){const h=ei(t,c,()=>new Map);return ei(h,r,()=>oE(c))(l)}function a(c,l,h){return c.map((g,m)=>{const _=r;r=h(g);try{return l(g,m)}finally{r=_}})}return{map:a,html:s}}function cE(n,t,r,s,a,c,l,h,g){const{labelWithSkin:m,titleForEmoji:_,unicodeWithSkin:y}=r,{html:E,map:A}=aE(t);function P($,D,W){return A($,(H,Q)=>E`<button role="${D?"option":"menuitem"}" aria-selected="${D?Q===t.activeSearchItem:""}" aria-label="${m(H,t.currentSkinTone)}" title="${_(H)}" class="${"emoji"+(D&&Q===t.activeSearchItem?" active":"")+(H.unicode?"":" custom-emoji")}" id="${`${W}-${H.id}`}" style="${H.unicode?"":`--custom-emoji-background: url(${JSON.stringify(H.url)})`}">${H.unicode?y(H,t.currentSkinTone):""}</button>`,H=>`${W}-${H.id}`)}const L=E`<section data-ref="rootElement" class="picker" aria-label="${t.i18n.regionLabel}" style="${t.pickerStyle||""}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${t.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!!(t.searchMode&&t.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${t.activeSearchItemId?`emo-${t.activeSearchItemId}`:""}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${t.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${t.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${t.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${t.skinTonePickerExpanded?"hide-focus":""}" aria-label="${t.skinToneButtonLabel}" title="${t.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${t.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${t.skinToneButtonText||""}</button></div><span id="skintone-description" class="sr-only">${t.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${t.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${t.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${t.i18n.skinTonesLabel}" aria-activedescendant="skintone-${t.activeSkinTone}" aria-hidden="${!t.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${A(t.skinTones,($,D)=>E`<div id="skintone-${D}" class="emoji ${D===t.activeSkinTone?"active":""}" aria-selected="${D===t.activeSkinTone}" role="option" title="${t.i18n.skinTones[D]}" aria-label="${t.i18n.skinTones[D]}">${$}</div>`,$=>$)}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${t.groups.length},1fr)" aria-label="${t.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${A(t.groups,$=>E`<button role="tab" class="nav-button" aria-controls="tab-${$.id}" aria-label="${t.i18n.categories[$.name]}" aria-selected="${!t.searchMode&&t.currentGroup.id===$.id}" title="${t.i18n.categories[$.name]}" data-group-id="${$.id}"><div class="nav-emoji emoji">${$.emoji}</div></button>`,$=>$.id)}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(t.isRtl?-1:1)*t.currentGroupIndex*100}%)"></div></div><div class="message ${t.message?"":"gone"}" role="alert" aria-live="polite">${t.message||""}</div><div data-ref="tabpanelElement" class="tabpanel ${!t.databaseLoaded||t.message?"gone":""}" role="${t.searchMode?"region":"tabpanel"}" aria-label="${t.searchMode?t.i18n.searchResultsLabel:t.i18n.categories[t.currentGroup.name]}" id="${t.searchMode?"":`tab-${t.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${A(t.currentEmojisWithCategories,($,D)=>E`<div><div id="menu-label-${D}" class="category ${t.currentEmojisWithCategories.length===1&&t.currentEmojisWithCategories[0].category===""?"gone":""}" aria-hidden="true">${t.searchMode?t.i18n.searchResultsLabel:$.category?$.category:t.currentEmojisWithCategories.length>1?t.i18n.categories.custom:t.i18n.categories[t.currentGroup.name]}</div><div class="emoji-menu ${D!==0&&!t.searchMode&&t.currentGroup.id===-1?"visibility-auto":""}" style="${`--num-rows: ${Math.ceil($.emojis.length/t.numColumns)}`}" data-action="updateOnIntersection" role="${t.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${D}" id="${t.searchMode?"search-results":""}">${P($.emojis,t.searchMode,"emo")}</div></div>`,$=>$.category)}</div></div><div class="favorites onscreen emoji-menu ${t.message?"gone":""}" role="menu" aria-label="${t.i18n.favoritesLabel}" data-on-click="onEmojiClick">${P(t.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">😀</button></section>`,B=($,D)=>{for(const W of n.querySelectorAll(`[${$}]`))D(W,W.getAttribute($))};if(g){n.appendChild(L);for(const $ of["click","focusout","input","keydown","keyup"])B(`data-on-${$}`,(D,W)=>{D.addEventListener($,s[W])});B("data-ref",($,D)=>{c[D]=$}),l.addEventListener("abort",()=>{n.removeChild(L)})}B("data-action",($,D)=>{let W=h.get(D);W||h.set(D,W=new WeakSet),W.has($)||(W.add($),a[D]($))})}const $s=typeof queueMicrotask=="function"?queueMicrotask:n=>Promise.resolve().then(n);function uE(n){let t=!1,r;const s=new Map,a=new Set;let c;const l=()=>{if(t)return;const m=[...a];a.clear();try{for(const _ of m)_()}finally{c=!1,a.size&&(c=!0,$s(l))}},h=new Proxy({},{get(m,_){if(r){let y=s.get(_);y||(y=new Set,s.set(_,y)),y.add(r)}return m[_]},set(m,_,y){if(m[_]!==y){m[_]=y;const E=s.get(_);if(E){for(const A of E)a.add(A);c||(c=!0,$s(l))}}return!0}}),g=m=>{const _=()=>{const y=r;r=_;try{return m()}finally{r=y}};return _()};return n.addEventListener("abort",()=>{t=!0}),{state:h,createEffect:g}}function xa(n,t,r){if(n.length!==t.length)return!1;for(let s=0;s<n.length;s++)if(!r(n[s],t[s]))return!1;return!0}const yf=new WeakMap;function lE(n,t,r){{const s=n.closest(".tabpanel");let a=yf.get(s);a||(a=new IntersectionObserver(r,{root:s,rootMargin:"50% 0px 50% 0px",threshold:0}),yf.set(s,a),t.addEventListener("abort",()=>{a.disconnect()})),a.observe(n)}}const Ea=[],{assign:fs}=Object;function fE(n,t){const r={},s=new AbortController,a=s.signal,{state:c,createEffect:l}=uE(a),h=new Map;fs(c,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),fs(c,t),fs(c,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:Lx,isRtl:!1,currentGroupIndex:0,groups:va,databaseLoaded:!1,activeSearchItemId:void 0}),l(()=>{c.currentGroup!==c.groups[c.currentGroupIndex]&&(c.currentGroup=c.groups[c.currentGroupIndex])});const g=k=>{n.getElementById(k).focus()},m=k=>n.getElementById(`emo-${k.id}`),_=(k,U)=>{r.rootElement.dispatchEvent(new CustomEvent(k,{detail:U,bubbles:!0,composed:!0}))},y=(k,U)=>k.id===U.id,E=(k,U)=>{const{category:Y,emojis:te}=k,{category:Me,emojis:Se}=U;return Y!==Me?!1:xa(te,Se,y)},A=k=>{xa(c.currentEmojis,k,y)||(c.currentEmojis=k)},P=k=>{c.searchMode!==k&&(c.searchMode=k)},T=k=>{xa(c.currentEmojisWithCategories,k,E)||(c.currentEmojisWithCategories=k)},L=(k,U)=>U&&k.skins&&k.skins[U]||k.unicode,D={labelWithSkin:(k,U)=>Vx([k.name||L(k,U),k.annotation,...k.shortcodes||Ea].filter(Boolean)).join(", "),titleForEmoji:k=>k.annotation||(k.shortcodes||Ea).join(", "),unicodeWithSkin:L},W={onClickSkinToneButton:Ms,onEmojiClick:ze,onNavClick:vt,onNavKeydown:Mt,onSearchKeydown:Xe,onSkinToneOptionsClick:zn,onSkinToneOptionsFocusOut:Fs,onSkinToneOptionsKeydown:cn,onSkinToneOptionsKeyup:Hn,onSearchInput:An},H={calculateEmojiGridStyle:Te,updateOnIntersection:Pe};let Q=!0;l(()=>{cE(n,c,D,W,H,r,a,h,Q),Q=!1}),c.emojiVersion||_a().then(k=>{k||(c.message=c.i18n.emojiUnsupportedMessage)}),l(()=>{async function k(){let U=!1;const Y=setTimeout(()=>{U=!0,c.message=c.i18n.loadingMessage},Ox);try{await c.database.ready(),c.databaseLoaded=!0}catch(te){console.error(te),c.message=c.i18n.networkErrorMessage}finally{clearTimeout(Y),U&&(U=!1,c.message="")}}c.database&&k()}),l(()=>{c.pickerStyle=`
      --num-groups: ${c.groups.length}; 
      --indicator-opacity: ${c.searchMode?0:1}; 
      --num-skintones: ${hf};`}),l(()=>{c.customEmoji&&c.database&&se()}),l(()=>{c.customEmoji&&c.customEmoji.length?c.groups!==Ua&&(c.groups=Ua):c.groups!==va&&(c.currentGroupIndex&&c.currentGroupIndex--,c.groups=va)}),l(()=>{async function k(){c.databaseLoaded&&(c.currentSkinTone=await c.database.getPreferredSkinTone())}k()}),l(()=>{c.skinTones=Array(hf).fill().map((k,U)=>qx(c.skinToneEmoji,U))}),l(()=>{c.skinToneButtonText=c.skinTones[c.currentSkinTone]}),l(()=>{c.skinToneButtonLabel=c.i18n.skinToneLabel.replace("{skinTone}",c.i18n.skinTones[c.currentSkinTone])}),l(()=>{async function k(){const{database:U}=c,Y=(await Promise.all($x.map(te=>U.getEmojiByUnicodeOrName(te)))).filter(Boolean);c.defaultFavoriteEmojis=Y}c.databaseLoaded&&k()});function se(){const{customEmoji:k,database:U}=c,Y=k||Ea;U.customEmoji!==Y&&(U.customEmoji=Y)}l(()=>{async function k(){se();const{database:U,defaultFavoriteEmojis:Y,numColumns:te}=c,Me=await U.getTopFavoriteEmoji(te),Se=await ce(Bh([...Me,...Y],Ve=>Ve.unicode||Ve.name).slice(0,te));c.currentFavorites=Se}c.databaseLoaded&&c.defaultFavoriteEmojis&&k()});function Te(k){Hx(k,a,()=>{{const U=getComputedStyle(r.rootElement),Y=parseInt(U.getPropertyValue("--num-columns"),10),te=U.getPropertyValue("direction")==="rtl";c.numColumns=Y,c.isRtl=te}})}function Pe(k){lE(k,a,U=>{for(const{target:Y,isIntersecting:te}of U)Y.classList.toggle("onscreen",te)})}l(()=>{async function k(){const{searchText:U,currentGroup:Y,databaseLoaded:te,customEmoji:Me}=c;if(!te)c.currentEmojis=[],c.searchMode=!1;else if(U.length>=Tx){const Se=await De(U);c.searchText===U&&(A(Se),P(!0))}else{const{id:Se}=Y;if(Se!==-1||Me&&Me.length){const Ve=await ve(Se);c.currentGroup.id===Se&&(A(Ve),P(!1))}}}k()});const ae=()=>{ys(()=>Gx(r.tabpanelElement))};l(()=>{const{currentEmojis:k,emojiVersion:U}=c,Y=k.filter(te=>te.unicode).filter(te=>df(te)&&!ja.has(te.unicode));if(!U&&Y.length)A(k),ys(()=>ye(Y));else{const te=U?k:k.filter(me);A(te),ae()}});function ye(k){Kx(k,r.baselineEmoji,m)?ae():c.currentEmojis=[...c.currentEmojis]}function me(k){return!k.unicode||!df(k)||ja.get(k.unicode)}async function ke(k){const U=c.emojiVersion||await _a();return k.filter(({version:Y})=>!Y||Y<=U)}async function ce(k){return Wx(k,c.emojiVersion||await _a())}async function ve(k){const U=k===-1?c.customEmoji:await c.database.getEmojiByGroup(k);return ce(await ke(U))}async function De(k){return ce(await ke(await c.database.getEmojiBySearchQuery(k)))}l(()=>{}),l(()=>{function k(){const{searchMode:Y,currentEmojis:te}=c;if(Y)return[{category:"",emojis:te}];const Me=new Map;for(const Se of te){const Ve=Se.category||"";let Kn=Me.get(Ve);Kn||(Kn=[],Me.set(Ve,Kn)),Kn.push(Se)}return[...Me.entries()].map(([Se,Ve])=>({category:Se,emojis:Ve})).sort((Se,Ve)=>c.customCategorySorting(Se.category,Ve.category))}const U=k();T(U)}),l(()=>{c.activeSearchItemId=c.activeSearchItem!==-1&&c.currentEmojis[c.activeSearchItem].id}),l(()=>{const{rawSearchText:k}=c;Ih(()=>{c.searchText=(k||"").trim(),c.activeSearchItem=-1})});function Xe(k){if(!c.searchMode||!c.currentEmojis.length)return;const U=Y=>{Wt(k),c.activeSearchItem=ba(Y,c.activeSearchItem,c.currentEmojis)};switch(k.key){case"ArrowDown":return U(!1);case"ArrowUp":return U(!0);case"Enter":if(c.activeSearchItem===-1)c.activeSearchItem=0;else return Wt(k),kt(c.currentEmojis[c.activeSearchItem].id)}}function vt(k){const{target:U}=k,Y=U.closest(".nav-button");if(!Y)return;const te=parseInt(Y.dataset.groupId,10);r.searchElement.value="",c.rawSearchText="",c.searchText="",c.activeSearchItem=-1,c.currentGroupIndex=c.groups.findIndex(Me=>Me.id===te)}function Mt(k){const{target:U,key:Y}=k,te=Me=>{Me&&(Wt(k),Me.focus())};switch(Y){case"ArrowLeft":return te(U.previousElementSibling);case"ArrowRight":return te(U.nextElementSibling);case"Home":return te(U.parentElement.firstElementChild);case"End":return te(U.parentElement.lastElementChild)}}async function kt(k){const U=await c.database.getEmojiByUnicodeOrName(k),Y=[...c.currentEmojis,...c.currentFavorites].find(Me=>Me.id===k),te=Y.unicode&&L(Y,c.currentSkinTone);await c.database.incrementFavoriteEmojiCount(k),_("emoji-click",{emoji:U,skinTone:c.currentSkinTone,...te&&{unicode:te},...Y.name&&{name:Y.name}})}async function ze(k){const{target:U}=k;if(!U.classList.contains("emoji"))return;Wt(k);const Y=U.id.substring(4);kt(Y)}function Ft(k){c.currentSkinTone=k,c.skinTonePickerExpanded=!1,g("skintone-button"),_("skin-tone-change",{skinTone:k}),c.database.setPreferredSkinTone(k)}function zn(k){const{target:{id:U}}=k,Y=U&&U.match(/^skintone-(\d)/);if(!Y)return;Wt(k);const te=parseInt(Y[1],10);Ft(te)}function Ms(k){c.skinTonePickerExpanded=!c.skinTonePickerExpanded,c.activeSkinTone=c.currentSkinTone,c.skinTonePickerExpanded&&(Wt(k),ys(()=>g("skintone-list")))}l(()=>{c.skinTonePickerExpanded?r.skinToneDropdown.addEventListener("transitionend",()=>{c.skinTonePickerExpandedAfterAnimation=!0},{once:!0}):c.skinTonePickerExpandedAfterAnimation=!1});function cn(k){if(!c.skinTonePickerExpanded)return;const U=async Y=>{Wt(k),c.activeSkinTone=Y};switch(k.key){case"ArrowUp":return U(ba(!0,c.activeSkinTone,c.skinTones));case"ArrowDown":return U(ba(!1,c.activeSkinTone,c.skinTones));case"Home":return U(0);case"End":return U(c.skinTones.length-1);case"Enter":return Wt(k),Ft(c.activeSkinTone);case"Escape":return Wt(k),c.skinTonePickerExpanded=!1,g("skintone-button")}}function Hn(k){if(c.skinTonePickerExpanded)switch(k.key){case" ":return Wt(k),Ft(c.activeSkinTone)}}async function Fs(k){const{relatedTarget:U}=k;(!U||U.id!=="skintone-list")&&(c.skinTonePickerExpanded=!1)}function An(k){c.rawSearchText=k.target.value}return{$set(k){fs(c,k)},$destroy(){s.abort()}}}const hE="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",dE="en";var pE={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}},gE=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}';const Nh=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],mE=`:host{--emoji-font-family:${Ph}}`;class Dh extends HTMLElement{constructor(t){super(),this.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=gE+mE,this.shadowRoot.appendChild(r),this._ctx={locale:dE,dataSource:hE,skinToneEmoji:Rx,customCategorySorting:Ix,customEmoji:null,i18n:pE,emojiVersion:null,...t};for(const s of Nh)s!=="database"&&Object.prototype.hasOwnProperty.call(this,s)&&(this._ctx[s]=this[s],delete this[s]);this._dbFlush()}connectedCallback(){this._cmp||(this._cmp=fE(this.shadowRoot,this._ctx))}disconnectedCallback(){$s(()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:t}=this._ctx;t.close().catch(r=>console.error(r))}})}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(t,r,s){this._set(t.replace(/-([a-z])/g,(a,c)=>c.toUpperCase()),t==="emoji-version"?parseFloat(s):s)}_set(t,r){this._ctx[t]=r,this._cmp&&this._cmp.$set({[t]:r}),["locale","dataSource"].includes(t)&&this._dbFlush()}_dbCreate(){const{locale:t,dataSource:r,database:s}=this._ctx;(!s||s.locale!==t||s.dataSource!==r)&&this._set("database",new Cx({locale:t,dataSource:r}))}_dbFlush(){$s(()=>this._dbCreate())}}const Mh={};for(const n of Nh)Mh[n]={get(){return n==="database"&&this._dbCreate(),this._ctx[n]},set(t){if(n==="database")throw new Error("database is read-only");this._set(n,t)}};Object.defineProperties(Dh.prototype,Mh);customElements.get("emoji-picker")||customElements.define("emoji-picker",Dh);var vE=X('<div class="flex items-center flex-col h-max "><h1 class="fixed bg-base-200 py-2 w-full text-center z-20">@</h1><div class=w-full><div class="overflow-y-scroll h-[80vh] my-10 py-5 lg:mx-32 lg:bg-neutral"></div></div><div class="fixed bottom-0 left-0 w-full"><div class="flex justify-center items-center gap-2 mb-2 px-2"><div class="dropdown dropdown-top"><div tabindex=0 role=button class="btn ">😄</div><div tabindex=0 class="dropdown-content menu bg-base-100 rounded-box z-1 w-52 p-2 shadow-sm"><emoji-picker></emoji-picker></div></div><input type=text name=message placeholder=Message class="input input-info text-lg"><button class="btn btn-success">',!0,!1,!1),yE=X("<div><div>");function _E(){const n=h_(),[t,{refetch:r}]=_n(n.username,i2),{currentUser:s}=Sr(),[a,c]=ge(""),[l,h]=ge([]);Re(()=>{t.error&&Z.error(t.error),h(t()||[])}),Re(()=>{const y=`recieve-message:${s.username}`;console.log("Event name",y),En.on(y,async([E,A,P,T])=>{console.log("Tiggerred?"),await r();let L={content:A,sent_by:P,recv_by:s.username,sent_at:T,id:""};h(B=>(B.push(L),B))})});async function g(y){y.preventDefault(),a()&&(En.emit("send-message",[s.username,n.username,a()]),await r(),c(""))}const[m,_]=ge();return Re(()=>{l();const y=m();y&&(y.scrollTop=y.scrollHeight)}),(()=>{var y=vE(),E=y.firstChild;E.firstChild;var A=E.nextSibling,P=A.firstChild,T=A.nextSibling,L=T.firstChild,B=L.firstChild,$=B.firstChild,D=$.nextSibling,W=D.firstChild,H=B.nextSibling,Q=H.nextSibling;return q(E,()=>n.username,null),dr(_,P),q(P,N(Dn,{get each(){return l()||[]},children:se=>(()=>{var Te=yE(),Pe=Te.firstChild;return q(Pe,()=>se.content),we(ae=>{var ye=`chat ${se.sent_by===s.id?"chat-end":"chat-start"}`,me=`chat-bubble ${se.sent_by===s.id?"chat-bubble-info":"chat-bubble-accent"}`;return ye!==ae.e&&xn(Te,ae.e=ye),me!==ae.t&&xn(Pe,ae.t=me),ae},{e:void 0,t:void 0}),Te})()})),dr(se=>se.addEventListener("emoji-click",Te=>c(Pe=>Pe+Te.detail.unicode)),W),W._$owner=_r(),H.addEventListener("change",se=>{c(se.target.value)}),Q.$$click=async se=>{await g(se)},q(Q,N(U2,{})),we(()=>H.value=a()),y})()}oi(["click"]);const Fh=document.getElementById("root");if(!Fh)throw new Error("root element not found");Ef(()=>Ww.themeChange());Ky(()=>N(N_,{get children(){return[N(it,{path:"/",component:nf,get children(){return[N(it,{path:"/",component:Nb}),N(it,{path:"/about",component:fh})]}}),N(it,{path:"/auth",component:nf,get children(){return[N(it,{path:"/login",component:Aw}),N(it,{path:"/register",component:Pw}),N(it,{path:"/verify",component:Vw})]}}),N(it,{path:"/app",component:R2,get children(){return[N(it,{path:"/",component:()=>(ai()("/app/chats"),[])}),N(it,{path:"/chats",component:f2}),N(it,{path:"/chats/:username",component:_E}),N(it,{path:"/contacts",component:x2}),N(it,{path:"/calls",component:D2}),N(it,{path:"/settings",component:F2})]}}),N(it,{path:"404",component:Uw})]}}),Fh);
